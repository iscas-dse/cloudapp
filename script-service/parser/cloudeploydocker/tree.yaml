--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::default::docker::run"
  namespace: "cloudeploy::default::docker"
  arguments: 
    hostentries: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 2
      file: 
      children: []
    disable_network: !ruby/object:Puppet::Parser::AST::Boolean
      line: 3
      file: 
      value: false
    restart_service: !ruby/object:Puppet::Parser::AST::Boolean
      line: 4
      file: 
      value: true
    ports: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 5
      file: 
      children: []
    lxc_conf: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 6
      file: 
      children: []
    running: !ruby/object:Puppet::Parser::AST::Boolean
      line: 7
      file: 
      value: true
    hostname: !ruby/object:Puppet::Parser::AST::Boolean
      line: 8
      file: 
      value: false
    dns_search: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 9
      file: 
      children: []
    links: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 10
      file: 
      children: []
    memory_limit: !ruby/object:Puppet::Parser::AST::String
      line: 11
      file: 
      value: "0b"
    net: !ruby/object:Puppet::Parser::AST::String
      line: 12
      file: 
      value: bridge
    use_name: !ruby/object:Puppet::Parser::AST::Boolean
      line: 13
      file: 
      value: false
    image: 
    depends: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 15
      file: 
      children: []
    socket_connect: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 16
      file: 
      children: []
    restart: !ruby/object:Puppet::Parser::AST::Undef
      line: 17
      file: 
      value: !ruby/sym undef
    volumes: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 18
      file: 
      children: []
    dns: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 19
      file: 
      children: []
    cpuset: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 20
      file: 
      children: []
    pull_on_start: !ruby/object:Puppet::Parser::AST::Boolean
      line: 21
      file: 
      value: false
    env: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 22
      file: 
      children: []
    expose: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 23
      file: 
      children: []
    command: !ruby/object:Puppet::Parser::AST::Undef
      line: 24
      file: 
      value: !ruby/sym undef
    privileged: !ruby/object:Puppet::Parser::AST::Boolean
      line: 25
      file: 
      value: false
    tty: !ruby/object:Puppet::Parser::AST::Boolean
      line: 26
      file: 
      value: false
    detach: !ruby/object:Puppet::Parser::AST::Undef
      line: 27
      file: 
      value: !ruby/sym undef
    volumes_from: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 28
      file: 
      children: []
    extra_parameters: !ruby/object:Puppet::Parser::AST::Undef
      line: 29
      file: 
      value: !ruby/sym undef
    username: !ruby/object:Puppet::Parser::AST::Boolean
      line: 30
      file: 
      value: false
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 65
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 31
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 31
          file: 
          value: vdocker_run_node_98732372
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 63
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::Concat
              line: 32
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 32
                  file: 
                  value: docker_run_node_
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 32
                  file: 
                  value: name
                - !ruby/object:Puppet::Parser::AST::String
                  line: 32
                  file: 
                  value: ""
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 61
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 33
                  file: 
                  value: hostentries
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 33
                  file: 
                  value: hostentries
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 34
                  file: 
                  value: disable_network
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 34
                  file: 
                  value: disable_network
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 35
                  file: 
                  value: restart_service
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 35
                  file: 
                  value: restart_service
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 36
                  file: 
                  value: ports
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 36
                  file: 
                  value: ports
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 37
                  file: 
                  value: lxc_conf
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 37
                  file: 
                  value: lxc_conf
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 38
                  file: 
                  value: running
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 38
                  file: 
                  value: running
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 39
                  file: 
                  value: hostname
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 39
                  file: 
                  value: hostname
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 40
                  file: 
                  value: dns_search
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 40
                  file: 
                  value: dns_search
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 41
                  file: 
                  value: links
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 41
                  file: 
                  value: links
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 42
                  file: 
                  value: memory_limit
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 42
                  file: 
                  value: memory_limit
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 43
                  file: 
                  value: net
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 43
                  file: 
                  value: net
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 44
                  file: 
                  value: use_name
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 44
                  file: 
                  value: use_name
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 45
                  file: 
                  value: image
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 45
                  file: 
                  value: image
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 46
                  file: 
                  value: depends
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 46
                  file: 
                  value: depends
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 47
                  file: 
                  value: socket_connect
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 47
                  file: 
                  value: socket_connect
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 48
                  file: 
                  value: restart
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 48
                  file: 
                  value: restart
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 49
                  file: 
                  value: volumes
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 49
                  file: 
                  value: volumes
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 50
                  file: 
                  value: dns
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 50
                  file: 
                  value: dns
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 51
                  file: 
                  value: cpuset
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 51
                  file: 
                  value: cpuset
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 52
                  file: 
                  value: pull_on_start
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 52
                  file: 
                  value: pull_on_start
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 53
                  file: 
                  value: env
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 53
                  file: 
                  value: env
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 54
                  file: 
                  value: expose
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 54
                  file: 
                  value: expose
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 55
                  file: 
                  value: command
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 55
                  file: 
                  value: command
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 56
                  file: 
                  value: privileged
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 56
                  file: 
                  value: privileged
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 57
                  file: 
                  value: tty
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 57
                  file: 
                  value: tty
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 58
                  file: 
                  value: detach
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 58
                  file: 
                  value: detach
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 59
                  file: 
                  value: volumes_from
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 59
                  file: 
                  value: volumes_from
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 60
                  file: 
                  value: extra_parameters
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 60
                  file: 
                  value: extra_parameters
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 61
                  file: 
                  value: username
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 61
                  file: 
                  value: username
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 69
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 65
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 65
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 65
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 65
                  file: 
                  type: "Docker::Run"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 65
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 65
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 65
                            file: 
                            value: docker_run_node_
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 65
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 65
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 67
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 66
              file: 
              doc: ""
              name: create_resources
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 66
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 66
                    file: 
                    value: "docker::run"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 66
                    file: 
                    value: vdocker_run_node_98732372
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: cloudeploydocker
  namespace: cloudeploydocker
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 26
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 24
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 18
          file: 
          doc: ""
          type: "cloudeploydocker::tomcat::instance"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 18
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 18
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 14
                  file: 
                  value: createTomcatInstance
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 15
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 15
                      file: 
                      param: instance_name
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 15
                        file: 
                        value: freeCMS_Tomcat
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 16
                      file: 
                      param: links_container_name
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 16
                        file: 
                        value: freeCMS_MySQL
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 17
                      file: 
                      param: links_alias_name
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 17
                        file: 
                        value: freecmsMysql
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 24
          file: 
          doc: ""
          type: "cloudeploydocker::tomcat::deploywar"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 24
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 24
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 20
                  file: 
                  value: deployWar
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 21
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 21
                      file: 
                      param: tomcat_instance_name
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 21
                        file: 
                        value: freeCMS_Tomcat
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 22
                      file: 
                      param: war_name
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 22
                        file: 
                        value: freecms.war
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 23
                      file: 
                      param: war_source
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 23
                        file: 
                        value: "http://133.133.133.58:8080/cloudeploy/v2/files/9df7380207670d25836f47124ccd13bf?name=freecms.war"
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 39
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 33
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 28
            file: 
            doc: ""
            type: "cloudeploydocker::mysql::instance"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 28
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 28
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 26
                    file: 
                    value: createMysqlInstance
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 28
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 27
                        file: 
                        param: instance_name
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 27
                          file: 
                          value: freeCMS_MySQL
                        children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 33
            file: 
            doc: ""
            type: "cloudeploydocker::mysql::server"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 33
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 33
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 30
                    file: 
                    value: startMySQLInstance
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 31
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 31
                        file: 
                        param: mysql_instance_name
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 31
                          file: 
                          value: freeCMS_MySQL
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 32
                        file: 
                        param: running
                        value: !ruby/object:Puppet::Parser::AST::Boolean
                          line: 32
                          file: 
                          value: true
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 39
          file: 
          doc: ""
          type: "cloudeploydocker::mysql::runsql"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 39
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 39
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 35
                  file: 
                  value: provisioningMySQL
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 36
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 36
                      file: 
                      param: instance_name
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 36
                        file: 
                        value: freeCMS_MySQL
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 37
                      file: 
                      param: source
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 37
                        file: 
                        value: "http://133.133.133.58:8080/cloudeploy/v2/files/55a270b2ca14b3cd171b7059cdd162c7?name=freecms.sql"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 38
                      file: 
                      param: password
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 38
                        file: 
                        value: root
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 45
        file: 
        doc: ""
        type: "cloudeploydocker::tomcat::server"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 45
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 45
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 41
                file: 
                value: startTomcat
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 42
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: tomcat_instance_name
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 42
                      file: 
                      value: freeCMS_Tomcat
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 43
                    file: 
                    param: running
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 43
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 44
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 44
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceReference
                          line: 44
                          file: 
                          type: "Cloudeploydocker::Mysql::Runsql"
                          title: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 44
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 44
                                file: 
                                value: provisioningMySQL
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceReference
                          line: 44
                          file: 
                          type: "Cloudeploydocker::Tomcat::Deploywar"
                          title: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 44
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 44
                                file: 
                                value: deployWar
                          children: []
                    children: []
              children: []
        children: []
  doc: "Class: cloudeploydocker\n\nThis module manages cloudeploydocker\n\nParameters: none\n\nActions:\n\nRequires: see Modulefile\n\nSample Usage:\n\n"
  line: 13
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::mysql::instance"
  namespace: "cloudeploydocker::mysql"
  arguments: 
    instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: freeCMS_MySQL
    port: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "3406"
    image: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: iscas/tomcat
    registry: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: docker.io
    imagetag: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: latest
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 10
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 8
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 8
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 10
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 10
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 10
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 10
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 10
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 10
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 10
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 10
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 11
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 11
          file: 
          value: mnt_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 11
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 11
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 11
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 12
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 12
          file: 
          value: "_image"
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 12
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 12
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 12
              file: 
              value: registry
            - !ruby/object:Puppet::Parser::AST::String
              line: 12
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 12
              file: 
              value: image
            - !ruby/object:Puppet::Parser::AST::String
              line: 12
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 17
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 13
          file: 
          value: imagetag
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 15
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 14
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 14
                file: 
                value: "_create_images"
              value: !ruby/object:Puppet::Parser::AST::Concat
                line: 14
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 14
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 14
                    file: 
                    value: registry
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 14
                    file: 
                    value: /
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 14
                    file: 
                    value: image
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 14
                    file: 
                    value: ":"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 14
                    file: 
                    value: imagetag
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 14
                    file: 
                    value: ""
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 17
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 17
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 16
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 16
                  file: 
                  value: "_create_images"
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 16
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 16
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 16
                      file: 
                      value: registry
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 16
                      file: 
                      value: /
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 16
                      file: 
                      value: image
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 16
                      file: 
                      value: ":latest"
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 32
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 22
          file: 
          doc: ""
          type: "docker::image"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 22
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 22
                file: 
                title: !ruby/object:Puppet::Parser::AST::Variable
                  line: 18
                  file: 
                  value: "_image"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 19
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 19
                      file: 
                      param: image_tag
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 19
                        file: 
                        value: imagetag
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 20
                      file: 
                      param: image
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 20
                        file: 
                        value: "_image"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 21
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 21
                        file: 
                        value: present
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 32
          file: 
          doc: ""
          type: "docker::run"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 32
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 32
                file: 
                title: !ruby/object:Puppet::Parser::AST::Variable
                  line: 24
                  file: 
                  value: "_instance_name"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 25
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 25
                      file: 
                      param: image
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 25
                        file: 
                        value: "_create_images"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 27
                      file: 
                      param: expose
                      value: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 27
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 27
                            file: 
                            value: "3306"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 28
                      file: 
                      param: ports
                      value: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 28
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Concat
                            line: 28
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 28
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 28
                                file: 
                                value: port
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 28
                                file: 
                                value: ":3306"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 31
                      file: 
                      param: require
                      value: !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 31
                        file: 
                        type: File
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 31
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 31
                              file: 
                              value: mnt_dir
                        children: []
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 36
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 36
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 36
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 34
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 34
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 34
                    file: 
                    value: mnt_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 34
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 35
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 35
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 35
                      file: 
                      value: directory
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::mysql::runsql"
  namespace: "cloudeploydocker::mysql"
  arguments: 
    instance_name: !ruby/object:Puppet::Parser::AST::Variable
      line: 2
      file: 
      value: "cloudeploydocker::mysql::instance::instance_name"
    source: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: ""
    password: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: root
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 7
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 6
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 7
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 6
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 7
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 7
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 7
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 7
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 7
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 7
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 7
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 7
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 8
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 8
          file: 
          value: startScript
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 8
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 8
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 8
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 8
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 8
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 8
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 8
              file: 
              value: name
            - !ruby/object:Puppet::Parser::AST::String
              line: 8
              file: 
              value: ".sh"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 9
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 9
          file: 
          value: sqlScript
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 9
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 9
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 9
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 9
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 9
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 9
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 9
              file: 
              value: name
            - !ruby/object:Puppet::Parser::AST::String
              line: 9
              file: 
              value: ".sql"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 10
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 10
          file: 
          value: sqlFile
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 10
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 10
              file: 
              value: /tmp/
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 10
              file: 
              value: name
            - !ruby/object:Puppet::Parser::AST::String
              line: 10
              file: 
              value: ".sql"
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 28
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 24
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 18
            file: 
            doc: ""
            type: "cloudeploydocker::primitive::deployfile"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 18
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 18
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::Variable
                    line: 12
                    file: 
                    value: name
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 13
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 13
                        file: 
                        param: source
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 13
                          file: 
                          value: source
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 14
                        file: 
                        param: instance_name
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 14
                          file: 
                          value: "_instance_name"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 15
                        file: 
                        param: timeout
                        value: !ruby/object:Puppet::Parser::AST::Name
                          line: 15
                          file: 
                          value: "0"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 16
                        file: 
                        param: force
                        value: !ruby/object:Puppet::Parser::AST::Boolean
                          line: 16
                          file: 
                          value: true
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 17
                        file: 
                        param: target
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 17
                          file: 
                          value: sqlScript
                        children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 24
            file: 
            doc: ""
            type: file
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 24
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 24
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::Variable
                    line: 20
                    file: 
                    value: startScript
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 21
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 21
                        file: 
                        param: ensure
                        value: !ruby/object:Puppet::Parser::AST::Name
                          line: 21
                          file: 
                          value: present
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 22
                        file: 
                        param: content
                        value: !ruby/object:Puppet::Parser::AST::Function
                          ftype: !ruby/sym rvalue
                          line: 22
                          file: 
                          doc: ""
                          name: template
                          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 22
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 22
                                file: 
                                value: cloudeploydocker/docker/runsql.erb
                          children: []
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 23
                        file: 
                        param: force
                        value: !ruby/object:Puppet::Parser::AST::Boolean
                          line: 23
                          file: 
                          value: true
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 28
          file: 
          doc: ""
          type: "docker::exec"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 28
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 28
                file: 
                title: !ruby/object:Puppet::Parser::AST::Variable
                  line: 25
                  file: 
                  value: name
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 26
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 26
                      file: 
                      param: container
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 26
                        file: 
                        value: "_instance_name"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 27
                      file: 
                      param: command
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 27
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 27
                            file: 
                            value: "sh /tmp/"
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 27
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 27
                            file: 
                            value: ".sh"
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::mysql::server"
  namespace: "cloudeploydocker::mysql"
  arguments: 
    instance_name: !ruby/object:Puppet::Parser::AST::Variable
      line: 2
      file: 
      value: "cloudeploydocker::mysql::instance::instance_name"
    running: !ruby/object:Puppet::Parser::AST::Boolean
      line: 3
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 6
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 5
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 5
          file: 
          value: sanitised_title
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 5
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 5
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 5
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 5
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 5
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 5
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 8
        file: 
        doc: ""
        type: service
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 8
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 8
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 6
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 6
                    file: 
                    value: docker-
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 6
                    file: 
                    value: sanitised_title
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 6
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 7
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 7
                      file: 
                      value: running
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploydocker::nginx::config"
  namespace: "cloudeploydocker::nginx::config"
  arguments: 
    instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 17
      file: 
      value: ""
    client_body_temp_path: !ruby/object:Puppet::Parser::AST::String
      line: 19
      file: 
      value: /var/nginx/client_body_temp
    confd_purge: !ruby/object:Puppet::Parser::AST::Boolean
      line: 20
      file: 
      value: false
    daemon_user: !ruby/object:Puppet::Parser::AST::String
      line: 21
      file: 
      value: nginx
    global_owner: !ruby/object:Puppet::Parser::AST::String
      line: 22
      file: 
      value: root
    global_group: !ruby/object:Puppet::Parser::AST::String
      line: 23
      file: 
      value: root
    global_mode: !ruby/object:Puppet::Parser::AST::String
      line: 24
      file: 
      value: "0644"
    log_dir: !ruby/object:Puppet::Parser::AST::String
      line: 25
      file: 
      value: /var/log/nginx
    http_access_log: !ruby/object:Puppet::Parser::AST::String
      line: 26
      file: 
      value: /var/log/nginx/access.logs
    nginx_error_log: !ruby/object:Puppet::Parser::AST::String
      line: 27
      file: 
      value: /var/log/nginx/error.log
    pid: !ruby/object:Puppet::Parser::AST::String
      line: 28
      file: 
      value: /var/run/nginx.pid
    proxy_temp_path: !ruby/object:Puppet::Parser::AST::String
      line: 29
      file: 
      value: /var/nginx/proxy_temp
    root_group: !ruby/object:Puppet::Parser::AST::String
      line: 30
      file: 
      value: root
    run_dir: !ruby/object:Puppet::Parser::AST::String
      line: 31
      file: 
      value: /var/nginx
    sites_available_owner: !ruby/object:Puppet::Parser::AST::String
      line: 32
      file: 
      value: root
    sites_available_group: !ruby/object:Puppet::Parser::AST::String
      line: 33
      file: 
      value: root
    sites_available_mode: !ruby/object:Puppet::Parser::AST::String
      line: 34
      file: 
      value: "0644"
    super_user: !ruby/object:Puppet::Parser::AST::Boolean
      line: 35
      file: 
      value: true
    temp_dir: !ruby/object:Puppet::Parser::AST::String
      line: 36
      file: 
      value: /tmp
    vhost_purge: !ruby/object:Puppet::Parser::AST::Boolean
      line: 37
      file: 
      value: false
    conf_template: !ruby/object:Puppet::Parser::AST::String
      line: 40
      file: 
      value: cloudeploydocker/conf.d/nginx.conf.erb
    proxy_conf_template: !ruby/object:Puppet::Parser::AST::String
      line: 41
      file: 
      value: cloudeploydocker/conf.d/proxy.conf.erb
    client_body_buffer_size: !ruby/object:Puppet::Parser::AST::String
      line: 45
      file: 
      value: "128k"
    client_max_body_size: !ruby/object:Puppet::Parser::AST::String
      line: 46
      file: 
      value: "10m"
    events_use: !ruby/object:Puppet::Parser::AST::Boolean
      line: 47
      file: 
      value: false
    fastcgi_cache_inactive: !ruby/object:Puppet::Parser::AST::String
      line: 48
      file: 
      value: "20m"
    fastcgi_cache_key: !ruby/object:Puppet::Parser::AST::Boolean
      line: 49
      file: 
      value: false
    fastcgi_cache_keys_zone: !ruby/object:Puppet::Parser::AST::String
      line: 50
      file: 
      value: "d3:100m"
    fastcgi_cache_levels: !ruby/object:Puppet::Parser::AST::String
      line: 51
      file: 
      value: "1"
    fastcgi_cache_max_size: !ruby/object:Puppet::Parser::AST::String
      line: 52
      file: 
      value: "500m"
    fastcgi_cache_path: !ruby/object:Puppet::Parser::AST::Boolean
      line: 53
      file: 
      value: false
    fastcgi_cache_use_stale: !ruby/object:Puppet::Parser::AST::Boolean
      line: 54
      file: 
      value: false
    gzip: !ruby/object:Puppet::Parser::AST::String
      line: 55
      file: 
      value: "on"
    http_cfg_append: !ruby/object:Puppet::Parser::AST::Boolean
      line: 56
      file: 
      value: false
    http_tcp_nodelay: !ruby/object:Puppet::Parser::AST::String
      line: 57
      file: 
      value: "on"
    http_tcp_nopush: !ruby/object:Puppet::Parser::AST::String
      line: 58
      file: 
      value: "off"
    keepalive_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 59
      file: 
      value: "65"
    mail: !ruby/object:Puppet::Parser::AST::Boolean
      line: 60
      file: 
      value: false
    multi_accept: !ruby/object:Puppet::Parser::AST::String
      line: 61
      file: 
      value: "off"
    names_hash_bucket_size: !ruby/object:Puppet::Parser::AST::String
      line: 62
      file: 
      value: "64"
    names_hash_max_size: !ruby/object:Puppet::Parser::AST::String
      line: 63
      file: 
      value: "512"
    proxy_buffers: !ruby/object:Puppet::Parser::AST::String
      line: 64
      file: 
      value: "32 4k"
    proxy_buffer_size: !ruby/object:Puppet::Parser::AST::String
      line: 65
      file: 
      value: "8k"
    proxy_cache_inactive: !ruby/object:Puppet::Parser::AST::String
      line: 66
      file: 
      value: "20m"
    proxy_cache_keys_zone: !ruby/object:Puppet::Parser::AST::String
      line: 67
      file: 
      value: "d2:100m"
    proxy_cache_levels: !ruby/object:Puppet::Parser::AST::String
      line: 68
      file: 
      value: "1"
    proxy_cache_max_size: !ruby/object:Puppet::Parser::AST::String
      line: 69
      file: 
      value: "500m"
    proxy_cache_path: !ruby/object:Puppet::Parser::AST::Boolean
      line: 70
      file: 
      value: false
    proxy_connect_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 71
      file: 
      value: "1"
    proxy_headers_hash_bucket_size: !ruby/object:Puppet::Parser::AST::String
      line: 72
      file: 
      value: "64"
    proxy_http_version: !ruby/object:Puppet::Parser::AST::String
      line: 73
      file: 
      value: "1.0"
    proxy_read_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 74
      file: 
      value: "1"
    proxy_redirect: !ruby/object:Puppet::Parser::AST::String
      line: 75
      file: 
      value: "off"
    proxy_send_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 76
      file: 
      value: "1"
    proxy_set_header: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 78
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 78
          file: 
          value: "Host $host"
        - !ruby/object:Puppet::Parser::AST::String
          line: 79
          file: 
          value: "X-Real-IP $remote_addr"
        - !ruby/object:Puppet::Parser::AST::String
          line: 80
          file: 
          value: "X-Forwarded-For $proxy_add_x_forwarded_for"
    sendfile: !ruby/object:Puppet::Parser::AST::String
      line: 82
      file: 
      value: "on"
    server_tokens: !ruby/object:Puppet::Parser::AST::String
      line: 83
      file: 
      value: "on"
    spdy: !ruby/object:Puppet::Parser::AST::String
      line: 84
      file: 
      value: "off"
    ssl_stapling: !ruby/object:Puppet::Parser::AST::String
      line: 85
      file: 
      value: "off"
    types_hash_bucket_size: !ruby/object:Puppet::Parser::AST::String
      line: 86
      file: 
      value: "512"
    types_hash_max_size: !ruby/object:Puppet::Parser::AST::String
      line: 87
      file: 
      value: "1024"
    worker_connections: !ruby/object:Puppet::Parser::AST::String
      line: 88
      file: 
      value: "1024"
    worker_processes: !ruby/object:Puppet::Parser::AST::String
      line: 89
      file: 
      value: "1"
    worker_rlimit_nofile: !ruby/object:Puppet::Parser::AST::String
      line: 90
      file: 
      value: "1024"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 95
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 94
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 95
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 94
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 95
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 95
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 95
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 95
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 95
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 95
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 95
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 95
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 96
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 96
          file: 
          value: mnt_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 96
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 96
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 96
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 96
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 96
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 96
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 98
        file: 
        doc: "## Validations ###\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 98
          file: 
          value: conf_dir
        value: !ruby/object:Puppet::Parser::AST::Variable
          line: 98
          file: 
          value: mnt_dir
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 103
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 100
          file: 
          operator: and
          lval: !ruby/object:Puppet::Parser::AST::Not
            line: 100
            file: 
            value: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 100
              file: 
              doc: ""
              name: is_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 100
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 100
                    file: 
                    value: worker_processes
              children: []
            children: []
          rval: !ruby/object:Puppet::Parser::AST::Not
            line: 100
            file: 
            value: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 100
              file: 
              doc: ""
              name: is_integer
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 100
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 100
                    file: 
                    value: worker_processes
              children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 102
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 101
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 101
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 101
                    file: 
                    value: "$worker_processes must be an integer or have value \x22auto\x22."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 106
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 103
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 103
            file: 
            doc: ""
            name: is_integer
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 103
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 103
                  file: 
                  value: worker_connections
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 105
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 104
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 104
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 104
                    file: 
                    value: "$worker_connections must be an integer."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 109
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 106
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 106
            file: 
            doc: ""
            name: is_integer
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 106
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 106
                  file: 
                  value: worker_rlimit_nofile
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 108
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 107
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 107
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 107
                    file: 
                    value: "$worker_rlimit_nofile must be an integer."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 112
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 109
          file: 
          operator: and
          lval: !ruby/object:Puppet::Parser::AST::Not
            line: 109
            file: 
            value: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 109
              file: 
              doc: ""
              name: is_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 109
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 109
                    file: 
                    value: events_use
              children: []
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 109
            file: 
            operator: "!="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 109
              file: 
              value: events_use
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 109
              file: 
              value: false
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 111
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 110
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 110
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 110
                    file: 
                    value: "$events_use must be a string or false."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 112
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 112
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 112
              file: 
              value: multi_accept
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 113
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 113
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 113
              file: 
              value: proxy_set_header
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 114
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 114
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 114
              file: 
              value: proxy_http_version
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 115
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 115
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 115
              file: 
              value: confd_purge
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 116
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 116
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 116
              file: 
              value: vhost_purge
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 120
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 117
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 117
            file: 
            value: proxy_cache_path
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 117
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 119
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 118
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 118
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 118
                    file: 
                    value: proxy_cache_path
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 120
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 120
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 120
              file: 
              value: proxy_cache_levels
            - !ruby/object:Puppet::Parser::AST::String
              line: 120
              file: 
              value: "^[12](:[12])*$"
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 121
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 121
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 121
              file: 
              value: proxy_cache_keys_zone
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 122
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 122
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 122
              file: 
              value: proxy_cache_max_size
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 123
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 123
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 123
              file: 
              value: proxy_cache_inactive
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 128
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 125
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 125
            file: 
            value: fastcgi_cache_path
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 125
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 127
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 126
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 126
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 126
                    file: 
                    value: fastcgi_cache_path
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 128
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 128
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 128
              file: 
              value: fastcgi_cache_levels
            - !ruby/object:Puppet::Parser::AST::String
              line: 128
              file: 
              value: "^[12](:[12])*$"
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 129
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 129
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 129
              file: 
              value: fastcgi_cache_keys_zone
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 130
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 130
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 130
              file: 
              value: fastcgi_cache_max_size
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 131
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 131
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 131
              file: 
              value: fastcgi_cache_inactive
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 135
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 132
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 132
            file: 
            value: fastcgi_cache_key
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 132
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 134
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 133
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 133
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 133
                    file: 
                    value: fastcgi_cache_key
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 139
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 135
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 135
            file: 
            value: fastcgi_cache_use_stale
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 135
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 137
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 136
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 136
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 136
                    file: 
                    value: fastcgi_cache_use_stale
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 139
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 139
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 139
              file: 
              value: mail
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 140
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 140
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 140
              file: 
              value: server_tokens
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 141
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 141
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 141
              file: 
              value: client_max_body_size
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 145
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 142
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 142
            file: 
            doc: ""
            name: is_integer
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 142
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 142
                  file: 
                  value: names_hash_bucket_size
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 144
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 143
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 143
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 143
                    file: 
                    value: "$names_hash_bucket_size must be an integer."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 148
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 145
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 145
            file: 
            doc: ""
            name: is_integer
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 145
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 145
                  file: 
                  value: names_hash_max_size
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 147
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 146
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 146
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 146
                    file: 
                    value: "$names_hash_max_size must be an integer."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 148
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 148
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 148
              file: 
              value: proxy_buffers
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 149
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 149
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 149
              file: 
              value: proxy_buffer_size
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 156
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 150
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 150
            file: 
            value: http_cfg_append
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 150
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 154
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 154
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 151
                file: 
                value: !ruby/object:Puppet::Parser::AST::BooleanOperator
                  line: 151
                  file: 
                  operator: or
                  lval: !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym rvalue
                    line: 151
                    file: 
                    doc: ""
                    name: is_hash
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 151
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 151
                          file: 
                          value: http_cfg_append
                    children: []
                  rval: !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym rvalue
                    line: 151
                    file: 
                    doc: ""
                    name: is_array
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 151
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 151
                          file: 
                          value: http_cfg_append
                    children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 153
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 152
                    file: 
                    doc: ""
                    name: fail
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 152
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 152
                          file: 
                          value: "$http_cfg_append must be either a hash or array"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 156
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 156
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 156
              file: 
              value: nginx_error_log
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 157
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 157
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 157
              file: 
              value: http_access_log
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 158
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 158
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 158
              file: 
              value: proxy_headers_hash_bucket_size
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 159
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 159
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 159
              file: 
              value: super_user
        children: []
      - !ruby/object:Puppet::Parser::AST::ResourceDefaults
        line: 168
        file: 
        doc: "## CONFIGURATION ###\n"
        type: File
        parameters: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 165
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 165
              file: 
              param: owner
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 165
                file: 
                value: global_owner
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 166
              file: 
              param: group
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 166
                file: 
                value: global_group
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 167
              file: 
              param: mode
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 167
                file: 
                value: global_mode
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 172
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 172
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 172
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 170
                file: 
                value: conf_dir
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 171
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 171
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 171
                      file: 
                      value: directory
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 176
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 176
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 176
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 174
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 174
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 174
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 174
                    file: 
                    value: /conf.d
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 175
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 175
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 175
                      file: 
                      value: directory
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 184
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 177
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 177
            file: 
            value: confd_purge
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 177
            file: 
            value: true
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 181
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceOverride
              checked: false
              line: 181
              file: 
              doc: ""
              object: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 178
                file: 
                type: File
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 178
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 178
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 178
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 178
                          file: 
                          value: conf_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 178
                          file: 
                          value: /conf.d
                children: []
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 179
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 179
                    file: 
                    param: purge
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 179
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 180
                    file: 
                    param: recurse
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 180
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 186
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 186
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 186
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 184
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 184
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 184
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 184
                    file: 
                    value: /conf.mail.d
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 185
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 185
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 185
                      file: 
                      value: directory
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 194
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 187
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 187
            file: 
            value: confd_purge
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 187
            file: 
            value: true
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 191
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceOverride
              checked: false
              line: 191
              file: 
              doc: ""
              object: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 188
                file: 
                type: File
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 188
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 188
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 188
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 188
                          file: 
                          value: conf_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 188
                          file: 
                          value: /conf.mail.d
                children: []
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 189
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 189
                    file: 
                    param: purge
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 189
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 190
                    file: 
                    param: recurse
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 190
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 196
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 196
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 196
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 194
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 194
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 194
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 194
                    file: 
                    value: /conf.d/vhost_autogen.conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 195
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 195
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 195
                      file: 
                      value: absent
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 200
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 200
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 200
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 198
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 198
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 198
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 198
                    file: 
                    value: /conf.mail.d/vhost_autogen.conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 199
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 199
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 199
                      file: 
                      value: absent
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 221
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 221
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 221
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 216
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 216
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 216
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 216
                    file: 
                    value: /sites-available
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 217
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 217
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 217
                      file: 
                      value: directory
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 218
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 218
                      file: 
                      value: sites_available_owner
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 219
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 219
                      file: 
                      value: sites_available_group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 220
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 220
                      file: 
                      value: sites_available_mode
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 230
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 223
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 223
            file: 
            value: vhost_purge
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 223
            file: 
            value: true
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 227
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceOverride
              checked: false
              line: 227
              file: 
              doc: ""
              object: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 224
                file: 
                type: File
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 224
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 224
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 224
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 224
                          file: 
                          value: conf_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 224
                          file: 
                          value: /sites-available
                children: []
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 225
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 225
                    file: 
                    param: purge
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 225
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 226
                    file: 
                    param: recurse
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 226
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 232
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 232
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 232
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 230
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 230
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 230
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 230
                    file: 
                    value: /sites-enabled
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 231
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 231
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 231
                      file: 
                      value: directory
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 241
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 234
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 234
            file: 
            value: vhost_purge
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 234
            file: 
            value: true
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 238
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceOverride
              checked: false
              line: 238
              file: 
              doc: ""
              object: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 235
                file: 
                type: File
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 235
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 235
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 235
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 235
                          file: 
                          value: conf_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 235
                          file: 
                          value: /sites-enabled
                children: []
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 236
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 236
                    file: 
                    param: purge
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 236
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 237
                    file: 
                    param: recurse
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 237
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 243
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 243
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 243
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 241
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 241
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 241
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 241
                    file: 
                    value: /sites-enabled/default
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 242
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 242
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 242
                      file: 
                      value: absent
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 245
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 245
          file: 
          value: "_conf_dir"
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 245
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 245
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 245
              file: 
              value: "cloudeploydocker::params::mnt_volumns_pre"
            - !ruby/object:Puppet::Parser::AST::String
              line: 245
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 245
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 245
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 249
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 249
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 249
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 246
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 246
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 246
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 246
                    file: 
                    value: /nginx.conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 247
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 247
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 247
                      file: 
                      value: file
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 248
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 248
                      file: 
                      doc: ""
                      name: template
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 248
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 248
                            file: 
                            value: conf_template
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 258
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 258
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 258
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 256
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 256
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 256
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 256
                    file: 
                    value: /conf.d/default.conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 257
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 257
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 257
                      file: 
                      value: absent
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 262
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 262
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 262
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 260
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 260
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 260
                    file: 
                    value: conf_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 260
                    file: 
                    value: /conf.d/example_ssl.conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 261
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 261
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 261
                      file: 
                      value: absent
                    children: []
              children: []
        children: []
  doc: "Class: nginx::config\n\nThis module manages NGINX bootstrap and configuration\n\nParameters:\n\nThere are no default parameters for this class.\n\nActions:\n\nRequires:\n\nSample Usage:\n\nThis class file is not called directly\n"
  line: 16
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::nginx::container"
  namespace: "cloudeploydocker::nginx"
  arguments: 
    instance_name: 
    image: 
    command: !ruby/object:Puppet::Parser::AST::Undef
      line: 4
      file: 
      value: !ruby/sym undef
    memory_limit: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    cpuset: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 6
      file: 
      children: []
    ports: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 7
      file: 
      children: []
    expose: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 8
      file: 
      children: []
    volumes: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 9
      file: 
      children: []
    use_name: !ruby/object:Puppet::Parser::AST::Boolean
      line: 10
      file: 
      value: false
    running: !ruby/object:Puppet::Parser::AST::Boolean
      line: 11
      file: 
      value: true
    volumes_from: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 12
      file: 
      children: []
    net: !ruby/object:Puppet::Parser::AST::String
      line: 13
      file: 
      value: bridge
    username: !ruby/object:Puppet::Parser::AST::Boolean
      line: 14
      file: 
      value: false
    hostname: !ruby/object:Puppet::Parser::AST::Boolean
      line: 15
      file: 
      value: false
    env: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 16
      file: 
      children: []
    dns: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 17
      file: 
      children: []
    dns_search: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 18
      file: 
      children: []
    lxc_conf: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 19
      file: 
      children: []
    restart_service: !ruby/object:Puppet::Parser::AST::Boolean
      line: 20
      file: 
      value: true
    disable_network: !ruby/object:Puppet::Parser::AST::Boolean
      line: 21
      file: 
      value: false
    privileged: !ruby/object:Puppet::Parser::AST::Boolean
      line: 22
      file: 
      value: false
    detach: !ruby/object:Puppet::Parser::AST::Undef
      line: 23
      file: 
      value: !ruby/sym undef
    extra_parameters: !ruby/object:Puppet::Parser::AST::Undef
      line: 24
      file: 
      value: !ruby/sym undef
    pull_on_start: !ruby/object:Puppet::Parser::AST::Boolean
      line: 25
      file: 
      value: false
    depends: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 26
      file: 
      children: []
    tty: !ruby/object:Puppet::Parser::AST::Boolean
      line: 27
      file: 
      value: false
    socket_connect: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 28
      file: 
      children: []
    hostentries: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 29
      file: 
      children: []
    restart: !ruby/object:Puppet::Parser::AST::Undef
      line: 30
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 33
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 32
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 33
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 32
              file: 
              value: "docker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 33
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 33
          file: 
          value: docker_command
        value: !ruby/object:Puppet::Parser::AST::Variable
          line: 33
          file: 
          value: "docker::params::docker_command"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 34
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 34
          file: 
          value: service_name
        value: !ruby/object:Puppet::Parser::AST::Variable
          line: 34
          file: 
          value: "docker::params::service_name"
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 35
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 35
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 35
              file: 
              value: image
            - !ruby/object:Puppet::Parser::AST::String
              line: 35
              file: 
              value: "^[\x5cS]*$"
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 36
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 36
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 36
              file: 
              value: title
            - !ruby/object:Puppet::Parser::AST::String
              line: 36
              file: 
              value: "^[\x5cS]*$"
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 37
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 37
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 37
              file: 
              value: memory_limit
            - !ruby/object:Puppet::Parser::AST::String
              line: 37
              file: 
              value: "^([\x5cd]*(b|k|m|g))|$"
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 41
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 38
          file: 
          value: restart
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 40
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 39
              file: 
              doc: ""
              name: validate_re
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 39
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 39
                    file: 
                    value: restart
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 39
                    file: 
                    value: "^(no|always)|^on-failure:[\x5cd]+$"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 41
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 41
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 41
              file: 
              value: docker_command
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 42
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 42
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 42
              file: 
              value: service_name
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 46
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 43
          file: 
          value: command
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 45
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 44
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 44
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 44
                    file: 
                    value: command
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 49
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 46
          file: 
          value: username
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 48
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 47
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 47
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 47
                    file: 
                    value: username
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 52
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 49
          file: 
          value: hostname
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 51
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 50
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 50
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 50
                    file: 
                    value: hostname
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 52
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 52
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 52
              file: 
              value: running
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 53
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 53
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 53
              file: 
              value: disable_network
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 54
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 54
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 54
              file: 
              value: privileged
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 55
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 55
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 55
              file: 
              value: restart_service
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 56
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 56
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 56
              file: 
              value: tty
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 63
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 58
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 58
            file: 
            value: detach
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 58
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 60
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 59
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 59
                file: 
                value: valid_detach
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 59
                file: 
                value: "docker::params::detach_service_in_init"
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 63
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 62
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym statement
                line: 61
                file: 
                doc: ""
                name: validate_bool
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 61
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 61
                      file: 
                      value: detach
                children: []
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 62
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 62
                  file: 
                  value: valid_detach
                value: !ruby/object:Puppet::Parser::AST::Variable
                  line: 62
                  file: 
                  value: detach
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 65
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 65
          file: 
          value: extra_parameters_array
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 65
          file: 
          doc: ""
          name: any2array
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 65
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 65
                file: 
                value: extra_parameters
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 66
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 66
          file: 
          value: depends_array
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 66
          file: 
          doc: ""
          name: any2array
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 66
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 66
                file: 
                value: depends
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 68
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 68
          file: 
          value: temp_run_flags
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 87
          file: 
          value: 
            cpuset: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 69
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 69
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 69
                    file: 
                    value: cpuset
              children: []
            detach: !ruby/object:Puppet::Parser::AST::Variable
              line: 70
              file: 
              value: valid_detach
            disable_network: !ruby/object:Puppet::Parser::AST::Variable
              line: 71
              file: 
              value: disable_network
            dns: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 72
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 72
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 72
                    file: 
                    value: dns
              children: []
            dns_search: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 73
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 73
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 73
                    file: 
                    value: dns_search
              children: []
            env: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 74
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 74
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 74
                    file: 
                    value: env
              children: []
            expose: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 75
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 75
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 75
                    file: 
                    value: expose
              children: []
            hostentries: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 76
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 76
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 76
                    file: 
                    value: hostentries
              children: []
            hostname: !ruby/object:Puppet::Parser::AST::Variable
              line: 77
              file: 
              value: hostname
            lxc_conf: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 78
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 78
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 78
                    file: 
                    value: lxc_conf
              children: []
            memory_limit: !ruby/object:Puppet::Parser::AST::Variable
              line: 79
              file: 
              value: memory_limit
            net: !ruby/object:Puppet::Parser::AST::Variable
              line: 80
              file: 
              value: net
            ports: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 81
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 81
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 81
                    file: 
                    value: ports
              children: []
            privileged: !ruby/object:Puppet::Parser::AST::Variable
              line: 82
              file: 
              value: privileged
            socket_connect: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 83
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 83
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 83
                    file: 
                    value: socket_connect
              children: []
            tty: !ruby/object:Puppet::Parser::AST::Variable
              line: 84
              file: 
              value: tty
            username: !ruby/object:Puppet::Parser::AST::Variable
              line: 85
              file: 
              value: username
            volumes: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 86
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 86
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 86
                    file: 
                    value: volumes
              children: []
            volumes_from: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 87
              file: 
              doc: ""
              name: any2array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 87
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 87
                    file: 
                    value: volumes_from
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 89
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 89
          file: 
          value: docker_run_flags
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 89
          file: 
          doc: ""
          name: docker_run_flags
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 89
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 89
                file: 
                doc: ""
                name: delete_undef_values
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 89
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 89
                      file: 
                      value: temp_run_flags
                children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 90
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 90
          file: 
          value: sanitised_depends_array
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 90
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 90
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 90
                file: 
                value: depends_array
              - !ruby/object:Puppet::Parser::AST::String
                line: 90
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 90
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 90
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 92
        file: 
        doc: " Concat {\n   owner => 'root',\n   group => 'root',\n   mode  => '0644',\n }\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 92
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 92
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 92
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 92
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 92
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 92
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 92
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 98
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 98
          file: 
          value: initscript
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 98
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 98
              file: 
              value: /etc/systemd/system/docker-
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 98
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 98
              file: 
              value: ".service"
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 129
        file: 
        doc: ""
        type: service
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 129
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 129
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 124
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 124
                    file: 
                    value: docker-
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 124
                    file: 
                    value: "_instance_name"
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 124
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 125
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 125
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 125
                      file: 
                      value: running
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 126
                    file: 
                    param: enable
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 126
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 127
                    file: 
                    param: hasstatus
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 127
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 128
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 128
                      file: 
                      type: Concat
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 128
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 128
                            file: 
                            value: initscript
                      children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::nginx::install"
  namespace: "cloudeploydocker::nginx"
  arguments: 
    image: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: nginx
    registry: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: docker.io
    imagetag: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: latest
    mount_file: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: /etc/nginx
    instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: freeCMS_Nginx
    port: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "80"
    links: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 8
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 8
          file: 
          value: "freeCMS_Tomcat:freeCMS_Tomcat"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 12
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 11
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 11
          file: 
          value: "_image"
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 11
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 11
              file: 
              value: registry
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 11
              file: 
              value: image
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 12
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 13
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 12
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 13
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 13
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 13
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 13
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 13
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 13
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 13
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 13
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 14
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 14
          file: 
          value: mnt_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 14
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 14
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 14
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 14
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 14
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 14
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 20
        file: 
        doc: ""
        type: "docker::image"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 20
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 20
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 16
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 16
                    file: 
                    value: nginx_image_
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 16
                    file: 
                    value: name
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 16
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 17
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 17
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 18
                    file: 
                    param: image
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 18
                      file: 
                      value: "_image"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 19
                    file: 
                    param: image_tag
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 19
                      file: 
                      value: imagetag
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 22
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 22
          file: 
          value: "_run_images"
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 22
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 22
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 22
              file: 
              value: registry
            - !ruby/object:Puppet::Parser::AST::String
              line: 22
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 22
              file: 
              value: image
            - !ruby/object:Puppet::Parser::AST::String
              line: 22
              file: 
              value: ":"
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 22
              file: 
              value: imagetag
            - !ruby/object:Puppet::Parser::AST::String
              line: 22
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 37
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 24
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 24
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 24
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 24
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 24
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 24
                        file: 
                        value: "cloudeploydocker::nginx::config"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 28
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 27
              file: 
              doc: ""
              type: class
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 27
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 27
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 25
                      file: 
                      value: "cloudeploydocker::nginx::config"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 26
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 26
                          file: 
                          param: instance_name
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 26
                            file: 
                            value: instance_name
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 28
              file: 
              doc: ""
              name: contain
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 29
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 28
                    file: 
                    value: "cloudeploydocker::nginx::config"
              children: []
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 30
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 29
                file: 
                type: Class
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 29
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 29
                      file: 
                      value: "cloudeploydocker::nginx::config"
                children: []
              right: !ruby/object:Puppet::Parser::AST::Collection
                line: 30
                file: 
                doc: ""
                type: "cloudeploydocker::nginx::upstream"
                query: !ruby/object:Puppet::Parser::AST::CollExpr
                  line: 29
                  file: 
                  test1: !ruby/object:Puppet::Parser::AST::Name
                    line: 29
                    file: 
                    value: nginx_instance_name
                  oper: "=="
                  test2: !ruby/object:Puppet::Parser::AST::Variable
                    line: 29
                    file: 
                    value: instance_name
                  children: []
                  form: !ruby/sym virtual
                  type: "cloudeploydocker::nginx::upstream"
                form: !ruby/sym virtual
                children: []
              arrow: "->"
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 31
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 30
                file: 
                type: Class
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 30
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 30
                      file: 
                      value: "cloudeploydocker::nginx::config"
                children: []
              right: !ruby/object:Puppet::Parser::AST::Collection
                line: 31
                file: 
                doc: ""
                type: "cloudeploydocker::nginx::vhost"
                query: !ruby/object:Puppet::Parser::AST::CollExpr
                  line: 30
                  file: 
                  test1: !ruby/object:Puppet::Parser::AST::Name
                    line: 30
                    file: 
                    value: nginx_instance_name
                  oper: "=="
                  test2: !ruby/object:Puppet::Parser::AST::Variable
                    line: 30
                    file: 
                    value: instance_name
                  children: []
                  form: !ruby/sym virtual
                  type: "cloudeploydocker::nginx::vhost"
                form: !ruby/sym virtual
                children: []
              arrow: "->"
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 32
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 31
                file: 
                type: Class
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 31
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 31
                      file: 
                      value: "cloudeploydocker::nginx::config"
                children: []
              right: !ruby/object:Puppet::Parser::AST::Collection
                line: 32
                file: 
                doc: ""
                type: "cloudeploydocker::nginx::location"
                query: !ruby/object:Puppet::Parser::AST::CollExpr
                  line: 31
                  file: 
                  test1: !ruby/object:Puppet::Parser::AST::Name
                    line: 31
                    file: 
                    value: nginx_instance_name
                  oper: "=="
                  test2: !ruby/object:Puppet::Parser::AST::Variable
                    line: 31
                    file: 
                    value: instance_name
                  children: []
                  form: !ruby/sym virtual
                  type: "cloudeploydocker::nginx::location"
                form: !ruby/sym virtual
                children: []
              arrow: "->"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 37
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 37
          file: 
          value: "_links"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 37
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 37
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 37
                file: 
                value: links
              - !ruby/object:Puppet::Parser::AST::String
                line: 37
                file: 
                value: "[^0-9A-Za-z:.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 37
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 37
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 52
        file: 
        doc: ""
        type: "docker::run"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 52
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 52
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 38
                file: 
                value: instance_name
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 40
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 40
                    file: 
                    param: image
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 40
                      file: 
                      value: "_run_images"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 41
                    file: 
                    param: expose
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 41
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 41
                          file: 
                          value: "80"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: ports
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 42
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 42
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 42
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 42
                              file: 
                              value: port
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 42
                              file: 
                              value: ":80"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 43
                    file: 
                    param: links
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 43
                      file: 
                      value: "_links"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 45
                    file: 
                    param: volumes
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 45
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 45
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 45
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 45
                              file: 
                              value: "cloudeploydocker::params::mnt_volumns_pre"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 45
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 45
                              file: 
                              value: "_instance_name"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 45
                              file: 
                              value: "/conf.d/:"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 45
                              file: 
                              value: mount_file
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 45
                              file: 
                              value: "/conf.d/:rw"
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 46
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 46
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 46
                              file: 
                              value: "cloudeploydocker::params::mnt_volumns_pre"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 46
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 46
                              file: 
                              value: "_instance_name"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 46
                              file: 
                              value: "/nginx.conf:"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 46
                              file: 
                              value: mount_file
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 46
                              file: 
                              value: "/nginx.conf:rw"
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 47
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 47
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 47
                              file: 
                              value: "cloudeploydocker::params::mnt_volumns_pre"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 47
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 47
                              file: 
                              value: "_instance_name"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 47
                              file: 
                              value: "/conf.mail.d/:"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 47
                              file: 
                              value: mount_file
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 47
                              file: 
                              value: "/conf.mail.d/:rw"
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 48
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 48
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 48
                              file: 
                              value: "cloudeploydocker::params::mnt_volumns_pre"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 48
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 48
                              file: 
                              value: "_instance_name"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 48
                              file: 
                              value: "/sites-available/:"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 48
                              file: 
                              value: mount_file
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 48
                              file: 
                              value: "/sites-available/:rw"
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 49
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 49
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 49
                              file: 
                              value: "cloudeploydocker::params::mnt_volumns_pre"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 49
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 49
                              file: 
                              value: "_instance_name"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 49
                              file: 
                              value: "/sites-enabled/:"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 49
                              file: 
                              value: mount_file
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 49
                              file: 
                              value: "/sites-enabled/:rw"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 51
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 51
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceReference
                          line: 51
                          file: 
                          type: Class
                          title: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 51
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 51
                                file: 
                                value: "cloudeploydocker::nginx::config"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceReference
                          line: 51
                          file: 
                          type: "Docker::Image"
                          title: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 51
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Concat
                                line: 51
                                file: 
                                value: 
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 51
                                    file: 
                                    value: nginx_image_
                                  - !ruby/object:Puppet::Parser::AST::Variable
                                    line: 51
                                    file: 
                                    value: name
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 51
                                    file: 
                                    value: ""
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::nginx::link"
  namespace: "cloudeploydocker::nginx"
  arguments: 
    source_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: ""
    alias: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: ""
    target_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: ""
    ensure: !ruby/object:Puppet::Parser::AST::Boolean
      line: 5
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 17
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 17
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 7
          file: 
          value: ensure
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 9
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 8
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 8
                file: 
                value: "_source_instance_name"
              value: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 8
                file: 
                doc: ""
                name: regsubst
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 8
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 8
                      file: 
                      value: source_instance_name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 8
                      file: 
                      value: "[^0-9A-Za-z.\x5c-]"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 8
                      file: 
                      value: "-"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 8
                      file: 
                      value: G
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 9
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 9
                file: 
                value: "_target_instance_name"
              value: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 9
                file: 
                doc: ""
                name: regsubst
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 9
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 9
                      file: 
                      value: target_instance_name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 9
                      file: 
                      value: "[^0-9A-Za-z.\x5c-]"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 9
                      file: 
                      value: "-"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 9
                      file: 
                      value: G
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 10
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 10
                file: 
                value: initscript
              value: !ruby/object:Puppet::Parser::AST::Concat
                line: 10
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 10
                    file: 
                    value: /etc/systemd/system/docker-
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 10
                    file: 
                    value: "_target_instance_name"
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 10
                    file: 
                    value: ".service"
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 15
              file: 
              doc: ""
              type: "concat::fragment"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 15
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 15
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 11
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 11
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 11
                          file: 
                          value: "_source_instance_name"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 11
                          file: 
                          value: "_link"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 12
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 12
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 12
                            file: 
                            value: initscript
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 13
                          file: 
                          param: order
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 13
                            file: 
                            value: "50"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 14
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 14
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 14
                                file: 
                                value: " --link "
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 14
                                file: 
                                value: "_source_instance_name"
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 14
                                file: 
                                value: ":"
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 14
                                file: 
                                value: alias
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 14
                                file: 
                                value: ""
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::nginx::location"
  namespace: "cloudeploydocker::nginx"
  arguments: 
    nginx_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 128
      file: 
      value: ""
    ensure: !ruby/object:Puppet::Parser::AST::Name
      line: 129
      file: 
      value: present
    internal: !ruby/object:Puppet::Parser::AST::Boolean
      line: 130
      file: 
      value: false
    location: !ruby/object:Puppet::Parser::AST::Variable
      line: 131
      file: 
      value: name
    vhost: !ruby/object:Puppet::Parser::AST::Undef
      line: 132
      file: 
      value: !ruby/sym undef
    www_root: !ruby/object:Puppet::Parser::AST::Undef
      line: 133
      file: 
      value: !ruby/sym undef
    autoindex: !ruby/object:Puppet::Parser::AST::Undef
      line: 134
      file: 
      value: !ruby/sym undef
    index_files: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 136
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 136
          file: 
          value: index.html
        - !ruby/object:Puppet::Parser::AST::String
          line: 137
          file: 
          value: index.htm
        - !ruby/object:Puppet::Parser::AST::String
          line: 138
          file: 
          value: index.php
    proxy: !ruby/object:Puppet::Parser::AST::Undef
      line: 139
      file: 
      value: !ruby/sym undef
    proxy_redirect: !ruby/object:Puppet::Parser::AST::String
      line: 140
      file: 
      value: "off"
    proxy_read_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 141
      file: 
      value: "3"
    proxy_connect_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 142
      file: 
      value: "3"
    proxy_send_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 143
      file: 
      value: "3"
    proxy_set_header: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 145
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 145
          file: 
          value: "Host $host"
        - !ruby/object:Puppet::Parser::AST::String
          line: 146
          file: 
          value: "X-Real-IP $remote_addr"
        - !ruby/object:Puppet::Parser::AST::String
          line: 147
          file: 
          value: "X-Forwarded-For $proxy_add_x_forwarded_for"
    fastcgi: !ruby/object:Puppet::Parser::AST::Undef
      line: 149
      file: 
      value: !ruby/sym undef
    fastcgi_param: !ruby/object:Puppet::Parser::AST::Undef
      line: 150
      file: 
      value: !ruby/sym undef
    location_fastcgi_params: !ruby/object:Puppet::Parser::AST::Undef
      line: 151
      file: 
      value: !ruby/sym undef
    fastcgi_script: !ruby/object:Puppet::Parser::AST::Undef
      line: 152
      file: 
      value: !ruby/sym undef
    fastcgi_split_path: !ruby/object:Puppet::Parser::AST::Undef
      line: 153
      file: 
      value: !ruby/sym undef
    ssl: !ruby/object:Puppet::Parser::AST::Boolean
      line: 154
      file: 
      value: false
    ssl_only: !ruby/object:Puppet::Parser::AST::Boolean
      line: 155
      file: 
      value: false
    location_alias: !ruby/object:Puppet::Parser::AST::Undef
      line: 156
      file: 
      value: !ruby/sym undef
    location_allow: !ruby/object:Puppet::Parser::AST::Undef
      line: 157
      file: 
      value: !ruby/sym undef
    location_deny: !ruby/object:Puppet::Parser::AST::Undef
      line: 158
      file: 
      value: !ruby/sym undef
    option: !ruby/object:Puppet::Parser::AST::Undef
      line: 159
      file: 
      value: !ruby/sym undef
    stub_status: !ruby/object:Puppet::Parser::AST::Undef
      line: 160
      file: 
      value: !ruby/sym undef
    raw_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 161
      file: 
      value: !ruby/sym undef
    raw_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 162
      file: 
      value: !ruby/sym undef
    location_custom_cfg: !ruby/object:Puppet::Parser::AST::Undef
      line: 163
      file: 
      value: !ruby/sym undef
    location_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 164
      file: 
      value: !ruby/sym undef
    location_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 165
      file: 
      value: !ruby/sym undef
    location_custom_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 166
      file: 
      value: !ruby/sym undef
    location_custom_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 167
      file: 
      value: !ruby/sym undef
    include: !ruby/object:Puppet::Parser::AST::Undef
      line: 168
      file: 
      value: !ruby/sym undef
    try_files: !ruby/object:Puppet::Parser::AST::Undef
      line: 169
      file: 
      value: !ruby/sym undef
    proxy_cache: !ruby/object:Puppet::Parser::AST::Boolean
      line: 170
      file: 
      value: false
    proxy_cache_valid: !ruby/object:Puppet::Parser::AST::Boolean
      line: 171
      file: 
      value: false
    proxy_method: !ruby/object:Puppet::Parser::AST::Undef
      line: 172
      file: 
      value: !ruby/sym undef
    proxy_set_body: !ruby/object:Puppet::Parser::AST::Undef
      line: 173
      file: 
      value: !ruby/sym undef
    auth_basic: !ruby/object:Puppet::Parser::AST::Undef
      line: 174
      file: 
      value: !ruby/sym undef
    auth_basic_user_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 175
      file: 
      value: !ruby/sym undef
    rewrite_rules: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 176
      file: 
      children: []
    priority: !ruby/object:Puppet::Parser::AST::Name
      line: 177
      file: 
      value: "500"
    mp4: !ruby/object:Puppet::Parser::AST::Boolean
      line: 178
      file: 
      value: false
    flv: !ruby/object:Puppet::Parser::AST::Boolean
      line: 179
      file: 
      value: false
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 183
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 182
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 183
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 182
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 183
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 183
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 183
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 183
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 183
                file: 
                value: nginx_instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 183
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 183
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 183
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 184
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 184
          file: 
          value: mnt_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 184
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 184
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 184
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 184
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 184
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 184
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 190
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 185
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 185
            file: 
            value: location_fastcgi_params
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 185
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 187
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 186
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 186
                file: 
                value: fastcgi_params
              value: !ruby/object:Puppet::Parser::AST::Concat
                line: 186
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 186
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 186
                    file: 
                    value: mnt_dir
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 186
                    file: 
                    value: /fastcgi_params
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 190
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 190
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 189
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 189
                  file: 
                  value: fastcgi_params
                value: !ruby/object:Puppet::Parser::AST::Variable
                  line: 189
                  file: 
                  value: location_fastcgi_params
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 191
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 191
          file: 
          value: root_group
        value: !ruby/object:Puppet::Parser::AST::String
          line: 191
          file: 
          value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::ResourceDefaults
        line: 198
        file: 
        doc: ""
        type: File
        parameters: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 194
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 194
              file: 
              param: owner
              value: !ruby/object:Puppet::Parser::AST::String
                line: 194
                file: 
                value: root
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 195
              file: 
              param: group
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 195
                file: 
                value: root_group
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 196
              file: 
              param: mode
              value: !ruby/object:Puppet::Parser::AST::String
                line: 196
                file: 
                value: "0644"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 200
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 200
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 200
              file: 
              value: ensure
            - !ruby/object:Puppet::Parser::AST::String
              line: 200
              file: 
              value: "^(present|absent)$"
            - !ruby/object:Puppet::Parser::AST::Concat
              line: 201
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 201
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 201
                  file: 
                  value: ensure
                - !ruby/object:Puppet::Parser::AST::String
                  line: 201
                  file: 
                  value: " is not supported for ensure. Allowed values are 'present' and 'absent'."
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 202
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 202
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 202
              file: 
              value: location
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 206
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 203
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 203
            file: 
            value: vhost
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 203
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 205
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 204
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 204
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 204
                    file: 
                    value: vhost
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 209
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 206
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 206
            file: 
            value: www_root
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 206
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 208
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 207
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 207
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 207
                    file: 
                    value: www_root
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 212
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 209
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 209
            file: 
            value: autoindex
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 209
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 211
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 210
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 210
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 210
                    file: 
                    value: autoindex
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 212
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 212
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 212
              file: 
              value: index_files
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 216
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 213
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 213
            file: 
            value: proxy
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 213
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 215
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 214
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 214
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 214
                    file: 
                    value: proxy
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 219
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 216
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 216
            file: 
            value: proxy_redirect
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 216
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 218
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 217
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 217
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 217
                    file: 
                    value: proxy_redirect
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 219
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 219
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 219
              file: 
              value: proxy_read_timeout
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 220
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 220
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 220
              file: 
              value: proxy_connect_timeout
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 221
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 221
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 221
              file: 
              value: proxy_set_header
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 225
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 222
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 222
            file: 
            value: fastcgi
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 222
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 224
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 223
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 223
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 223
                    file: 
                    value: fastcgi
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 228
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 225
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 225
            file: 
            value: fastcgi_param
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 225
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 227
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 226
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 226
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 226
                    file: 
                    value: fastcgi_param
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 228
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 228
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 228
              file: 
              value: fastcgi_params
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 232
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 229
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 229
            file: 
            value: fastcgi_script
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 229
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 231
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 230
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 230
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 230
                    file: 
                    value: fastcgi_script
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 236
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 232
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 232
            file: 
            value: fastcgi_split_path
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 232
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 234
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 233
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 233
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 233
                    file: 
                    value: fastcgi_split_path
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 236
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 236
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 236
              file: 
              value: internal
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 238
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 238
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 238
              file: 
              value: ssl
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 239
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 239
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 239
              file: 
              value: ssl_only
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 243
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 240
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 240
            file: 
            value: location_alias
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 240
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 242
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 241
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 241
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 241
                    file: 
                    value: location_alias
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 246
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 243
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 243
            file: 
            value: location_allow
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 243
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 245
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 244
              file: 
              doc: ""
              name: validate_array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 244
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 244
                    file: 
                    value: location_allow
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 249
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 246
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 246
            file: 
            value: location_deny
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 246
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 248
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 247
              file: 
              doc: ""
              name: validate_array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 247
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 247
                    file: 
                    value: location_deny
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 252
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 249
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 249
            file: 
            value: option
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 249
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 251
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 250
              file: 
              doc: ""
              name: warning
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 250
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 250
                    file: 
                    value: "The $option parameter has no effect and is deprecated."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 255
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 252
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 252
            file: 
            value: stub_status
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 252
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 254
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 253
              file: 
              doc: ""
              name: validate_bool
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 253
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 253
                    file: 
                    value: stub_status
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 262
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 255
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 255
            file: 
            value: raw_prepend
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 255
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 260
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 260
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 256
                file: 
                doc: ""
                name: is_array
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 256
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 256
                      file: 
                      value: raw_prepend
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 258
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 257
                    file: 
                    doc: ""
                    name: validate_array
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 257
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 257
                          file: 
                          value: raw_prepend
                    children: []
              children: []
              else: !ruby/object:Puppet::Parser::AST::Else
                line: 260
                file: 
                doc: ""
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 260
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym statement
                      line: 259
                      file: 
                      doc: ""
                      name: validate_string
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 259
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 259
                            file: 
                            value: raw_prepend
                      children: []
                children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 269
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 262
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 262
            file: 
            value: raw_append
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 262
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 267
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 267
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 263
                file: 
                doc: ""
                name: is_array
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 263
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 263
                      file: 
                      value: raw_append
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 265
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 264
                    file: 
                    doc: ""
                    name: validate_array
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 264
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 264
                          file: 
                          value: raw_append
                    children: []
              children: []
              else: !ruby/object:Puppet::Parser::AST::Else
                line: 267
                file: 
                doc: ""
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 267
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym statement
                      line: 266
                      file: 
                      doc: ""
                      name: validate_string
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 266
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 266
                            file: 
                            value: raw_append
                      children: []
                children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 272
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 269
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 269
            file: 
            value: location_custom_cfg
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 269
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 271
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 270
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 270
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 270
                    file: 
                    value: location_custom_cfg
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 275
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 272
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 272
            file: 
            value: location_cfg_prepend
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 272
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 274
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 273
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 273
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 273
                    file: 
                    value: location_cfg_prepend
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 278
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 275
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 275
            file: 
            value: location_cfg_append
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 275
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 277
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 276
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 276
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 276
                    file: 
                    value: location_cfg_append
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 281
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 278
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 278
            file: 
            value: include
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 278
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 280
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 279
              file: 
              doc: ""
              name: validate_array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 279
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 279
                    file: 
                    value: include
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 284
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 281
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 281
            file: 
            value: try_files
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 281
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 283
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 282
              file: 
              doc: ""
              name: validate_array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 282
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 282
                    file: 
                    value: try_files
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 287
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 284
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 284
            file: 
            value: proxy_cache
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 284
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 286
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 285
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 285
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 285
                    file: 
                    value: proxy_cache
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 290
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 287
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 287
            file: 
            value: proxy_cache_valid
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 287
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 289
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 288
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 288
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 288
                    file: 
                    value: proxy_cache_valid
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 293
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 290
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 290
            file: 
            value: proxy_method
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 290
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 292
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 291
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 291
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 291
                    file: 
                    value: proxy_method
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 296
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 293
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 293
            file: 
            value: proxy_set_body
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 293
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 295
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 294
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 294
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 294
                    file: 
                    value: proxy_set_body
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 299
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 296
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 296
            file: 
            value: auth_basic
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 296
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 298
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 297
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 297
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 297
                    file: 
                    value: auth_basic
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 302
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 299
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 299
            file: 
            value: auth_basic_user_file
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 299
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 301
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 300
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 300
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 300
                    file: 
                    value: auth_basic_user_file
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 305
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 302
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 302
            file: 
            doc: ""
            name: is_integer
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 302
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 302
                  file: 
                  value: priority
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 304
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 303
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 303
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 303
                    file: 
                    value: "$priority must be an integer."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 305
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 305
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 305
              file: 
              value: rewrite_rules
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 311
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 306
          file: 
          operator: or
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 306
            file: 
            operator: "<"
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 306
              file: 
              value: priority
            rval: !ruby/object:Puppet::Parser::AST::Name
              line: 306
              file: 
              value: "401"
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 306
            file: 
            operator: ">"
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 306
              file: 
              value: priority
            rval: !ruby/object:Puppet::Parser::AST::Name
              line: 306
              file: 
              value: "899"
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 308
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 307
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 307
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 307
                    file: 
                    value: "$priority must be in the range 401-899."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 311
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 311
          file: 
          value: ensure_real
        value: !ruby/object:Puppet::Parser::AST::Selector
          line: 314
          file: 
          param: !ruby/object:Puppet::Parser::AST::Variable
            line: 311
            file: 
            value: ensure
          values: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 313
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 312
                file: 
                param: !ruby/object:Puppet::Parser::AST::String
                  line: 312
                  file: 
                  value: absent
                value: !ruby/object:Puppet::Parser::AST::Name
                  line: 312
                  file: 
                  value: absent
                children: []
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 313
                file: 
                param: !ruby/object:Puppet::Parser::AST::Default
                  line: 313
                  file: 
                  value: default
                value: !ruby/object:Puppet::Parser::AST::Name
                  line: 313
                  file: 
                  value: file
                children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 316
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 316
          file: 
          value: vhost_sanitized
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 316
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 316
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 316
                file: 
                value: vhost
              - !ruby/object:Puppet::Parser::AST::String
                line: 316
                file: 
                value: " "
              - !ruby/object:Puppet::Parser::AST::String
                line: 316
                file: 
                value: "_"
              - !ruby/object:Puppet::Parser::AST::String
                line: 316
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 317
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 317
          file: 
          value: config_file
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 317
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 317
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 317
              file: 
              value: mnt_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 317
              file: 
              value: /sites-available/
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 317
              file: 
              value: vhost_sanitized
            - !ruby/object:Puppet::Parser::AST::String
              line: 317
              file: 
              value: ".conf"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 319
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 319
          file: 
          value: location_sanitized_tmp
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 319
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 319
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 319
                file: 
                value: location
              - !ruby/object:Puppet::Parser::AST::String
                line: 319
                file: 
                value: "\x5c/"
              - !ruby/object:Puppet::Parser::AST::String
                line: 319
                file: 
                value: "_"
              - !ruby/object:Puppet::Parser::AST::String
                line: 319
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 320
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 320
          file: 
          value: location_sanitized
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 320
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 320
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 320
                file: 
                value: location_sanitized_tmp
              - !ruby/object:Puppet::Parser::AST::String
                line: 320
                file: 
                value: "\x5c\x5c\x5c\x5c"
              - !ruby/object:Puppet::Parser::AST::String
                line: 320
                file: 
                value: "_"
              - !ruby/object:Puppet::Parser::AST::String
                line: 320
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 326
        file: 
        doc: "# Check for various error conditions\n"
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 323
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 323
            file: 
            value: vhost
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 323
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 325
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 324
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 324
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 324
                    file: 
                    value: "Cannot create a location reference without attaching to a virtual host"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 329
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 326
          file: 
          operator: and
          lval: !ruby/object:Puppet::Parser::AST::BooleanOperator
            line: 326
            file: 
            operator: and
            lval: !ruby/object:Puppet::Parser::AST::BooleanOperator
              line: 326
              file: 
              operator: and
              lval: !ruby/object:Puppet::Parser::AST::BooleanOperator
                line: 326
                file: 
                operator: and
                lval: !ruby/object:Puppet::Parser::AST::BooleanOperator
                  line: 326
                  file: 
                  operator: and
                  lval: !ruby/object:Puppet::Parser::AST::BooleanOperator
                    line: 326
                    file: 
                    operator: and
                    lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                      line: 326
                      file: 
                      operator: "=="
                      lval: !ruby/object:Puppet::Parser::AST::Variable
                        line: 326
                        file: 
                        value: www_root
                      rval: !ruby/object:Puppet::Parser::AST::Undef
                        line: 326
                        file: 
                        value: !ruby/sym undef
                      children: []
                    rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                      line: 326
                      file: 
                      operator: "=="
                      lval: !ruby/object:Puppet::Parser::AST::Variable
                        line: 326
                        file: 
                        value: proxy
                      rval: !ruby/object:Puppet::Parser::AST::Undef
                        line: 326
                        file: 
                        value: !ruby/sym undef
                      children: []
                    children: []
                  rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                    line: 326
                    file: 
                    operator: "=="
                    lval: !ruby/object:Puppet::Parser::AST::Variable
                      line: 326
                      file: 
                      value: location_alias
                    rval: !ruby/object:Puppet::Parser::AST::Undef
                      line: 326
                      file: 
                      value: !ruby/sym undef
                    children: []
                  children: []
                rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                  line: 326
                  file: 
                  operator: "=="
                  lval: !ruby/object:Puppet::Parser::AST::Variable
                    line: 326
                    file: 
                    value: stub_status
                  rval: !ruby/object:Puppet::Parser::AST::Undef
                    line: 326
                    file: 
                    value: !ruby/sym undef
                  children: []
                children: []
              rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                line: 326
                file: 
                operator: "=="
                lval: !ruby/object:Puppet::Parser::AST::Variable
                  line: 326
                  file: 
                  value: fastcgi
                rval: !ruby/object:Puppet::Parser::AST::Undef
                  line: 326
                  file: 
                  value: !ruby/sym undef
                children: []
              children: []
            rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
              line: 326
              file: 
              operator: "=="
              lval: !ruby/object:Puppet::Parser::AST::Variable
                line: 326
                file: 
                value: location_custom_cfg
              rval: !ruby/object:Puppet::Parser::AST::Undef
                line: 326
                file: 
                value: !ruby/sym undef
              children: []
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 326
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 326
              file: 
              value: internal
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 326
              file: 
              value: false
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 328
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 327
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 327
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 327
                    file: 
                    value: "Cannot create a location reference without a www_root, proxy, location_alias, fastcgi, stub_status, internal, or location_custom_cfg defined"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 334
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 329
          file: 
          operator: and
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 329
            file: 
            operator: "!="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 329
              file: 
              value: www_root
            rval: !ruby/object:Puppet::Parser::AST::Undef
              line: 329
              file: 
              value: !ruby/sym undef
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 329
            file: 
            operator: "!="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 329
              file: 
              value: proxy
            rval: !ruby/object:Puppet::Parser::AST::Undef
              line: 329
              file: 
              value: !ruby/sym undef
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 331
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 330
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 330
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 330
                    file: 
                    value: "Cannot define both directory and proxy in a virtual host"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 339
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 334
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 334
            file: 
            value: fastcgi_script
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 334
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 336
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 335
              file: 
              doc: ""
              name: warning
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 335
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 335
                    file: 
                    value: "The $fastcgi_script parameter is deprecated; please use $fastcgi_param instead to define custom fastcgi_params!"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 351
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 339
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 339
            file: 
            value: proxy
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 339
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 341
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 340
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 340
                file: 
                value: content_real
              value: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 340
                file: 
                doc: ""
                name: template
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 340
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 340
                      file: 
                      value: cloudeploydocker/vhost/locations/proxy.erb
                children: []
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 351
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::IfStatement
            line: 351
            file: 
            doc: ""
            test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
              line: 341
              file: 
              operator: "!="
              lval: !ruby/object:Puppet::Parser::AST::Variable
                line: 341
                file: 
                value: location_alias
              rval: !ruby/object:Puppet::Parser::AST::Undef
                line: 341
                file: 
                value: !ruby/sym undef
              children: []
            statements: !ruby/object:Puppet::Parser::AST::BlockExpression
              line: 343
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::VarDef
                  line: 342
                  file: 
                  doc: ""
                  name: !ruby/object:Puppet::Parser::AST::Name
                    line: 342
                    file: 
                    value: content_real
                  value: !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym rvalue
                    line: 342
                    file: 
                    doc: ""
                    name: template
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 342
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 342
                          file: 
                          value: cloudeploydocker/vhost/locations/alias.erb
                    children: []
                  children: []
            children: []
            else: !ruby/object:Puppet::Parser::AST::Else
              line: 351
              file: 
              doc: ""
              statements: !ruby/object:Puppet::Parser::AST::IfStatement
                line: 351
                file: 
                doc: ""
                test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                  line: 343
                  file: 
                  operator: "!="
                  lval: !ruby/object:Puppet::Parser::AST::Variable
                    line: 343
                    file: 
                    value: stub_status
                  rval: !ruby/object:Puppet::Parser::AST::Undef
                    line: 343
                    file: 
                    value: !ruby/sym undef
                  children: []
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 345
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::VarDef
                      line: 344
                      file: 
                      doc: ""
                      name: !ruby/object:Puppet::Parser::AST::Name
                        line: 344
                        file: 
                        value: content_real
                      value: !ruby/object:Puppet::Parser::AST::Function
                        ftype: !ruby/sym rvalue
                        line: 344
                        file: 
                        doc: ""
                        name: template
                        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 344
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 344
                              file: 
                              value: cloudeploydocker/vhost/locations/stub_status.erb
                        children: []
                      children: []
                children: []
                else: !ruby/object:Puppet::Parser::AST::Else
                  line: 351
                  file: 
                  doc: ""
                  statements: !ruby/object:Puppet::Parser::AST::IfStatement
                    line: 351
                    file: 
                    doc: ""
                    test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                      line: 345
                      file: 
                      operator: "!="
                      lval: !ruby/object:Puppet::Parser::AST::Variable
                        line: 345
                        file: 
                        value: fastcgi
                      rval: !ruby/object:Puppet::Parser::AST::Undef
                        line: 345
                        file: 
                        value: !ruby/sym undef
                      children: []
                    statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                      line: 347
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 346
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 346
                            file: 
                            value: content_real
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 346
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 346
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 346
                                  file: 
                                  value: cloudeploydocker/vhost/locations/fastcgi.erb
                            children: []
                          children: []
                    children: []
                    else: !ruby/object:Puppet::Parser::AST::Else
                      line: 351
                      file: 
                      doc: ""
                      statements: !ruby/object:Puppet::Parser::AST::IfStatement
                        line: 351
                        file: 
                        doc: ""
                        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                          line: 347
                          file: 
                          operator: "!="
                          lval: !ruby/object:Puppet::Parser::AST::Variable
                            line: 347
                            file: 
                            value: www_root
                          rval: !ruby/object:Puppet::Parser::AST::Undef
                            line: 347
                            file: 
                            value: !ruby/sym undef
                          children: []
                        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                          line: 349
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::VarDef
                              line: 348
                              file: 
                              doc: ""
                              name: !ruby/object:Puppet::Parser::AST::Name
                                line: 348
                                file: 
                                value: content_real
                              value: !ruby/object:Puppet::Parser::AST::Function
                                ftype: !ruby/sym rvalue
                                line: 348
                                file: 
                                doc: ""
                                name: template
                                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                                  line: 348
                                  file: 
                                  children: 
                                    - !ruby/object:Puppet::Parser::AST::String
                                      line: 348
                                      file: 
                                      value: cloudeploydocker/vhost/locations/directory.erb
                                children: []
                              children: []
                        children: []
                        else: !ruby/object:Puppet::Parser::AST::Else
                          line: 351
                          file: 
                          doc: ""
                          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                            line: 351
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::VarDef
                                line: 350
                                file: 
                                doc: ""
                                name: !ruby/object:Puppet::Parser::AST::Name
                                  line: 350
                                  file: 
                                  value: content_real
                                value: !ruby/object:Puppet::Parser::AST::Function
                                  ftype: !ruby/sym rvalue
                                  line: 350
                                  file: 
                                  doc: ""
                                  name: template
                                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                                    line: 350
                                    file: 
                                    children: 
                                      - !ruby/object:Puppet::Parser::AST::String
                                        line: 350
                                        file: 
                                        value: cloudeploydocker/vhost/locations/empty.erb
                                  children: []
                                children: []
                          children: []
                      children: []
                  children: []
              children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 362
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 353
          file: 
          operator: and
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 353
            file: 
            operator: "!="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 353
              file: 
              value: fastcgi
            rval: !ruby/object:Puppet::Parser::AST::Undef
              line: 353
              file: 
              value: !ruby/sym undef
            children: []
          rval: !ruby/object:Puppet::Parser::AST::Not
            line: 353
            file: 
            value: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 353
              file: 
              doc: ""
              name: defined
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 353
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceReference
                    line: 353
                    file: 
                    type: File
                    title: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 353
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 353
                          file: 
                          value: fastcgi_params
                    children: []
              children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 359
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 358
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 358
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 358
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 354
                      file: 
                      value: fastcgi_params
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 355
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 355
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 355
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 356
                          file: 
                          param: mode
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 356
                            file: 
                            value: "0770"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 357
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 357
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 357
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 357
                                  file: 
                                  value: cloudeploydocker/vhost/fastcgi_params.erb
                            children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 378
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 362
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 362
            file: 
            value: ssl_only
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 362
            file: 
            value: true
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 365
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 363
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 363
                file: 
                value: tmpFile
              value: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 363
                file: 
                doc: ""
                name: md5
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 363
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 363
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 363
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 363
                          file: 
                          value: vhost_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 363
                          file: 
                          value: "-"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 363
                          file: 
                          value: priority
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 363
                          file: 
                          value: "-"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 363
                          file: 
                          value: location_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 363
                          file: 
                          value: ""
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 374
              file: 
              doc: ""
              type: "concat::fragment"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 374
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 374
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 365
                      file: 
                      value: tmpFile
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 366
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 366
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 366
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 367
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 367
                            file: 
                            value: config_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 368
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 368
                            file: 
                            doc: ""
                            name: join
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 372
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::ASTArray
                                  line: 369
                                  file: 
                                  children: 
                                    - !ruby/object:Puppet::Parser::AST::Function
                                      ftype: !ruby/sym rvalue
                                      line: 369
                                      file: 
                                      doc: ""
                                      name: template
                                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                                        line: 369
                                        file: 
                                        children: 
                                          - !ruby/object:Puppet::Parser::AST::String
                                            line: 369
                                            file: 
                                            value: cloudeploydocker/vhost/location_header.erb
                                      children: []
                                    - !ruby/object:Puppet::Parser::AST::Variable
                                      line: 370
                                      file: 
                                      value: content_real
                                    - !ruby/object:Puppet::Parser::AST::Function
                                      ftype: !ruby/sym rvalue
                                      line: 371
                                      file: 
                                      doc: ""
                                      name: template
                                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                                        line: 371
                                        file: 
                                        children: 
                                          - !ruby/object:Puppet::Parser::AST::String
                                            line: 371
                                            file: 
                                            value: cloudeploydocker/vhost/location_footer.erb
                                      children: []
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 372
                                  file: 
                                  value: ""
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 373
                          file: 
                          param: order
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 373
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 373
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 373
                                file: 
                                value: priority
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 373
                                file: 
                                value: ""
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 394
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 378
          file: 
          operator: or
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 378
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 378
              file: 
              value: ssl
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 378
              file: 
              value: true
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 378
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 378
              file: 
              value: ssl_only
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 378
              file: 
              value: true
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 381
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 379
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 379
                file: 
                value: ssl_priority
              value: !ruby/object:Puppet::Parser::AST::ArithmeticOperator
                line: 381
                file: 
                operator: "+"
                lval: !ruby/object:Puppet::Parser::AST::Variable
                  line: 379
                  file: 
                  value: priority
                rval: !ruby/object:Puppet::Parser::AST::Name
                  line: 379
                  file: 
                  value: "300"
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 381
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 381
                file: 
                value: sslTmpFile
              value: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 381
                file: 
                doc: ""
                name: md5
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 381
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 381
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 381
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 381
                          file: 
                          value: vhost_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 381
                          file: 
                          value: "-"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 381
                          file: 
                          value: ssl_priority
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 381
                          file: 
                          value: "-"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 381
                          file: 
                          value: location_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 381
                          file: 
                          value: "-ssl"
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 391
              file: 
              doc: ""
              type: "concat::fragment"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 391
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 391
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 382
                      file: 
                      value: sslTmpFile
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 383
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 383
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 383
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 384
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 384
                            file: 
                            value: config_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 385
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 385
                            file: 
                            doc: ""
                            name: join
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 389
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::ASTArray
                                  line: 386
                                  file: 
                                  children: 
                                    - !ruby/object:Puppet::Parser::AST::Function
                                      ftype: !ruby/sym rvalue
                                      line: 386
                                      file: 
                                      doc: ""
                                      name: template
                                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                                        line: 386
                                        file: 
                                        children: 
                                          - !ruby/object:Puppet::Parser::AST::String
                                            line: 386
                                            file: 
                                            value: cloudeploydocker/vhost/location_header.erb
                                      children: []
                                    - !ruby/object:Puppet::Parser::AST::Variable
                                      line: 387
                                      file: 
                                      value: content_real
                                    - !ruby/object:Puppet::Parser::AST::Function
                                      ftype: !ruby/sym rvalue
                                      line: 388
                                      file: 
                                      doc: ""
                                      name: template
                                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                                        line: 388
                                        file: 
                                        children: 
                                          - !ruby/object:Puppet::Parser::AST::String
                                            line: 388
                                            file: 
                                            value: cloudeploydocker/vhost/location_footer.erb
                                      children: []
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 389
                                  file: 
                                  value: ""
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 390
                          file: 
                          param: order
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 390
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 390
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 390
                                file: 
                                value: ssl_priority
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 390
                                file: 
                                value: ""
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 402
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 394
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 394
            file: 
            value: auth_basic_user_file
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 394
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 401
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 400
              file: 
              doc: "Generate htpasswd with provided file-locations\n"
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 400
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 400
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 396
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 396
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 396
                          file: 
                          value: mnt_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 396
                          file: 
                          value: /
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 396
                          file: 
                          value: location_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 396
                          file: 
                          value: "_htpasswd"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 397
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 397
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 397
                            file: 
                            value: ensure
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 398
                          file: 
                          param: mode
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 398
                            file: 
                            value: "0644"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 399
                          file: 
                          param: source
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 399
                            file: 
                            value: auth_basic_user_file
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 127
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploydocke::nginx::param"
  namespace: "cloudeploydocke::nginx::param"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 10
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 4
        file: 
        doc: "## Operating System Configuration\n# This is my hacky... no hiera system. Oh well. :)\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 4
          file: 
          value: "_module_defaults"
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 9
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::String
              line: 5
              file: 
              value: conf_dir
            : !ruby/object:Puppet::Parser::AST::String
              line: 5
              file: 
              value: /etc/nginx
            ? !ruby/object:Puppet::Parser::AST::String
              line: 6
              file: 
              value: daemon_user
            : !ruby/object:Puppet::Parser::AST::String
              line: 6
              file: 
              value: nginx
            ? !ruby/object:Puppet::Parser::AST::String
              line: 7
              file: 
              value: pid
            : !ruby/object:Puppet::Parser::AST::String
              line: 7
              file: 
              value: /var/run/nginx.pid
            ? !ruby/object:Puppet::Parser::AST::String
              line: 8
              file: 
              value: root_group
            : !ruby/object:Puppet::Parser::AST::String
              line: 8
              file: 
              value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::CaseStatement
        line: 46
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 10
          file: 
          value: "::osfamily"
        options: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 16
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 16
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 11
                    file: 
                    value: ArchLinux
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 16
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 12
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 12
                      file: 
                      value: "_module_os_overrides"
                    value: !ruby/object:Puppet::Parser::AST::ASTHash
                      line: 15
                      file: 
                      value: 
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 13
                          file: 
                          value: pid
                        : !ruby/object:Puppet::Parser::AST::Boolean
                          line: 13
                          file: 
                          value: false
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 14
                          file: 
                          value: daemon_user
                        : !ruby/object:Puppet::Parser::AST::String
                          line: 14
                          file: 
                          value: http
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 21
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 17
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 17
                    file: 
                    value: Debian
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 21
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 18
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 18
                      file: 
                      value: "_module_os_overrides"
                    value: !ruby/object:Puppet::Parser::AST::ASTHash
                      line: 19
                      file: 
                      value: 
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 19
                          file: 
                          value: daemon_user
                        : !ruby/object:Puppet::Parser::AST::String
                          line: 19
                          file: 
                          value: www-data
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 28
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 22
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 22
                    file: 
                    value: FreeBSD
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 28
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 23
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 23
                      file: 
                      value: "_module_os_overrides"
                    value: !ruby/object:Puppet::Parser::AST::ASTHash
                      line: 26
                      file: 
                      value: 
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: conf_dir
                        : !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: /usr/local/etc/nginx
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 25
                          file: 
                          value: daemon_user
                        : !ruby/object:Puppet::Parser::AST::String
                          line: 25
                          file: 
                          value: www
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 26
                          file: 
                          value: root_group
                        : !ruby/object:Puppet::Parser::AST::String
                          line: 26
                          file: 
                          value: wheel
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 33
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 29
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 29
                    file: 
                    value: Solaris
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 33
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 30
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 30
                      file: 
                      value: "_module_os_overrides"
                    value: !ruby/object:Puppet::Parser::AST::ASTHash
                      line: 31
                      file: 
                      value: 
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 31
                          file: 
                          value: daemon_user
                        : !ruby/object:Puppet::Parser::AST::String
                          line: 31
                          file: 
                          value: webservd
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 45
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 34
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Default
                    line: 34
                    file: 
                    value: default
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 45
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::CaseStatement
                    line: 44
                    file: 
                    doc: "# For cases not covered in $::osfamily\n"
                    test: !ruby/object:Puppet::Parser::AST::Variable
                      line: 36
                      file: 
                      value: "::operatingsystem"
                    options: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 42
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::CaseOpt
                          line: 42
                          file: 
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 37
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 37
                                file: 
                                value: SmartOS
                          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                            line: 42
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::VarDef
                                line: 38
                                file: 
                                doc: ""
                                name: !ruby/object:Puppet::Parser::AST::Name
                                  line: 38
                                  file: 
                                  value: "_module_os_overrides"
                                value: !ruby/object:Puppet::Parser::AST::ASTHash
                                  line: 41
                                  file: 
                                  value: 
                                    ? !ruby/object:Puppet::Parser::AST::String
                                      line: 39
                                      file: 
                                      value: conf_dir
                                    : !ruby/object:Puppet::Parser::AST::String
                                      line: 39
                                      file: 
                                      value: /usr/local/etc/nginx
                                    ? !ruby/object:Puppet::Parser::AST::String
                                      line: 40
                                      file: 
                                      value: daemon_user
                                    : !ruby/object:Puppet::Parser::AST::String
                                      line: 40
                                      file: 
                                      value: www
                                children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::CaseOpt
                          line: 43
                          file: 
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 43
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Default
                                line: 43
                                file: 
                                value: default
                          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                            line: 43
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::VarDef
                                line: 43
                                file: 
                                doc: ""
                                name: !ruby/object:Puppet::Parser::AST::Name
                                  line: 43
                                  file: 
                                  value: "_module_os_overrides"
                                value: !ruby/object:Puppet::Parser::AST::ASTHash
                                  line: 43
                                  file: 
                                  value: {}
                                children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 48
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 48
          file: 
          value: "_module_parameters"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 48
          file: 
          doc: ""
          name: merge
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 48
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 48
                file: 
                value: "_module_defaults"
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 48
                file: 
                value: "_module_os_overrides"
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 52
        file: 
        doc: "## Referenced Variables\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 52
          file: 
          value: conf_dir
        value: !ruby/object:Puppet::Parser::AST::HashOrArrayAccess
          line: 52
          file: 
          variable: "_module_parameters"
          key: !ruby/object:Puppet::Parser::AST::String
            line: 52
            file: 
            value: conf_dir
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 53
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 53
          file: 
          value: log_dir
        value: !ruby/object:Puppet::Parser::AST::String
          line: 53
          file: 
          value: /var/log/nginx
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 54
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 54
          file: 
          value: run_dir
        value: !ruby/object:Puppet::Parser::AST::String
          line: 54
          file: 
          value: /var/nginx
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 55
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 55
          file: 
          value: temp_dir
        value: !ruby/object:Puppet::Parser::AST::String
          line: 55
          file: 
          value: /tmp
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 56
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 56
          file: 
          value: pid
        value: !ruby/object:Puppet::Parser::AST::HashOrArrayAccess
          line: 56
          file: 
          variable: "_module_parameters"
          key: !ruby/object:Puppet::Parser::AST::String
            line: 56
            file: 
            value: pid
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 58
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 58
          file: 
          value: client_body_temp_path
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 58
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 58
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 58
              file: 
              value: run_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 58
              file: 
              value: /client_body_temp
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 59
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 59
          file: 
          value: daemon_user
        value: !ruby/object:Puppet::Parser::AST::HashOrArrayAccess
          line: 59
          file: 
          variable: "_module_parameters"
          key: !ruby/object:Puppet::Parser::AST::String
            line: 59
            file: 
            value: daemon_user
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 60
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 60
          file: 
          value: global_owner
        value: !ruby/object:Puppet::Parser::AST::String
          line: 60
          file: 
          value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 61
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 61
          file: 
          value: global_group
        value: !ruby/object:Puppet::Parser::AST::String
          line: 61
          file: 
          value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 62
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 62
          file: 
          value: global_mode
        value: !ruby/object:Puppet::Parser::AST::String
          line: 62
          file: 
          value: "0644"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 63
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 63
          file: 
          value: http_access_log
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 63
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 63
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 63
              file: 
              value: log_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 63
              file: 
              value: /access.log
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 64
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 64
          file: 
          value: nginx_error_log
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 64
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 64
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 64
              file: 
              value: log_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 64
              file: 
              value: /error.log
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 65
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 65
          file: 
          value: root_group
        value: !ruby/object:Puppet::Parser::AST::HashOrArrayAccess
          line: 65
          file: 
          variable: "_module_parameters"
          key: !ruby/object:Puppet::Parser::AST::String
            line: 65
            file: 
            value: root_group
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 66
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 66
          file: 
          value: proxy_temp_path
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 66
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 66
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 66
              file: 
              value: run_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 66
              file: 
              value: /proxy_temp
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 67
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 67
          file: 
          value: sites_available_owner
        value: !ruby/object:Puppet::Parser::AST::String
          line: 67
          file: 
          value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 68
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 68
          file: 
          value: sites_available_group
        value: !ruby/object:Puppet::Parser::AST::String
          line: 68
          file: 
          value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 69
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 69
          file: 
          value: sites_available_mode
        value: !ruby/object:Puppet::Parser::AST::String
          line: 69
          file: 
          value: "0644"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 70
        file: 
        doc: "## END Referenced Variables\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 70
          file: 
          value: super_user
        value: !ruby/object:Puppet::Parser::AST::Boolean
          line: 70
          file: 
          value: true
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::nginx::upstream::member"
  namespace: "cloudeploydocker::nginx::upstream"
  arguments: 
    upstream: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: ""
    server: 
    port: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "8080"
    upstream_fail_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "10s"
    nginx_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: ""
    ensure: !ruby/object:Puppet::Parser::AST::Boolean
      line: 7
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 10
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 9
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 9
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 10
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 10
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 10
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 10
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 10
                file: 
                value: nginx_instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 10
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 10
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 10
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 11
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 11
          file: 
          value: mnt_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 11
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 11
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 11
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 11
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 12
        file: 
        doc: ""
        name: notice
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 12
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Concat
              line: 12
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: "member target: "
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 12
                  file: 
                  value: mnt_dir
                - !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: /conf.d/
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 12
                  file: 
                  value: upstream
                - !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: "-upstream.conf"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 20
        file: 
        doc: "Uses: $server, $port, $upstream_fail_timeout\n\t\t concat::fragment { \x22${upstream}_upstream_member_${name}\x22:\n\t\t   target  => \x22${mnt_dir}/conf.d/${upstream}-upstream.conf\x22,\n\t\t   order   => 40,\n\t\t   content => template('cloudeploydocker/conf.d/upstream_member.erb'),\n\t\t }\n    notify{\x22select value is $_ensure\x22:}\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 20
          file: 
          value: "_ensure"
        value: !ruby/object:Puppet::Parser::AST::Selector
          line: 24
          file: 
          param: !ruby/object:Puppet::Parser::AST::Variable
            line: 20
            file: 
            value: ensure
          values: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 22
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 21
                file: 
                param: !ruby/object:Puppet::Parser::AST::Boolean
                  line: 21
                  file: 
                  value: true
                value: !ruby/object:Puppet::Parser::AST::String
                  line: 21
                  file: 
                  value: present
                children: []
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 22
                file: 
                param: !ruby/object:Puppet::Parser::AST::Boolean
                  line: 22
                  file: 
                  value: false
                value: !ruby/object:Puppet::Parser::AST::String
                  line: 22
                  file: 
                  value: absent
                children: []
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 23
                file: 
                param: !ruby/object:Puppet::Parser::AST::Default
                  line: 23
                  file: 
                  value: default
                value: !ruby/object:Puppet::Parser::AST::String
                  line: 23
                  file: 
                  value: present
                children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 33
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 26
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 26
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 26
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 26
                  file: 
                  type: File
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 26
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 26
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 26
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 26
                            file: 
                            value: mnt_dir
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 26
                            file: 
                            value: /conf.d/
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 26
                            file: 
                            value: upstream
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 26
                            file: 
                            value: "-upstream.conf"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 30
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 29
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 29
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 29
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 27
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 27
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 27
                          file: 
                          value: mnt_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 27
                          file: 
                          value: /conf.d/
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 27
                          file: 
                          value: upstream
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 27
                          file: 
                          value: "-upstream.conf"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 28
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 28
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 28
                            file: 
                            value: present
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 31
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 30
                file: 
                type: File
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 30
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 30
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 30
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 30
                          file: 
                          value: mnt_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 30
                          file: 
                          value: /conf.d/
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 30
                          file: 
                          value: upstream
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 30
                          file: 
                          value: "-upstream.conf"
                children: []
              right: !ruby/object:Puppet::Parser::AST::Collection
                line: 31
                file: 
                doc: ""
                type: file_line
                query: !ruby/object:Puppet::Parser::AST::CollExpr
                  line: 30
                  file: 
                  test1: !ruby/object:Puppet::Parser::AST::Name
                    line: 30
                    file: 
                    value: path
                  oper: "=="
                  test2: !ruby/object:Puppet::Parser::AST::Concat
                    line: 30
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 30
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 30
                        file: 
                        value: mnt_dir
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 30
                        file: 
                        value: /conf.d/
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 30
                        file: 
                        value: upstream
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 30
                        file: 
                        value: "-upstream.conf"
                  children: []
                  form: !ruby/sym virtual
                  type: file_line
                form: !ruby/sym virtual
                children: []
              arrow: "->"
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 47
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 42
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 37
            file: 
            doc: ""
            type: file_line
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 37
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 37
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::Concat
                    line: 33
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 33
                        file: 
                        value: delete_end_
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 33
                        file: 
                        value: name
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 33
                        file: 
                        value: ""
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 34
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 34
                        file: 
                        param: line
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 34
                          file: 
                          value: "}"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 35
                        file: 
                        param: path
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 35
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 35
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 35
                              file: 
                              value: mnt_dir
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 35
                              file: 
                              value: /conf.d/
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 35
                              file: 
                              value: upstream
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 35
                              file: 
                              value: "-upstream.conf"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 36
                        file: 
                        param: ensure
                        value: !ruby/object:Puppet::Parser::AST::Name
                          line: 36
                          file: 
                          value: absent
                        children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 42
            file: 
            doc: ""
            type: file_line
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 42
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 42
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::Concat
                    line: 38
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 38
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 38
                        file: 
                        value: name
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 38
                        file: 
                        value: "_member"
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 39
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 39
                        file: 
                        param: line
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 39
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 39
                              file: 
                              value: "  server     "
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 39
                              file: 
                              value: server
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 39
                              file: 
                              value: ":"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 39
                              file: 
                              value: port
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 39
                              file: 
                              value: "  fail_timeout="
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 39
                              file: 
                              value: upstream_fail_timeout
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 39
                              file: 
                              value: ";"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 40
                        file: 
                        param: path
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 40
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 40
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 40
                              file: 
                              value: mnt_dir
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 40
                              file: 
                              value: /conf.d/
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 40
                              file: 
                              value: upstream
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 40
                              file: 
                              value: "-upstream.conf"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 41
                        file: 
                        param: ensure
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 41
                          file: 
                          value: "_ensure"
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 47
          file: 
          doc: ""
          type: file_line
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 47
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 47
                file: 
                title: !ruby/object:Puppet::Parser::AST::Concat
                  line: 43
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 43
                      file: 
                      value: add_end_
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 43
                      file: 
                      value: name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 43
                      file: 
                      value: ""
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 44
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 44
                      file: 
                      param: line
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 44
                        file: 
                        value: "}"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 45
                      file: 
                      param: path
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 45
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 45
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 45
                            file: 
                            value: mnt_dir
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 45
                            file: 
                            value: /conf.d/
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 45
                            file: 
                            value: upstream
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 45
                            file: 
                            value: "-upstream.conf"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 46
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 46
                        file: 
                        value: present
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::nginx::upstream"
  namespace: "cloudeploydocker::nginx"
  arguments: 
    members: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 42
      file: 
      children: []
    ensure: !ruby/object:Puppet::Parser::AST::String
      line: 43
      file: 
      value: present
    upstream_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 44
      file: 
      value: !ruby/sym undef
    upstream_fail_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 45
      file: 
      value: "10s"
    nginx_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 46
      file: 
      value: ""
    upstream_name: !ruby/object:Puppet::Parser::AST::String
      line: 47
      file: 
      value: ""
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 53
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 53
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 50
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 50
            file: 
            value: members
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 50
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 52
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 51
              file: 
              doc: ""
              name: validate_array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 51
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 51
                    file: 
                    value: members
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 53
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 53
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 53
              file: 
              value: ensure
            - !ruby/object:Puppet::Parser::AST::String
              line: 53
              file: 
              value: "^(present|absent)$"
            - !ruby/object:Puppet::Parser::AST::Concat
              line: 54
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 54
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 54
                  file: 
                  value: ensure
                - !ruby/object:Puppet::Parser::AST::String
                  line: 54
                  file: 
                  value: " is not supported for ensure. Allowed values are 'present' and 'absent'."
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 60
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 56
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 56
            file: 
            value: upstream_cfg_prepend
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 56
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 58
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 57
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 57
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 57
                    file: 
                    value: upstream_cfg_prepend
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 60
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 61
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 60
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 61
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 61
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 61
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 61
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 61
                file: 
                value: nginx_instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 61
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 61
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 61
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 62
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 62
          file: 
          value: mnt_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 62
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 62
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 62
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 62
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 62
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 62
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 64
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 64
          file: 
          value: ensure_real
        value: !ruby/object:Puppet::Parser::AST::Selector
          line: 67
          file: 
          param: !ruby/object:Puppet::Parser::AST::Variable
            line: 64
            file: 
            value: ensure
          values: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 66
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 65
                file: 
                param: !ruby/object:Puppet::Parser::AST::String
                  line: 65
                  file: 
                  value: absent
                value: !ruby/object:Puppet::Parser::AST::Name
                  line: 65
                  file: 
                  value: absent
                children: []
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 66
                file: 
                param: !ruby/object:Puppet::Parser::AST::Default
                  line: 66
                  file: 
                  value: default
                value: !ruby/object:Puppet::Parser::AST::Name
                  line: 66
                  file: 
                  value: present
                children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 79
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 69
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 69
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 69
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 69
                  file: 
                  type: File
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 69
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 69
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 69
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 69
                            file: 
                            value: mnt_dir
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 69
                            file: 
                            value: /conf.d/
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 69
                            file: 
                            value: upstream_name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 69
                            file: 
                            value: "-upstream.conf"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 73
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 72
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 72
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 72
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 70
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 70
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 70
                          file: 
                          value: mnt_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 70
                          file: 
                          value: /conf.d/
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 70
                          file: 
                          value: upstream_name
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 70
                          file: 
                          value: "-upstream.conf"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 71
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 71
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 71
                            file: 
                            value: present
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 74
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 73
                file: 
                type: File
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 73
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 73
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 73
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 73
                          file: 
                          value: mnt_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 73
                          file: 
                          value: /conf.d/
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 73
                          file: 
                          value: upstream_name
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 73
                          file: 
                          value: "-upstream.conf"
                children: []
              right: !ruby/object:Puppet::Parser::AST::Collection
                line: 74
                file: 
                doc: ""
                type: file_line
                query: !ruby/object:Puppet::Parser::AST::CollExpr
                  line: 73
                  file: 
                  test1: !ruby/object:Puppet::Parser::AST::Name
                    line: 73
                    file: 
                    value: path
                  oper: "=="
                  test2: !ruby/object:Puppet::Parser::AST::Concat
                    line: 73
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 73
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 73
                        file: 
                        value: mnt_dir
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 73
                        file: 
                        value: /conf.d/
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 73
                        file: 
                        value: upstream_name
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 73
                        file: 
                        value: "-upstream.conf"
                  children: []
                  form: !ruby/sym virtual
                  type: file_line
                form: !ruby/sym virtual
                children: []
              arrow: "->"
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 77
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 74
                file: 
                doc: ""
                name: defined
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 74
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 74
                      file: 
                      type: Service
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 74
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Concat
                            line: 74
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 74
                                file: 
                                value: docker-
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 74
                                file: 
                                value: "_instance_name"
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 74
                                file: 
                                value: ""
                      children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 76
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Relationship
                    line: 75
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 75
                      file: 
                      type: File
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 75
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Concat
                            line: 75
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 75
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 75
                                file: 
                                value: mnt_dir
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 75
                                file: 
                                value: /conf.d/
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 75
                                file: 
                                value: upstream_name
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 75
                                file: 
                                value: "-upstream.conf"
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 75
                      file: 
                      type: Service
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 75
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Concat
                            line: 75
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 75
                                file: 
                                value: docker-
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 75
                                file: 
                                value: "_instance_name"
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 75
                                file: 
                                value: ""
                      children: []
                    arrow: "~>"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 88
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 83
          file: 
          doc: ""
          type: file_line
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 83
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 83
                file: 
                title: !ruby/object:Puppet::Parser::AST::Concat
                  line: 79
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 79
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 79
                      file: 
                      value: upstream_name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 79
                      file: 
                      value: "_upstream_header"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 80
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 80
                      file: 
                      param: line
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 80
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 80
                            file: 
                            value: "upstream "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 80
                            file: 
                            value: upstream_name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 80
                            file: 
                            value: " {"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 81
                      file: 
                      param: path
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 81
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 81
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 81
                            file: 
                            value: mnt_dir
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 81
                            file: 
                            value: /conf.d/
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 81
                            file: 
                            value: upstream_name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 81
                            file: 
                            value: "-upstream.conf"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 82
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 82
                        file: 
                        value: present
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 88
          file: 
          doc: ""
          type: file_line
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 88
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 88
                file: 
                title: !ruby/object:Puppet::Parser::AST::Concat
                  line: 84
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 84
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 84
                      file: 
                      value: upstream_name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 84
                      file: 
                      value: "_upstream_footer"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 85
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 85
                      file: 
                      param: line
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 85
                        file: 
                        value: "}"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 86
                      file: 
                      param: path
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 86
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 86
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 86
                            file: 
                            value: mnt_dir
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 86
                            file: 
                            value: /conf.d/
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 86
                            file: 
                            value: upstream_name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 86
                            file: 
                            value: "-upstream.conf"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 87
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 87
                        file: 
                        value: present
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: "define: nginx::resource::upstream\n\nThis definition creates a new upstream proxy entry for NGINX\n\nParameters:\n  [*members*]               - Array of member URIs for NGINX to connect to. Must follow valid NGINX syntax.\n                              If omitted, individual members should be defined with nginx::resource::upstream::member\n  [*ensure*]                - Enables or disables the specified location (present|absent)\n  [*upstream_cfg_prepend*]  - It expects a hash with custom directives to put before anything else inside upstream\n  [*upstream_fail_timeout*] - Set the fail_timeout for the upstream. Default is 10 seconds - As that is what Nginx does normally.\n\nActions:\n\nRequires:\n\nSample Usage:\n nginx::resource::upstream { 'proxypass':\n   ensure  => present,\n   members => [\n     'localhost:3000',\n     'localhost:3001',\n     'localhost:3002',\n   ],\n }\n\n Custom config example to use ip_hash, and 20 keepalive connections\n create a hash with any extra custom config you want.\n $my_config = {\n   'ip_hash'   => '',\n   'keepalive' => '20',\n }\n nginx::resource::upstream { 'proxypass':\n   ensure              => present,\n   members => [\n     'localhost:3000',\n     'localhost:3001',\n     'localhost:3002',\n   ],\n   upstream_cfg_prepend => $my_config,\n }\n"
  line: 41
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::nginx::vhost"
  namespace: "cloudeploydocker::nginx"
  arguments: 
    nginx_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 151
      file: 
      value: ""
    vhost_name: !ruby/object:Puppet::Parser::AST::String
      line: 152
      file: 
      value: ""
    ensure: !ruby/object:Puppet::Parser::AST::String
      line: 153
      file: 
      value: present
    listen_ip: !ruby/object:Puppet::Parser::AST::String
      line: 154
      file: 
      value: "*"
    listen_port: !ruby/object:Puppet::Parser::AST::String
      line: 155
      file: 
      value: "80"
    listen_options: !ruby/object:Puppet::Parser::AST::Undef
      line: 156
      file: 
      value: !ruby/sym undef
    location_allow: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 157
      file: 
      children: []
    location_deny: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 158
      file: 
      children: []
    ipv6_enable: !ruby/object:Puppet::Parser::AST::Boolean
      line: 159
      file: 
      value: false
    ipv6_listen_ip: !ruby/object:Puppet::Parser::AST::String
      line: 160
      file: 
      value: "::"
    ipv6_listen_port: !ruby/object:Puppet::Parser::AST::String
      line: 161
      file: 
      value: "80"
    ipv6_listen_options: !ruby/object:Puppet::Parser::AST::String
      line: 162
      file: 
      value: "default ipv6only=on"
    add_header: !ruby/object:Puppet::Parser::AST::Undef
      line: 163
      file: 
      value: !ruby/sym undef
    ssl: !ruby/object:Puppet::Parser::AST::Boolean
      line: 164
      file: 
      value: false
    ssl_listen_option: !ruby/object:Puppet::Parser::AST::Boolean
      line: 165
      file: 
      value: true
    ssl_cert: !ruby/object:Puppet::Parser::AST::Undef
      line: 166
      file: 
      value: !ruby/sym undef
    ssl_dhparam: !ruby/object:Puppet::Parser::AST::Undef
      line: 167
      file: 
      value: !ruby/sym undef
    ssl_key: !ruby/object:Puppet::Parser::AST::Undef
      line: 168
      file: 
      value: !ruby/sym undef
    ssl_port: !ruby/object:Puppet::Parser::AST::String
      line: 169
      file: 
      value: "443"
    ssl_protocols: !ruby/object:Puppet::Parser::AST::String
      line: 170
      file: 
      value: "TLSv1 TLSv1.1 TLSv1.2"
    ssl_ciphers: !ruby/object:Puppet::Parser::AST::String
      line: 171
      file: 
      value: "ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA"
    ssl_cache: !ruby/object:Puppet::Parser::AST::String
      line: 172
      file: 
      value: "shared:SSL:10m"
    ssl_stapling: !ruby/object:Puppet::Parser::AST::Boolean
      line: 173
      file: 
      value: false
    ssl_stapling_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 174
      file: 
      value: !ruby/sym undef
    ssl_stapling_responder: !ruby/object:Puppet::Parser::AST::Undef
      line: 175
      file: 
      value: !ruby/sym undef
    ssl_stapling_verify: !ruby/object:Puppet::Parser::AST::Boolean
      line: 176
      file: 
      value: false
    ssl_session_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 177
      file: 
      value: "5m"
    ssl_trusted_cert: !ruby/object:Puppet::Parser::AST::Undef
      line: 178
      file: 
      value: !ruby/sym undef
    spdy: !ruby/object:Puppet::Parser::AST::String
      line: 179
      file: 
      value: "off"
    proxy: !ruby/object:Puppet::Parser::AST::Undef
      line: 180
      file: 
      value: !ruby/sym undef
    proxy_redirect: !ruby/object:Puppet::Parser::AST::Undef
      line: 181
      file: 
      value: !ruby/sym undef
    proxy_read_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 182
      file: 
      value: "1"
    proxy_connect_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 183
      file: 
      value: "1"
    proxy_set_header: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 184
      file: 
      children: []
    proxy_cache: !ruby/object:Puppet::Parser::AST::Boolean
      line: 185
      file: 
      value: false
    proxy_cache_valid: !ruby/object:Puppet::Parser::AST::Boolean
      line: 186
      file: 
      value: false
    proxy_method: !ruby/object:Puppet::Parser::AST::Undef
      line: 187
      file: 
      value: !ruby/sym undef
    proxy_set_body: !ruby/object:Puppet::Parser::AST::Undef
      line: 188
      file: 
      value: !ruby/sym undef
    resolver: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 189
      file: 
      children: []
    fastcgi: !ruby/object:Puppet::Parser::AST::Undef
      line: 190
      file: 
      value: !ruby/sym undef
    fastcgi_script: !ruby/object:Puppet::Parser::AST::Undef
      line: 191
      file: 
      value: !ruby/sym undef
    index_files: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 193
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 193
          file: 
          value: index.html
        - !ruby/object:Puppet::Parser::AST::String
          line: 194
          file: 
          value: index.htm
        - !ruby/object:Puppet::Parser::AST::String
          line: 195
          file: 
          value: index.php
    autoindex: !ruby/object:Puppet::Parser::AST::Undef
      line: 196
      file: 
      value: !ruby/sym undef
    www_root: !ruby/object:Puppet::Parser::AST::Undef
      line: 197
      file: 
      value: !ruby/sym undef
    rewrite_www_to_non_www: !ruby/object:Puppet::Parser::AST::Boolean
      line: 198
      file: 
      value: false
    rewrite_to_https: !ruby/object:Puppet::Parser::AST::Undef
      line: 199
      file: 
      value: !ruby/sym undef
    location_custom_cfg: !ruby/object:Puppet::Parser::AST::Undef
      line: 200
      file: 
      value: !ruby/sym undef
    location_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 201
      file: 
      value: !ruby/sym undef
    location_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 202
      file: 
      value: !ruby/sym undef
    location_custom_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 203
      file: 
      value: !ruby/sym undef
    location_custom_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 204
      file: 
      value: !ruby/sym undef
    try_files: !ruby/object:Puppet::Parser::AST::Undef
      line: 205
      file: 
      value: !ruby/sym undef
    auth_basic: !ruby/object:Puppet::Parser::AST::Undef
      line: 206
      file: 
      value: !ruby/sym undef
    auth_basic_user_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 207
      file: 
      value: !ruby/sym undef
    client_body_timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 208
      file: 
      value: !ruby/sym undef
    client_header_timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 209
      file: 
      value: !ruby/sym undef
    client_max_body_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 210
      file: 
      value: !ruby/sym undef
    raw_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 211
      file: 
      value: !ruby/sym undef
    raw_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 212
      file: 
      value: !ruby/sym undef
    location_raw_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 213
      file: 
      value: !ruby/sym undef
    location_raw_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 214
      file: 
      value: !ruby/sym undef
    vhost_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 215
      file: 
      value: !ruby/sym undef
    vhost_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 216
      file: 
      value: !ruby/sym undef
    vhost_cfg_ssl_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 217
      file: 
      value: !ruby/sym undef
    vhost_cfg_ssl_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 218
      file: 
      value: !ruby/sym undef
    include_files: !ruby/object:Puppet::Parser::AST::Undef
      line: 219
      file: 
      value: !ruby/sym undef
    access_log: !ruby/object:Puppet::Parser::AST::Undef
      line: 220
      file: 
      value: !ruby/sym undef
    error_log: !ruby/object:Puppet::Parser::AST::Undef
      line: 221
      file: 
      value: !ruby/sym undef
    format_log: !ruby/object:Puppet::Parser::AST::Undef
      line: 222
      file: 
      value: !ruby/sym undef
    passenger_cgi_param: !ruby/object:Puppet::Parser::AST::Undef
      line: 223
      file: 
      value: !ruby/sym undef
    log_by_lua: !ruby/object:Puppet::Parser::AST::Undef
      line: 224
      file: 
      value: !ruby/sym undef
    log_by_lua_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 225
      file: 
      value: !ruby/sym undef
    use_default_location: !ruby/object:Puppet::Parser::AST::Boolean
      line: 226
      file: 
      value: true
    rewrite_rules: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 227
      file: 
      children: []
    gzip_types: !ruby/object:Puppet::Parser::AST::Undef
      line: 228
      file: 
      value: !ruby/sym undef
    owner: !ruby/object:Puppet::Parser::AST::String
      line: 229
      file: 
      value: root
    group: !ruby/object:Puppet::Parser::AST::String
      line: 230
      file: 
      value: root
    mode: !ruby/object:Puppet::Parser::AST::String
      line: 231
      file: 
      value: "0644"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 235
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 234
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 235
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 234
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 235
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 235
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 235
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 235
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 235
                file: 
                value: nginx_instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 235
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 235
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 235
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 236
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 236
          file: 
          value: mnt_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 236
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 236
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 236
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 236
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 236
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 236
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 237
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 237
          file: 
          value: fastcgi_params
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 237
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 237
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 237
              file: 
              value: mnt_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 237
              file: 
              value: /fastcgi_params
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 238
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 238
          file: 
          value: server_name
        value: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 238
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 238
              file: 
              value: vhost_name
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 240
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 240
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 240
              file: 
              value: ensure
            - !ruby/object:Puppet::Parser::AST::String
              line: 240
              file: 
              value: "^(present|absent)$"
            - !ruby/object:Puppet::Parser::AST::Concat
              line: 241
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 241
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 241
                  file: 
                  value: ensure
                - !ruby/object:Puppet::Parser::AST::String
                  line: 241
                  file: 
                  value: " is not supported for ensure. Allowed values are 'present' and 'absent'."
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 242
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 242
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 242
              file: 
              value: listen_ip
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 246
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 243
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 243
            file: 
            doc: ""
            name: is_integer
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 243
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 243
                  file: 
                  value: listen_port
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 245
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 244
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 244
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 244
                    file: 
                    value: "$listen_port must be an integer."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 249
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 246
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 246
            file: 
            value: listen_options
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 246
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 248
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 247
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 247
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 247
                    file: 
                    value: listen_options
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 249
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 249
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 249
              file: 
              value: location_allow
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 250
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 250
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 250
              file: 
              value: location_deny
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 251
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 251
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 251
              file: 
              value: ipv6_enable
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 252
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 252
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 252
              file: 
              value: ipv6_listen_ip
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 256
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 253
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 253
            file: 
            doc: ""
            name: is_integer
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 253
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 253
                  file: 
                  value: ipv6_listen_port
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 255
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 254
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 254
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 254
                    file: 
                    value: "$ipv6_listen_port must be an integer."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 256
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 256
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 256
              file: 
              value: ipv6_listen_options
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 260
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 257
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 257
            file: 
            value: add_header
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 257
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 259
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 258
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 258
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 258
                    file: 
                    value: add_header
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 260
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 260
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 260
              file: 
              value: ssl
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 264
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 261
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 261
            file: 
            value: ssl_cert
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 261
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 263
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 262
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 262
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 262
                    file: 
                    value: ssl_cert
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 264
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 264
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 264
              file: 
              value: ssl_listen_option
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 268
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 265
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 265
            file: 
            value: ssl_dhparam
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 265
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 267
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 266
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 266
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 266
                    file: 
                    value: ssl_dhparam
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 271
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 268
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 268
            file: 
            value: ssl_key
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 268
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 270
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 269
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 269
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 269
                    file: 
                    value: ssl_key
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 274
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 271
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 271
            file: 
            doc: ""
            name: is_integer
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 271
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 271
                  file: 
                  value: ssl_port
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 273
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 272
              file: 
              doc: ""
              name: fail
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 272
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 272
                    file: 
                    value: "$ssl_port must be an integer."
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 274
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 274
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 274
              file: 
              value: ssl_protocols
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 275
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 275
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 275
              file: 
              value: ssl_ciphers
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 276
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 276
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 276
              file: 
              value: ssl_cache
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 277
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 277
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 277
              file: 
              value: ssl_stapling
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 281
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 278
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 278
            file: 
            value: ssl_stapling_file
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 278
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 280
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 279
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 279
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 279
                    file: 
                    value: ssl_stapling_file
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 284
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 281
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 281
            file: 
            value: ssl_stapling_responder
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 281
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 283
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 282
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 282
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 282
                    file: 
                    value: ssl_stapling_responder
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 284
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 284
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 284
              file: 
              value: ssl_stapling_verify
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 285
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 285
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 285
              file: 
              value: ssl_session_timeout
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 289
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 286
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 286
            file: 
            value: ssl_trusted_cert
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 286
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 288
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 287
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 287
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 287
                    file: 
                    value: ssl_trusted_cert
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 289
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 289
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 289
              file: 
              value: spdy
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 293
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 290
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 290
            file: 
            value: proxy
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 290
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 292
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 291
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 291
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 291
                    file: 
                    value: proxy
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 293
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 293
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 293
              file: 
              value: proxy_read_timeout
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 297
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 294
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 294
            file: 
            value: proxy_redirect
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 294
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 296
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 295
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 295
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 295
                    file: 
                    value: proxy_redirect
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 297
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 297
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 297
              file: 
              value: proxy_set_header
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 301
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 298
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 298
            file: 
            value: proxy_cache
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 298
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 300
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 299
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 299
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 299
                    file: 
                    value: proxy_cache
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 304
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 301
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 301
            file: 
            value: proxy_cache_valid
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 301
            file: 
            value: false
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 303
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 302
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 302
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 302
                    file: 
                    value: proxy_cache_valid
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 307
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 304
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 304
            file: 
            value: proxy_method
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 304
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 306
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 305
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 305
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 305
                    file: 
                    value: proxy_method
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 310
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 307
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 307
            file: 
            value: proxy_set_body
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 307
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 309
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 308
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 308
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 308
                    file: 
                    value: proxy_set_body
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 310
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 310
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 310
              file: 
              value: resolver
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 314
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 311
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 311
            file: 
            value: fastcgi
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 311
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 313
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 312
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 312
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 312
                    file: 
                    value: fastcgi
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 314
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 314
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 314
              file: 
              value: fastcgi_params
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 318
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 315
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 315
            file: 
            value: fastcgi_script
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 315
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 317
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 316
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 316
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 316
                    file: 
                    value: fastcgi_script
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 318
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 318
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 318
              file: 
              value: index_files
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 322
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 319
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 319
            file: 
            value: autoindex
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 319
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 321
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 320
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 320
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 320
                    file: 
                    value: autoindex
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 322
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 322
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 322
              file: 
              value: server_name
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 326
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 323
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 323
            file: 
            value: www_root
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 323
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 325
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 324
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 324
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 324
                    file: 
                    value: www_root
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 326
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 326
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 326
              file: 
              value: rewrite_www_to_non_www
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 330
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 327
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 327
            file: 
            value: rewrite_to_https
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 327
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 329
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 328
              file: 
              doc: ""
              name: validate_bool
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 328
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 328
                    file: 
                    value: rewrite_to_https
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 337
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 330
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 330
            file: 
            value: raw_prepend
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 330
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 335
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 335
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 331
                file: 
                doc: ""
                name: is_array
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 331
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 331
                      file: 
                      value: raw_prepend
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 333
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 332
                    file: 
                    doc: ""
                    name: validate_array
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 332
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 332
                          file: 
                          value: raw_prepend
                    children: []
              children: []
              else: !ruby/object:Puppet::Parser::AST::Else
                line: 335
                file: 
                doc: ""
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 335
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym statement
                      line: 334
                      file: 
                      doc: ""
                      name: validate_string
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 334
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 334
                            file: 
                            value: raw_prepend
                      children: []
                children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 344
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 337
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 337
            file: 
            value: raw_append
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 337
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 342
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 342
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 338
                file: 
                doc: ""
                name: is_array
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 338
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 338
                      file: 
                      value: raw_append
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 340
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 339
                    file: 
                    doc: ""
                    name: validate_array
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 339
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 339
                          file: 
                          value: raw_append
                    children: []
              children: []
              else: !ruby/object:Puppet::Parser::AST::Else
                line: 342
                file: 
                doc: ""
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 342
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym statement
                      line: 341
                      file: 
                      doc: ""
                      name: validate_string
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 341
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 341
                            file: 
                            value: raw_append
                      children: []
                children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 351
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 344
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 344
            file: 
            value: location_raw_prepend
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 344
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 349
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 349
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 345
                file: 
                doc: ""
                name: is_array
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 345
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 345
                      file: 
                      value: location_raw_prepend
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 347
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 346
                    file: 
                    doc: ""
                    name: validate_array
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 346
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 346
                          file: 
                          value: location_raw_prepend
                    children: []
              children: []
              else: !ruby/object:Puppet::Parser::AST::Else
                line: 349
                file: 
                doc: ""
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 349
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym statement
                      line: 348
                      file: 
                      doc: ""
                      name: validate_string
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 348
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 348
                            file: 
                            value: location_raw_prepend
                      children: []
                children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 358
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 351
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 351
            file: 
            value: location_raw_append
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 351
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 356
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 356
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 352
                file: 
                doc: ""
                name: is_array
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 352
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 352
                      file: 
                      value: location_raw_append
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 354
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 353
                    file: 
                    doc: ""
                    name: validate_array
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 353
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 353
                          file: 
                          value: location_raw_append
                    children: []
              children: []
              else: !ruby/object:Puppet::Parser::AST::Else
                line: 356
                file: 
                doc: ""
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 356
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym statement
                      line: 355
                      file: 
                      doc: ""
                      name: validate_string
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 355
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 355
                            file: 
                            value: location_raw_append
                      children: []
                children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 361
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 358
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 358
            file: 
            value: location_custom_cfg
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 358
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 360
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 359
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 359
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 359
                    file: 
                    value: location_custom_cfg
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 364
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 361
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 361
            file: 
            value: location_cfg_prepend
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 361
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 363
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 362
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 362
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 362
                    file: 
                    value: location_cfg_prepend
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 367
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 364
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 364
            file: 
            value: location_cfg_append
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 364
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 366
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 365
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 365
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 365
                    file: 
                    value: location_cfg_append
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 370
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 367
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 367
            file: 
            value: try_files
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 367
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 369
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 368
              file: 
              doc: ""
              name: validate_array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 368
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 368
                    file: 
                    value: try_files
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 373
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 370
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 370
            file: 
            value: auth_basic
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 370
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 372
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 371
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 371
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 371
                    file: 
                    value: auth_basic
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 376
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 373
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 373
            file: 
            value: auth_basic_user_file
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 373
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 375
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 374
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 374
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 374
                    file: 
                    value: auth_basic_user_file
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 379
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 376
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 376
            file: 
            value: vhost_cfg_prepend
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 376
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 378
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 377
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 377
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 377
                    file: 
                    value: vhost_cfg_prepend
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 382
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 379
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 379
            file: 
            value: vhost_cfg_append
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 379
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 381
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 380
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 380
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 380
                    file: 
                    value: vhost_cfg_append
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 385
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 382
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 382
            file: 
            value: vhost_cfg_ssl_prepend
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 382
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 384
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 383
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 383
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 383
                    file: 
                    value: vhost_cfg_ssl_prepend
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 388
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 385
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 385
            file: 
            value: vhost_cfg_ssl_append
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 385
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 387
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 386
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 386
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 386
                    file: 
                    value: vhost_cfg_ssl_append
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 391
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 388
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 388
            file: 
            value: include_files
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 388
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 390
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 389
              file: 
              doc: ""
              name: validate_array
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 389
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 389
                    file: 
                    value: include_files
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 394
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 391
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 391
            file: 
            value: access_log
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 391
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 393
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 392
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 392
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 392
                    file: 
                    value: access_log
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 397
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 394
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 394
            file: 
            value: error_log
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 394
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 396
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 395
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 395
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 395
                    file: 
                    value: error_log
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 400
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 397
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 397
            file: 
            value: passenger_cgi_param
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 397
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 399
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 398
              file: 
              doc: ""
              name: validate_hash
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 398
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 398
                    file: 
                    value: passenger_cgi_param
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 403
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 400
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 400
            file: 
            value: log_by_lua
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 400
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 402
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 401
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 401
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 401
                    file: 
                    value: log_by_lua
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 406
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 403
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 403
            file: 
            value: log_by_lua_file
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 403
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 405
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 404
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 404
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 404
                    file: 
                    value: log_by_lua_file
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 409
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 406
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 406
            file: 
            value: client_body_timeout
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 406
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 408
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 407
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 407
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 407
                    file: 
                    value: client_body_timeout
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 412
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 409
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 409
            file: 
            value: client_header_timeout
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 409
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 411
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 410
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 410
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 410
                    file: 
                    value: client_header_timeout
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 415
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 412
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 412
            file: 
            value: gzip_types
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 412
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 414
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 413
              file: 
              doc: ""
              name: validate_string
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 413
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 413
                    file: 
                    value: gzip_types
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 415
        file: 
        doc: ""
        name: validate_bool
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 415
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 415
              file: 
              value: use_default_location
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 416
        file: 
        doc: ""
        name: validate_array
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 416
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 416
              file: 
              value: rewrite_rules
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 418
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 418
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 418
              file: 
              value: owner
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 419
        file: 
        doc: ""
        name: validate_string
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 419
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 419
              file: 
              value: group
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 420
        file: 
        doc: ""
        name: validate_re
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 420
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 420
              file: 
              value: mode
            - !ruby/object:Puppet::Parser::AST::String
              line: 420
              file: 
              value: "^\x5cd{4}$"
            - !ruby/object:Puppet::Parser::AST::Concat
              line: 421
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 421
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 421
                  file: 
                  value: mode
                - !ruby/object:Puppet::Parser::AST::String
                  line: 421
                  file: 
                  value: " is not valid. It should be 4 digits (0644 by default)."
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 424
        file: 
        doc: "Variables\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 424
          file: 
          value: vhost_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 424
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 424
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 424
              file: 
              value: mnt_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 424
              file: 
              value: /sites-available
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 425
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 425
          file: 
          value: vhost_enable_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 425
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 425
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 425
              file: 
              value: mnt_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 425
              file: 
              value: /sites-enabled
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 426
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 426
          file: 
          value: vhost_symlink_ensure
        value: !ruby/object:Puppet::Parser::AST::Selector
          line: 429
          file: 
          param: !ruby/object:Puppet::Parser::AST::Variable
            line: 426
            file: 
            value: ensure
          values: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 428
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 427
                file: 
                param: !ruby/object:Puppet::Parser::AST::String
                  line: 427
                  file: 
                  value: absent
                value: !ruby/object:Puppet::Parser::AST::Name
                  line: 427
                  file: 
                  value: absent
                children: []
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 428
                file: 
                param: !ruby/object:Puppet::Parser::AST::Default
                  line: 428
                  file: 
                  value: default
                value: !ruby/object:Puppet::Parser::AST::String
                  line: 428
                  file: 
                  value: link
                children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 431
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 431
          file: 
          value: name_sanitized
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 431
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 431
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 431
                file: 
                value: vhost_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 431
                file: 
                value: " "
              - !ruby/object:Puppet::Parser::AST::String
                line: 431
                file: 
                value: "_"
              - !ruby/object:Puppet::Parser::AST::String
                line: 431
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 432
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 432
          file: 
          value: config_file
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 432
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 432
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 432
              file: 
              value: vhost_dir
            - !ruby/object:Puppet::Parser::AST::String
              line: 432
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 432
              file: 
              value: name_sanitized
            - !ruby/object:Puppet::Parser::AST::String
              line: 432
              file: 
              value: ".conf"
        children: []
      - !ruby/object:Puppet::Parser::AST::ResourceDefaults
        line: 442
        file: 
        doc: ""
        type: File
        parameters: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 438
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 435
              file: 
              param: ensure
              value: !ruby/object:Puppet::Parser::AST::Selector
                line: 438
                file: 
                param: !ruby/object:Puppet::Parser::AST::Variable
                  line: 435
                  file: 
                  value: ensure
                values: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 437
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 436
                      file: 
                      param: !ruby/object:Puppet::Parser::AST::String
                        line: 436
                        file: 
                        value: absent
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 436
                        file: 
                        value: absent
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 437
                      file: 
                      param: !ruby/object:Puppet::Parser::AST::Default
                        line: 437
                        file: 
                        value: default
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 437
                        file: 
                        value: file
                      children: []
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 439
              file: 
              param: owner
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 439
                file: 
                value: owner
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 440
              file: 
              param: group
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 440
                file: 
                value: group
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 441
              file: 
              param: mode
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 441
                file: 
                value: mode
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 451
        file: 
        doc: "Add IPv6 Logic Check - Nginx service will not start if ipv6 is enabled\nand support does not exist for it in the kernel.\n"
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 446
          file: 
          operator: and
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 446
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 446
              file: 
              value: ipv6_enable
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 446
              file: 
              value: true
            children: []
          rval: !ruby/object:Puppet::Parser::AST::Not
            line: 446
            file: 
            value: !ruby/object:Puppet::Parser::AST::Variable
              line: 446
              file: 
              value: "::ipaddress6"
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 448
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 447
              file: 
              doc: ""
              name: warning
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 447
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 447
                    file: 
                    value: "nginx: IPv6 support is not enabled or configured properly"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 460
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 451
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 451
            file: 
            value: ssl
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 451
            file: 
            value: true
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 455
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 455
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::BooleanOperator
                line: 452
                file: 
                operator: or
                lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                  line: 452
                  file: 
                  operator: "=="
                  lval: !ruby/object:Puppet::Parser::AST::Variable
                    line: 452
                    file: 
                    value: ssl_cert
                  rval: !ruby/object:Puppet::Parser::AST::Undef
                    line: 452
                    file: 
                    value: !ruby/sym undef
                  children: []
                rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                  line: 452
                  file: 
                  operator: "=="
                  lval: !ruby/object:Puppet::Parser::AST::Variable
                    line: 452
                    file: 
                    value: ssl_key
                  rval: !ruby/object:Puppet::Parser::AST::Undef
                    line: 452
                    file: 
                    value: !ruby/sym undef
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 454
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 453
                    file: 
                    doc: ""
                    name: fail
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 453
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 453
                          file: 
                          value: "nginx: SSL certificate/key (ssl_cert/ssl_key) and/or SSL Private must be defined and exist on the target system(s)"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 460
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 460
          file: 
          value: access_log_tmp
        value: !ruby/object:Puppet::Parser::AST::Selector
          line: 463
          file: 
          param: !ruby/object:Puppet::Parser::AST::Variable
            line: 460
            file: 
            value: access_log
          values: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 462
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 461
                file: 
                param: !ruby/object:Puppet::Parser::AST::Undef
                  line: 461
                  file: 
                  value: !ruby/sym undef
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 461
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 461
                      file: 
                      value: /var/log/nginx/
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 461
                      file: 
                      value: name_sanitized
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 461
                      file: 
                      value: ".access.log"
                children: []
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 462
                file: 
                param: !ruby/object:Puppet::Parser::AST::Default
                  line: 462
                  file: 
                  value: default
                value: !ruby/object:Puppet::Parser::AST::Variable
                  line: 462
                  file: 
                  value: access_log
                children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 465
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 465
          file: 
          value: access_log_real
        value: !ruby/object:Puppet::Parser::AST::Selector
          line: 468
          file: 
          param: !ruby/object:Puppet::Parser::AST::Variable
            line: 465
            file: 
            value: format_log
          values: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 467
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 466
                file: 
                param: !ruby/object:Puppet::Parser::AST::Undef
                  line: 466
                  file: 
                  value: !ruby/sym undef
                value: !ruby/object:Puppet::Parser::AST::Variable
                  line: 466
                  file: 
                  value: access_log_tmp
                children: []
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 467
                file: 
                param: !ruby/object:Puppet::Parser::AST::Default
                  line: 467
                  file: 
                  value: default
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 467
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 467
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 467
                      file: 
                      value: access_log_tmp
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 467
                      file: 
                      value: " "
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 467
                      file: 
                      value: format_log
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 467
                      file: 
                      value: ""
                children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 470
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 470
          file: 
          value: error_log_real
        value: !ruby/object:Puppet::Parser::AST::Selector
          line: 473
          file: 
          param: !ruby/object:Puppet::Parser::AST::Variable
            line: 470
            file: 
            value: error_log
          values: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 472
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 471
                file: 
                param: !ruby/object:Puppet::Parser::AST::Undef
                  line: 471
                  file: 
                  value: !ruby/sym undef
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 471
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 471
                      file: 
                      value: /var/log/nginx/
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 471
                      file: 
                      value: name_sanitized
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 471
                      file: 
                      value: ".error.log"
                children: []
              - !ruby/object:Puppet::Parser::AST::ResourceParam
                line: 472
                file: 
                param: !ruby/object:Puppet::Parser::AST::Default
                  line: 472
                  file: 
                  value: default
                value: !ruby/object:Puppet::Parser::AST::Variable
                  line: 472
                  file: 
                  value: error_log
                children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 479
        file: 
        doc: ""
        type: concat
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 479
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 479
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 475
                file: 
                value: config_file
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 476
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 476
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 476
                      file: 
                      value: owner
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 477
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 477
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 478
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 478
                      file: 
                      value: mode
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 481
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 481
          file: 
          value: ssl_only
        value: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 483
          file: 
          operator: and
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 481
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 481
              file: 
              value: ssl
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 481
              file: 
              value: true
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 481
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 481
              file: 
              value: ssl_port
            rval: !ruby/object:Puppet::Parser::AST::Variable
              line: 481
              file: 
              value: listen_port
            children: []
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 518
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 483
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 483
            file: 
            value: use_default_location
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 483
            file: 
            value: true
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 515
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 514
              file: 
              doc: "Create the default location reference for the vHost\n"
              type: "cloudeploydocker::nginx::location"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 514
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 514
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 485
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 485
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 485
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 485
                          file: 
                          value: "-default"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 486
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 486
                          file: 
                          param: nginx_instance_name
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 486
                            file: 
                            value: nginx_instance_name
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 487
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 487
                            file: 
                            value: ensure
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 488
                          file: 
                          param: vhost
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 488
                            file: 
                            value: name_sanitized
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 489
                          file: 
                          param: ssl
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 489
                            file: 
                            value: ssl
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 490
                          file: 
                          param: ssl_only
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 490
                            file: 
                            value: ssl_only
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 491
                          file: 
                          param: location
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 491
                            file: 
                            value: /
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 492
                          file: 
                          param: location_allow
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 492
                            file: 
                            value: location_allow
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 493
                          file: 
                          param: location_deny
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 493
                            file: 
                            value: location_deny
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 494
                          file: 
                          param: proxy
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 494
                            file: 
                            value: proxy
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 495
                          file: 
                          param: proxy_redirect
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 495
                            file: 
                            value: proxy_redirect
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 496
                          file: 
                          param: proxy_read_timeout
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 496
                            file: 
                            value: proxy_read_timeout
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 497
                          file: 
                          param: proxy_connect_timeout
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 497
                            file: 
                            value: proxy_connect_timeout
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 498
                          file: 
                          param: proxy_cache
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 498
                            file: 
                            value: proxy_cache
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 499
                          file: 
                          param: proxy_cache_valid
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 499
                            file: 
                            value: proxy_cache_valid
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 500
                          file: 
                          param: proxy_method
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 500
                            file: 
                            value: proxy_method
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 501
                          file: 
                          param: proxy_set_body
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 501
                            file: 
                            value: proxy_set_body
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 502
                          file: 
                          param: fastcgi
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 502
                            file: 
                            value: fastcgi
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 503
                          file: 
                          param: location_fastcgi_params
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 503
                            file: 
                            value: fastcgi_params
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 504
                          file: 
                          param: fastcgi_script
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 504
                            file: 
                            value: fastcgi_script
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 505
                          file: 
                          param: try_files
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 505
                            file: 
                            value: try_files
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 506
                          file: 
                          param: www_root
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 506
                            file: 
                            value: www_root
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 507
                          file: 
                          param: autoindex
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 507
                            file: 
                            value: autoindex
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 508
                          file: 
                          param: index_files
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 508
                            file: 
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 509
                          file: 
                          param: location_custom_cfg
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 509
                            file: 
                            value: location_custom_cfg
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 511
                          file: 
                          param: rewrite_rules
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 511
                            file: 
                            value: rewrite_rules
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 512
                          file: 
                          param: raw_prepend
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 512
                            file: 
                            value: location_raw_prepend
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 513
                          file: 
                          param: raw_append
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 513
                            file: 
                            value: location_raw_append
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 515
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 515
                file: 
                value: root
              value: !ruby/object:Puppet::Parser::AST::Undef
                line: 515
                file: 
                value: !ruby/sym undef
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 518
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 518
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 517
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 517
                  file: 
                  value: root
                value: !ruby/object:Puppet::Parser::AST::Variable
                  line: 517
                  file: 
                  value: www_root
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 526
        file: 
        doc: "Support location_cfg_prepend and location_cfg_append on default location created by vhost\n"
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 521
          file: 
          value: location_cfg_prepend
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 523
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceOverride
              checked: false
              line: 523
              file: 
              doc: ""
              object: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 522
                file: 
                type: "Cloudeploydocker::Nginx::Location"
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 522
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 522
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 522
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 522
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 522
                          file: 
                          value: "-default"
                children: []
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 523
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 523
                    file: 
                    param: location_cfg_prepend
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 523
                      file: 
                      value: location_cfg_prepend
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 531
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 526
          file: 
          value: location_cfg_append
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 528
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceOverride
              checked: false
              line: 528
              file: 
              doc: ""
              object: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 527
                file: 
                type: "Cloudeploydocker::Nginx::Location"
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 527
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 527
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 527
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 527
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 527
                          file: 
                          value: "-default"
                children: []
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 528
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 528
                    file: 
                    param: location_cfg_append
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 528
                      file: 
                      value: location_cfg_append
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 536
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 531
          file: 
          value: location_custom_cfg_prepend
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 533
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceOverride
              checked: false
              line: 533
              file: 
              doc: ""
              object: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 532
                file: 
                type: "Cloudeploydocker::Nginx::Location"
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 532
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 532
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 532
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 532
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 532
                          file: 
                          value: "-default"
                children: []
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 533
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 533
                    file: 
                    param: location_custom_cfg_prepend
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 533
                      file: 
                      value: location_custom_cfg_prepend
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 541
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 536
          file: 
          value: location_custom_cfg_append
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 538
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceOverride
              checked: false
              line: 538
              file: 
              doc: ""
              object: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 537
                file: 
                type: "Cloudeploydocker::Nginx::Location"
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 537
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 537
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 537
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 537
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 537
                          file: 
                          value: "-default"
                children: []
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 538
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 538
                    file: 
                    param: location_custom_cfg_append
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 538
                      file: 
                      value: location_custom_cfg_append
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 549
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 541
          file: 
          operator: and
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 541
            file: 
            operator: "!="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 541
              file: 
              value: fastcgi
            rval: !ruby/object:Puppet::Parser::AST::Undef
              line: 541
              file: 
              value: !ruby/sym undef
            children: []
          rval: !ruby/object:Puppet::Parser::AST::Not
            line: 541
            file: 
            value: !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym rvalue
              line: 541
              file: 
              doc: ""
              name: defined
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 541
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceReference
                    line: 541
                    file: 
                    type: File
                    title: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 541
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 541
                          file: 
                          value: fastcgi_params
                    children: []
              children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 547
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 546
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 546
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 546
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 542
                      file: 
                      value: fastcgi_params
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 543
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 543
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 543
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 544
                          file: 
                          param: mode
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 544
                            file: 
                            value: "0770"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 545
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 545
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 545
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 545
                                  file: 
                                  value: cloudeploydocker/vhost/fastcgi_params.erb
                            children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 559
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 549
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 549
            file: 
            value: listen_port
          rval: !ruby/object:Puppet::Parser::AST::Variable
            line: 549
            file: 
            value: ssl_port
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 556
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 555
              file: 
              doc: ""
              type: "concat::fragment"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 555
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 555
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 550
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 550
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 550
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 550
                          file: 
                          value: "-header"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 551
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 551
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 551
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 552
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 552
                            file: 
                            value: config_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 553
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 553
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 553
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 553
                                  file: 
                                  value: cloudeploydocker/vhost/vhost_header.erb
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 554
                          file: 
                          param: order
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 554
                            file: 
                            value: "001"
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 569
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 559
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 559
            file: 
            value: listen_port
          rval: !ruby/object:Puppet::Parser::AST::Variable
            line: 559
            file: 
            value: ssl_port
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 566
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 565
              file: 
              doc: ""
              type: "concat::fragment"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 565
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 565
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 560
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 560
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 560
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 560
                          file: 
                          value: "-footer"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 561
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 561
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 561
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 562
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 562
                            file: 
                            value: config_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 563
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 563
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 563
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 563
                                  file: 
                                  value: cloudeploydocker/vhost/vhost_footer.erb
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 564
                          file: 
                          param: order
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 564
                            file: 
                            value: "699"
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 639
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 569
          file: 
          operator: "=="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 569
            file: 
            value: ssl
          rval: !ruby/object:Puppet::Parser::AST::Boolean
            line: 569
            file: 
            value: true
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 580
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 575
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 575
                file: 
                value: ssl_access_log_tmp
              value: !ruby/object:Puppet::Parser::AST::Selector
                line: 578
                file: 
                param: !ruby/object:Puppet::Parser::AST::Variable
                  line: 575
                  file: 
                  value: access_log
                values: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 577
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 576
                      file: 
                      param: !ruby/object:Puppet::Parser::AST::Undef
                        line: 576
                        file: 
                        value: !ruby/sym undef
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 576
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 576
                            file: 
                            value: /var/log/nginx/ssl-
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 576
                            file: 
                            value: name_sanitized
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 576
                            file: 
                            value: ".access.log"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 577
                      file: 
                      param: !ruby/object:Puppet::Parser::AST::Default
                        line: 577
                        file: 
                        value: default
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 577
                        file: 
                        value: access_log
                      children: []
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 580
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 580
                file: 
                value: ssl_access_log_real
              value: !ruby/object:Puppet::Parser::AST::Selector
                line: 583
                file: 
                param: !ruby/object:Puppet::Parser::AST::Variable
                  line: 580
                  file: 
                  value: format_log
                values: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 582
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 581
                      file: 
                      param: !ruby/object:Puppet::Parser::AST::Undef
                        line: 581
                        file: 
                        value: !ruby/sym undef
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 581
                        file: 
                        value: ssl_access_log_tmp
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 582
                      file: 
                      param: !ruby/object:Puppet::Parser::AST::Default
                        line: 582
                        file: 
                        value: default
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 582
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 582
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 582
                            file: 
                            value: ssl_access_log_tmp
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 582
                            file: 
                            value: " "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 582
                            file: 
                            value: format_log
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 582
                            file: 
                            value: ""
                      children: []
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 585
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 585
                file: 
                value: ssl_error_log_real
              value: !ruby/object:Puppet::Parser::AST::Selector
                line: 588
                file: 
                param: !ruby/object:Puppet::Parser::AST::Variable
                  line: 585
                  file: 
                  value: error_log
                values: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 587
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 586
                      file: 
                      param: !ruby/object:Puppet::Parser::AST::Undef
                        line: 586
                        file: 
                        value: !ruby/sym undef
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 586
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 586
                            file: 
                            value: /var/log/nginx/ssl-
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 586
                            file: 
                            value: name_sanitized
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 586
                            file: 
                            value: ".error.log"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 587
                      file: 
                      param: !ruby/object:Puppet::Parser::AST::Default
                        line: 587
                        file: 
                        value: default
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 587
                        file: 
                        value: error_log
                      children: []
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 594
              file: 
              doc: ""
              type: "concat::fragment"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 594
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 594
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 590
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 590
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 590
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 590
                          file: 
                          value: "-ssl-header"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 591
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 591
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 591
                            file: 
                            value: config_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 592
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 592
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 592
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 592
                                  file: 
                                  value: cloudeploydocker/vhost/vhost_ssl_header.erb
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 593
                          file: 
                          param: order
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 593
                            file: 
                            value: "700"
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 599
              file: 
              doc: ""
              type: "concat::fragment"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 599
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 599
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 595
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 595
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 595
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 595
                          file: 
                          value: "-ssl-footer"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 596
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 596
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 596
                            file: 
                            value: config_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 597
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 597
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 597
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 597
                                  file: 
                                  value: cloudeploydocker/vhost/vhost_ssl_footer.erb
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 598
                          file: 
                          param: order
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 598
                            file: 
                            value: "999"
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 602
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 602
                file: 
                value: cert
              value: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 602
                file: 
                doc: "Generate ssl key/cert with provided file-locations\n"
                name: regsubst
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 602
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 602
                      file: 
                      value: name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 602
                      file: 
                      value: " "
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 602
                      file: 
                      value: "_"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 602
                      file: 
                      value: G
                children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 606
              file: 
              doc: "Check if the file has been defined before creating the file to\navoid the error when using wildcard cert on the multiple vhosts\n"
              name: ensure_resource
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 606
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 606
                    file: 
                    value: file
                  - !ruby/object:Puppet::Parser::AST::Concat
                    line: 606
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 606
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 606
                        file: 
                        value: mnt_dir
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 606
                        file: 
                        value: /
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 606
                        file: 
                        value: cert
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 606
                        file: 
                        value: ".crt"
                  - !ruby/object:Puppet::Parser::AST::ASTHash
                    line: 609
                    file: 
                    value: 
                      owner: !ruby/object:Puppet::Parser::AST::String
                        line: 607
                        file: 
                        value: nginx
                      mode: !ruby/object:Puppet::Parser::AST::String
                        line: 608
                        file: 
                        value: "0444"
                      source: !ruby/object:Puppet::Parser::AST::Variable
                        line: 609
                        file: 
                        value: ssl_cert
              children: []
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 611
              file: 
              doc: ""
              name: ensure_resource
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 611
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 611
                    file: 
                    value: file
                  - !ruby/object:Puppet::Parser::AST::Concat
                    line: 611
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 611
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 611
                        file: 
                        value: mnt_dir
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 611
                        file: 
                        value: /
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 611
                        file: 
                        value: cert
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 611
                        file: 
                        value: ".key"
                  - !ruby/object:Puppet::Parser::AST::ASTHash
                    line: 614
                    file: 
                    value: 
                      owner: !ruby/object:Puppet::Parser::AST::String
                        line: 612
                        file: 
                        value: nginx
                      mode: !ruby/object:Puppet::Parser::AST::String
                        line: 613
                        file: 
                        value: "0440"
                      source: !ruby/object:Puppet::Parser::AST::Variable
                        line: 614
                        file: 
                        value: ssl_key
              children: []
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 623
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                line: 616
                file: 
                operator: "!="
                lval: !ruby/object:Puppet::Parser::AST::Variable
                  line: 616
                  file: 
                  value: ssl_dhparam
                rval: !ruby/object:Puppet::Parser::AST::Undef
                  line: 616
                  file: 
                  value: !ruby/sym undef
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 622
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 617
                    file: 
                    doc: ""
                    name: ensure_resource
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 617
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 617
                          file: 
                          value: file
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 617
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 617
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 617
                              file: 
                              value: mnt_dir
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 617
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 617
                              file: 
                              value: cert
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 617
                              file: 
                              value: ".dh.pem"
                        - !ruby/object:Puppet::Parser::AST::ASTHash
                          line: 620
                          file: 
                          value: 
                            owner: !ruby/object:Puppet::Parser::AST::String
                              line: 618
                              file: 
                              value: nginx
                            mode: !ruby/object:Puppet::Parser::AST::String
                              line: 619
                              file: 
                              value: "0440"
                            source: !ruby/object:Puppet::Parser::AST::Variable
                              line: 620
                              file: 
                              value: ssl_dhparam
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 630
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                line: 623
                file: 
                operator: "!="
                lval: !ruby/object:Puppet::Parser::AST::Variable
                  line: 623
                  file: 
                  value: ssl_stapling_file
                rval: !ruby/object:Puppet::Parser::AST::Undef
                  line: 623
                  file: 
                  value: !ruby/sym undef
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 629
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 624
                    file: 
                    doc: ""
                    name: ensure_resource
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 624
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 624
                          file: 
                          value: file
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 624
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 624
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 624
                              file: 
                              value: mnt_dir
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 624
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 624
                              file: 
                              value: cert
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 624
                              file: 
                              value: ".ocsp.resp"
                        - !ruby/object:Puppet::Parser::AST::ASTHash
                          line: 627
                          file: 
                          value: 
                            owner: !ruby/object:Puppet::Parser::AST::String
                              line: 625
                              file: 
                              value: nginx
                            mode: !ruby/object:Puppet::Parser::AST::String
                              line: 626
                              file: 
                              value: "0440"
                            source: !ruby/object:Puppet::Parser::AST::Variable
                              line: 627
                              file: 
                              value: ssl_stapling_file
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 637
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                line: 630
                file: 
                operator: "!="
                lval: !ruby/object:Puppet::Parser::AST::Variable
                  line: 630
                  file: 
                  value: ssl_trusted_cert
                rval: !ruby/object:Puppet::Parser::AST::Undef
                  line: 630
                  file: 
                  value: !ruby/sym undef
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 636
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 631
                    file: 
                    doc: ""
                    name: ensure_resource
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 631
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 631
                          file: 
                          value: file
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 631
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 631
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 631
                              file: 
                              value: mnt_dir
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 631
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 631
                              file: 
                              value: cert
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 631
                              file: 
                              value: ".trusted.crt"
                        - !ruby/object:Puppet::Parser::AST::ASTHash
                          line: 634
                          file: 
                          value: 
                            owner: !ruby/object:Puppet::Parser::AST::String
                              line: 632
                              file: 
                              value: nginx
                            mode: !ruby/object:Puppet::Parser::AST::String
                              line: 633
                              file: 
                              value: "0440"
                            source: !ruby/object:Puppet::Parser::AST::Variable
                              line: 634
                              file: 
                              value: ssl_trusted_cert
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 644
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 644
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 644
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 639
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 639
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 639
                    file: 
                    value: name_sanitized
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 639
                    file: 
                    value: ".conf symlink"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 640
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 640
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 640
                      file: 
                      value: vhost_symlink_ensure
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 641
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 641
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 641
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 641
                          file: 
                          value: vhost_enable_dir
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 641
                          file: 
                          value: /
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 641
                          file: 
                          value: name_sanitized
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 641
                          file: 
                          value: ".conf"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 642
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 642
                      file: 
                      value: config_file
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 643
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 643
                      file: 
                      type: Concat
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 643
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 643
                            file: 
                            value: config_file
                      children: []
                    children: []
              children: []
        children: []
  doc: "define: nginx::resource::vhost\n\nThis definition creates a virtual host\n\nParameters:\n  [*ensure*]              - Enables or disables the specified vhost\n    (present|absent)\n  [*listen_ip*]           - Default IP Address for NGINX to listen with this\n    vHost on. Defaults to all interfaces (*)\n  [*listen_port*]         - Default IP Port for NGINX to listen with this\n    vHost on. Defaults to TCP 80\n  [*listen_options*]      - Extra options for listen directive like\n    'default' to catchall. Undef by default.\n  [*location_allow*]      - Array: Locations to allow connections from.\n  [*location_deny*]       - Array: Locations to deny connections from.\n  [*ipv6_enable*]         - BOOL value to enable/disable IPv6 support\n    (false|true). Module will check to see if IPv6 support exists on your\n    system before enabling.\n  [*ipv6_listen_ip*]      - Default IPv6 Address for NGINX to listen with\n    this vHost on. Defaults to all interfaces (::)\n  [*ipv6_listen_port*]    - Default IPv6 Port for NGINX to listen with this\n    vHost on. Defaults to TCP 80\n  [*ipv6_listen_options*] - Extra options for listen directive like 'default'\n    to catchall. Template will allways add ipv6only=on. While issue\n    jfryman/puppet-nginx#30 is discussed, default value is 'default'.\n  [*add_header*]          - Hash: Adds headers to the HTTP response when\n    response code is equal to 200, 204, 301, 302 or 304.\n  [*index_files*]         - Default index files for NGINX to read when\n    traversing a directory\n  [*autoindex*]           - Set it on 'on' or 'off 'to activate/deactivate\n                            autoindex directory listing. Undef by default.\n  [*proxy*]               - Proxy server(s) for the root location to connect\n    to.  Accepts a single value, can be used in conjunction with\n    nginx::resource::upstream\n  [*proxy_read_timeout*]  - Override the default the proxy read timeout value\n    of 90 seconds\n  [*proxy_redirect*]      - Override the default proxy_redirect value of off.\n  [*resolver*]            - Array: Configures name servers used to resolve\n    names of upstream servers into addresses.\n  [*fastcgi*]             - location of fastcgi (host:port)\n  [*fastcgi_params*]      - optional alternative fastcgi_params file to use\n  [*fastcgi_script*]      - optional SCRIPT_FILE parameter\n  [*ssl*]                 - Indicates whether to setup SSL bindings for this\n    vhost.\n  [*ssl_cert*]            - Pre-generated SSL Certificate file to reference\n    for SSL Support. This is not generated by this module.\n  [*ssl_dhparam*]         - This directive specifies a file containing\n    Diffie-Hellman key agreement protocol cryptographic parameters, in PEM\n    format, utilized for exchanging session keys between server and client.\n  [*ssl_key*]             - Pre-generated SSL Key file to reference for SSL\n    Support. This is not generated by this module.\n  [*ssl_port*]            - Default IP Port for NGINX to listen with this SSL\n    vHost on. Defaults to TCP 443\n  [*ssl_protocols*]       - SSL protocols enabled. Defaults to 'TLSv1 TLSv1.1\n    TLSv1.2'.\n  [*ssl_ciphers*]         - SSL ciphers enabled. Defaults to\n    'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA'.\n  [*ssl_stapling*]        - Bool: Enables or disables stapling of OCSP\n    responses by the server. Defaults to false.\n  [*ssl_stapling_file*]   - String: When set, the stapled OCSP response\n    will be taken from the specified file instead of querying the OCSP\n    responder specified in the server certificate.\n  [*ssl_stapling_responder*] - String: Overrides the URL of the OCSP\n    responder specified in the Authority Information Access certificate\n    extension.\n  [*ssl_stapling_verify*] - Bool: Enables or disables verification of\n    OCSP responses by the server. Defaults to false.\n  [*ssl_session_timeout*] - String: Specifies a time during which a client\n    may reuse the session parameters stored in a cache. Defaults to 5m.\n  [*ssl_trusted_cert*]    - String: Specifies a file with trusted CA\n    certificates in the PEM format used to verify client certificates and\n    OCSP responses if ssl_stapling is enabled.\n  [*spdy*]                - Toggles SPDY protocol.\n  [*server_name*]         - List of vhostnames for which this vhost will\n    respond. Default [$name].\n  [*www_root*]            - Specifies the location on disk for files to be\n    read from. Cannot be set in conjunction with $proxy\n  [*rewrite_www_to_non_www*]  - Adds a server directive and rewrite rule to\n    rewrite www.domain.com to domain.com in order to avoid duplicate\n    content (SEO);\n  [*try_files*]               - Specifies the locations for files to be\n    checked as an array. Cannot be used in conjuction with $proxy.\n  [*proxy_cache*]             - This directive sets name of zone for caching.\n    The same zone can be used in multiple places.\n  [*proxy_cache_valid*]       - This directive sets the time for caching\n    different replies.\n  [*proxy_method*]            - If defined, overrides the HTTP method of the\n    request to be passed to the backend.\n  [*proxy_set_body*]          - If defined, sets the body passed to the backend.\n  [*auth_basic*]              - This directive includes testing name and\n     password with HTTP Basic Authentication.\n  [*auth_basic_user_file*]    - This directive sets the htpasswd filename for\n    the authentication realm.\n  [*client_max_body_size*]    - This directive sets client_max_body_size.\n  [*client_body_timeout*]     - Sets how long the server will wait for a\n     client body. Default is 60s\n  [*client_header_timeout*]     - Sets how long the server will wait for a\n     client header. Default is 60s\n  [*raw_prepend*]            - A single string, or an array of strings to\n    prepend to the server directive (after cfg prepend directives). NOTE:\n    YOU are responsible for a semicolon on each line that requires one.\n  [*raw_append*]             - A single string, or an array of strings to\n    append to the server directive (after cfg append directives). NOTE:\n    YOU are responsible for a semicolon on each line that requires one.\n  [*location_raw_prepend*]          - A single string, or an array of strings\n    to prepend to the location directive (after custom_cfg directives). NOTE:\n    YOU are responsible for a semicolon on each line that requires one.\n  [*location_raw_append*]           - A single string, or an array of strings\n    to append to the location directive (after custom_cfg directives). NOTE:\n    YOU are responsible for a semicolon on each line that requires one.\n  [*vhost_cfg_append*]        - It expects a hash with custom directives to\n    put after everything else inside vhost\n  [*vhost_cfg_prepend*]       - It expects a hash with custom directives to\n    put before everything else inside vhost\n  [*vhost_cfg_ssl_append*]        - It expects a hash with custom directives to\n    put after everything else inside vhost ssl\n  [*vhost_cfg_ssl_prepend*]       - It expects a hash with custom directives to\n    put before everything else inside vhost ssl\n  [*rewrite_to_https*]        - Adds a server directive and rewrite rule to\n    rewrite to ssl\n  [*include_files*]           - Adds include files to vhost\n  [*access_log*]              - Where to write access log. May add additional\n    options like log format to the end.\n  [*error_log*]               - Where to write error log. May add additional\n    options like error level to the end.\n  [*passenger_cgi_param*]     - Allows one to define additional CGI environment\n    variables to pass to the backend application\n  [*log_by_lua*]              - Run the Lua source code inlined as the\n    <lua-script-str> at the log request processing phase.\n    This does not replace the current access logs, but runs after.\n  [*log_by_lua_file*]         - Equivalent to log_by_lua, except that the file\n    specified by <path-to-lua-script-file> contains the Lua code, or, as from\n    the v0.5.0rc32 release, the Lua/LuaJIT bytecode to be executed.\n  [*gzip_types*]              - Defines gzip_types, nginx default is text/html\n  [*owner*]                   - Defines owner of the .conf file\n  [*group*]                   - Defines group of the .conf file\n  [*mode*]                    - Defines mode of the .conf file\nActions:\n\nRequires:\n\nSample Usage:\n nginx::resource::vhost { 'test2.local':\n   ensure   => present,\n   www_root => '/var/www/nginx-default',\n   ssl      => true,\n   ssl_cert => '/tmp/server.crt',\n   ssl_key  => '/tmp/server.pem',\n }\n"
  line: 150
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploydocker::params"
  namespace: "cloudeploydocker::params"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 3
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 2
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 2
          file: 
          value: docker_service_pre
        value: !ruby/object:Puppet::Parser::AST::String
          line: 2
          file: 
          value: docker
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 3
        file: 
        doc: "$mnt_volumns_pre = \x22/home\x22\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 3
          file: 
          value: mnt_volumns_pre
        value: !ruby/object:Puppet::Parser::AST::String
          line: 3
          file: 
          value: /mnt/storage
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 5
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 5
          file: 
          value: local_shareDir
        value: !ruby/object:Puppet::Parser::AST::String
          line: 5
          file: 
          value: /home
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::primitive::deletedocker"
  namespace: "cloudeploydocker::primitive"
  arguments: 
    instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: ""
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 5
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 4
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 4
          file: 
          value: sanitised_title
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 4
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 4
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 4
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 4
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 4
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 4
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::CaseStatement
        line: 35
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 5
          file: 
          value: "::osfamily"
        options: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 12
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 12
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 6
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 6
                    file: 
                    value: Debian
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 8
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 7
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 7
                      file: 
                      value: initscript
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 7
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 7
                          file: 
                          value: /etc/init.d/docker-
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 7
                          file: 
                          value: sanitised_title
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 7
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 8
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 8
                      file: 
                      value: deprecated_initscript
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 8
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 8
                          file: 
                          value: /etc/init/docker-
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 8
                          file: 
                          value: sanitised_title
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 8
                          file: 
                          value: ".conf"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 9
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 9
                      file: 
                      value: hasstatus
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 9
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 10
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 10
                      file: 
                      value: uses_systemd
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 10
                      file: 
                      value: false
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 11
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 11
                      file: 
                      value: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 11
                      file: 
                      value: "0755"
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 25
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 13
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 13
                    file: 
                    value: RedHat
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 24
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::IfStatement
                    line: 24
                    file: 
                    doc: ""
                    test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                      line: 14
                      file: 
                      operator: "<"
                      lval: !ruby/object:Puppet::Parser::AST::Function
                        ftype: !ruby/sym rvalue
                        line: 14
                        file: 
                        doc: ""
                        name: versioncmp
                        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 14
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 14
                              file: 
                              value: "::operatingsystemrelease"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 14
                              file: 
                              value: "7.0"
                        children: []
                      rval: !ruby/object:Puppet::Parser::AST::Name
                        line: 14
                        file: 
                        value: "0"
                      children: []
                    statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                      line: 16
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 15
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 15
                            file: 
                            value: initscript
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 15
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 15
                                file: 
                                value: /etc/init.d/docker-
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 15
                                file: 
                                value: sanitised_title
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 15
                                file: 
                                value: ""
                          children: []
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 16
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 16
                            file: 
                            value: hasstatus
                          value: !ruby/object:Puppet::Parser::AST::Undef
                            line: 16
                            file: 
                            value: !ruby/sym undef
                          children: []
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 17
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 17
                            file: 
                            value: mode
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 17
                            file: 
                            value: "0755"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 18
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 18
                            file: 
                            value: uses_systemd
                          value: !ruby/object:Puppet::Parser::AST::Boolean
                            line: 18
                            file: 
                            value: false
                          children: []
                    children: []
                    else: !ruby/object:Puppet::Parser::AST::Else
                      line: 24
                      file: 
                      doc: ""
                      statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                        line: 21
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::VarDef
                            line: 20
                            file: 
                            doc: ""
                            name: !ruby/object:Puppet::Parser::AST::Name
                              line: 20
                              file: 
                              value: initscript
                            value: !ruby/object:Puppet::Parser::AST::Concat
                              line: 20
                              file: 
                              value: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 20
                                  file: 
                                  value: /etc/systemd/system/docker-
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 20
                                  file: 
                                  value: sanitised_title
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 20
                                  file: 
                                  value: ".service"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::VarDef
                            line: 21
                            file: 
                            doc: ""
                            name: !ruby/object:Puppet::Parser::AST::Name
                              line: 21
                              file: 
                              value: hasstatus
                            value: !ruby/object:Puppet::Parser::AST::Boolean
                              line: 21
                              file: 
                              value: true
                            children: []
                          - !ruby/object:Puppet::Parser::AST::VarDef
                            line: 22
                            file: 
                            doc: ""
                            name: !ruby/object:Puppet::Parser::AST::Name
                              line: 22
                              file: 
                              value: mode
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 22
                              file: 
                              value: "0644"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::VarDef
                            line: 23
                            file: 
                            doc: ""
                            name: !ruby/object:Puppet::Parser::AST::Name
                              line: 23
                              file: 
                              value: uses_systemd
                            value: !ruby/object:Puppet::Parser::AST::Boolean
                              line: 23
                              file: 
                              value: true
                            children: []
                      children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 31
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 26
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 26
                    file: 
                    value: Archlinux
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 28
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 27
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 27
                      file: 
                      value: initscript
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 27
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 27
                          file: 
                          value: /etc/systemd/system/docker-
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 27
                          file: 
                          value: sanitised_title
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 27
                          file: 
                          value: ".service"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 28
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 28
                      file: 
                      value: hasstatus
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 28
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 29
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 29
                      file: 
                      value: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 29
                      file: 
                      value: "0644"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 30
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 30
                      file: 
                      value: uses_systemd
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 30
                      file: 
                      value: true
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 34
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 32
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Default
                    line: 32
                    file: 
                    value: default
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 34
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 33
                    file: 
                    doc: ""
                    name: fail
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 33
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 33
                          file: 
                          value: "Docker needs a Debian, RedHat or Archlinux based system."
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 39
        file: 
        doc: ""
        type: service
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 39
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 39
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 36
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 36
                    file: 
                    value: docker-
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 36
                    file: 
                    value: sanitised_title
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 36
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 37
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 37
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 37
                      file: 
                      value: false
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 38
                    file: 
                    param: before
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 38
                      file: 
                      type: File
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 38
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 38
                            file: 
                            value: initscript
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 40
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 41
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 40
              file: 
              value: "docker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 41
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 41
          file: 
          value: docker_command
        value: !ruby/object:Puppet::Parser::AST::Variable
          line: 41
          file: 
          value: "docker::params::docker_command"
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 49
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 45
          file: 
          doc: ""
          type: exec
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 45
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 45
                file: 
                title: !ruby/object:Puppet::Parser::AST::Concat
                  line: 42
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 42
                      file: 
                      value: /usr/bin/
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 42
                      file: 
                      value: docker_command
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 42
                      file: 
                      value: " kill "
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 42
                      file: 
                      value: sanitised_title
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 42
                      file: 
                      value: ""
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 43
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 43
                      file: 
                      param: onlyif
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 43
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 43
                            file: 
                            value: /usr/bin/
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 43
                            file: 
                            value: docker_command
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 43
                            file: 
                            value: " ps | grep "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 43
                            file: 
                            value: sanitised_title
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 43
                            file: 
                            value: ""
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 44
                      file: 
                      param: require
                      value: !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 44
                        file: 
                        type: Service
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 44
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Concat
                              line: 44
                              file: 
                              value: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 44
                                  file: 
                                  value: docker-
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 44
                                  file: 
                                  value: sanitised_title
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 44
                                  file: 
                                  value: ""
                        children: []
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 49
          file: 
          doc: ""
          type: exec
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 49
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 49
                file: 
                title: !ruby/object:Puppet::Parser::AST::Concat
                  line: 46
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 46
                      file: 
                      value: /usr/bin/
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 46
                      file: 
                      value: docker_command
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 46
                      file: 
                      value: " rm "
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 46
                      file: 
                      value: sanitised_title
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 46
                      file: 
                      value: ""
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 47
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 47
                      file: 
                      param: onlyif
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 47
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 47
                            file: 
                            value: /usr/bin/
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 47
                            file: 
                            value: docker_command
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 47
                            file: 
                            value: " ps -a | grep "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 47
                            file: 
                            value: sanitised_title
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 47
                            file: 
                            value: ""
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 48
                      file: 
                      param: require
                      value: !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 48
                        file: 
                        type: Service
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 48
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Concat
                              line: 48
                              file: 
                              value: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 48
                                  file: 
                                  value: docker-
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 48
                                  file: 
                                  value: sanitised_title
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 48
                                  file: 
                                  value: ""
                        children: []
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 53
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 53
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 53
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 51
                file: 
                value: initscript
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 52
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 52
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 52
                      file: 
                      value: absent
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 58
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 55
          file: 
          value: uses_systemd
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 57
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 56
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 56
                file: 
                type: File
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 56
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 56
                      file: 
                      value: initscript
                children: []
              right: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 56
                file: 
                type: Exec
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 56
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 56
                      file: 
                      value: docker-systemd-reload
                children: []
              arrow: "~>"
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::primitive::deployfile"
  namespace: "cloudeploydocker::primitive"
  arguments: 
    source: 
    instance_name: 
    timeout: !ruby/object:Puppet::Parser::AST::Name
      line: 4
      file: 
      value: "0"
    force: !ruby/object:Puppet::Parser::AST::Boolean
      line: 5
      file: 
      value: true
    target: 
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 9
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 8
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 9
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 8
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 9
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 9
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 9
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 9
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 9
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 9
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 9
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 9
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 15
        file: 
        doc: ""
        type: "cloudeploy::primitive::file"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 15
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 15
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 10
                file: 
                value: name
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 11
                    file: 
                    param: source
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 11
                      file: 
                      value: source
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 12
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 12
                      file: 
                      value: target
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 13
                    file: 
                    param: timeout
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 13
                      file: 
                      value: timeout
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 14
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 14
                      file: 
                      value: force
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::primitive::domain"
  namespace: "cloudeploydocker::primitive"
  arguments: 
    ip: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: ""
    domain: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: ""
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 11
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 10
        file: 
        doc: ""
        type: host
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 10
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 5
                file: 
                value: name
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 6
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 6
                    file: 
                    param: name
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 6
                      file: 
                      value: domain
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 7
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 8
                    file: 
                    param: ip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 8
                      file: 
                      value: ip
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 9
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 9
                      file: 
                      value: /etc/hosts
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::tomcat::deploywar"
  namespace: "cloudeploydocker::tomcat"
  arguments: 
    tomcat_instance_name: !ruby/object:Puppet::Parser::AST::Variable
      line: 2
      file: 
      value: "cloudeploydocker::tomcat::instance::instance_name"
    catalina_home: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: /usr/local/tomcat/webapps/
    war_ensure: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: present
    war_name: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    war_purge: !ruby/object:Puppet::Parser::AST::Boolean
      line: 6
      file: 
      value: true
    war_source: !ruby/object:Puppet::Parser::AST::Undef
      line: 7
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 11
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 10
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 11
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 10
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 11
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 12
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 11
              file: 
              value: "cloudeploydocker::tomcat::param"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 12
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 12
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 12
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 12
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 12
                file: 
                value: tomcat_instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 12
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 12
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 12
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 13
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 13
          file: 
          value: deployment_path
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 13
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 13
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 13
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 13
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 13
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 13
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 13
              file: 
              value: war_name
            - !ruby/object:Puppet::Parser::AST::String
              line: 13
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 21
        file: 
        doc: ""
        type: "cloudeploydocker::primitive::deployfile"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 21
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 21
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 15
                file: 
                value: name
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 16
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 16
                    file: 
                    param: source
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 16
                      file: 
                      value: war_source
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: instance_name
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 17
                      file: 
                      value: "_instance_name"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 18
                    file: 
                    param: timeout
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 18
                      file: 
                      value: "0"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 19
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 19
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 20
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 20
                      file: 
                      value: deployment_path
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 26
        file: 
        doc: ""
        type: "docker::exec"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 26
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 26
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 23
                file: 
                value: move_webapps
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 24
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 24
                    file: 
                    param: container
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 24
                      file: 
                      value: "_instance_name"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 25
                    file: 
                    param: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 25
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 25
                          file: 
                          value: "mv "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 25
                          file: 
                          value: "cloudeploydocker::tomcat::param::volumns_path"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 25
                          file: 
                          value: /
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 25
                          file: 
                          value: war_name
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 25
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 25
                          file: 
                          value: catalina_home
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 25
                          file: 
                          value: ""
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::tomcat::instance"
  namespace: "cloudeploydocker::tomcat"
  arguments: 
    instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: freeCMS_Tomcat
    mysql_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: freeCMS_MySQL
    mysql_alias_name: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: freecmsMysql
    port: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "8090"
    nginx_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: freeCMS_Nginx
    image: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: iscas/tomcat
    registry: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: docker.io
    imagetag: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: ""
    server_name: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: freecms
    apmServer_ip: !ruby/object:Puppet::Parser::AST::String
      line: 11
      file: 
      value: "133.133.134.137"
    jvm_args: !ruby/object:Puppet::Parser::AST::String
      line: 12
      file: 
      value: ""
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 16
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 15
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 16
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 15
              file: 
              value: "cloudeploydocker::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 16
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 17
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 16
              file: 
              value: "cloudeploydocker::tomcat::param"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 17
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 17
          file: 
          value: "_instance_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 17
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 17
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 17
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 17
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 17
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 17
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 18
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 18
          file: 
          value: mnt_dir
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 18
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 18
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 18
              file: 
              value: "cloudeploydocker::params::local_shareDir"
            - !ruby/object:Puppet::Parser::AST::String
              line: 18
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 18
              file: 
              value: "_instance_name"
            - !ruby/object:Puppet::Parser::AST::String
              line: 18
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 19
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 19
          file: 
          value: "_mysql_container_name"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 19
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 19
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 19
                file: 
                value: mysql_instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 19
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 19
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 19
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 20
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 20
          file: 
          value: links
        value: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 20
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Concat
              line: 20
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 20
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 20
                  file: 
                  value: "_mysql_container_name"
                - !ruby/object:Puppet::Parser::AST::String
                  line: 20
                  file: 
                  value: ":"
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 20
                  file: 
                  value: mysql_alias_name
                - !ruby/object:Puppet::Parser::AST::String
                  line: 20
                  file: 
                  value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 21
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 21
          file: 
          value: "_image"
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 21
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 21
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 21
              file: 
              value: registry
            - !ruby/object:Puppet::Parser::AST::String
              line: 21
              file: 
              value: /
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 21
              file: 
              value: image
            - !ruby/object:Puppet::Parser::AST::String
              line: 21
              file: 
              value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 27
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 23
          file: 
          value: imagetag
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 25
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 24
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 24
                file: 
                value: "_create_images"
              value: !ruby/object:Puppet::Parser::AST::Concat
                line: 24
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 24
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 24
                    file: 
                    value: registry
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 24
                    file: 
                    value: /
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 24
                    file: 
                    value: image
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 24
                    file: 
                    value: ":"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 24
                    file: 
                    value: imagetag
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 24
                    file: 
                    value: ""
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 27
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 27
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 26
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 26
                  file: 
                  value: "_create_images"
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 26
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 26
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 26
                      file: 
                      value: registry
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 26
                      file: 
                      value: /
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 26
                      file: 
                      value: image
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 26
                      file: 
                      value: ""
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 36
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 28
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 28
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 28
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 28
                  file: 
                  type: "Docker::Image"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 28
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 28
                        file: 
                        value: "_image"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 34
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 33
              file: 
              doc: ""
              type: "docker::image"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 33
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 33
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 29
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 29
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 29
                          file: 
                          value: "_image"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 29
                          file: 
                          value: ""
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 30
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 30
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 30
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 31
                          file: 
                          param: image
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 31
                            file: 
                            value: "_image"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 32
                          file: 
                          param: before
                          value: !ruby/object:Puppet::Parser::AST::ResourceReference
                            line: 32
                            file: 
                            type: "Docker::Run"
                            title: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 32
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 32
                                  file: 
                                  value: "_instance_name"
                            children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 40
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 36
          file: 
          value: apmServer_ip
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 38
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 37
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 37
                file: 
                value: "_apmServer_ip"
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 37
                file: 
                value: apmServer_ip
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 47
        file: 
        doc: ""
        type: "docker::run"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 47
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 47
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 40
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 40
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 40
                    file: 
                    value: "_instance_name"
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 40
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 41
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 41
                    file: 
                    param: hostentries
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 41
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 41
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 41
                              file: 
                              value: "appServer:"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 41
                              file: 
                              value: "_apmServer_ip"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 41
                              file: 
                              value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: image
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 42
                      file: 
                      value: "_create_images"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 43
                    file: 
                    param: expose
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 43
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 43
                          file: 
                          value: "8080"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 44
                    file: 
                    param: links
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 44
                      file: 
                      value: links
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 45
                    file: 
                    param: ports
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 45
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 45
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 45
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 45
                              file: 
                              value: port
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 45
                              file: 
                              value: ":8080"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 46
                    file: 
                    param: volumes
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 46
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 46
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 46
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 46
                              file: 
                              value: "cloudeploydocker::params::mnt_volumns_pre"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 46
                              file: 
                              value: /
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 46
                              file: 
                              value: "_instance_name"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 46
                              file: 
                              value: ":"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 46
                              file: 
                              value: "cloudeploydocker::tomcat::param::volumns_path"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 46
                              file: 
                              value: ":rw"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 51
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 51
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 51
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 49
                file: 
                value: mnt_dir
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 50
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 50
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 50
                      file: 
                      value: directory
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 99
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 53
          file: 
          value: nginx_instance_name
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 70
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 70
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 54
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 54
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 54
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 54
                        file: 
                        type: Class
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 54
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 54
                              file: 
                              value: "cloudeploydocker::nginx::config"
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 58
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 57
                    file: 
                    doc: ""
                    type: class
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 57
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 57
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::String
                            line: 55
                            file: 
                            value: "cloudeploydocker::nginx::config"
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 56
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 56
                                file: 
                                param: instance_name
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 56
                                  file: 
                                  value: nginx_instance_name
                                children: []
                          children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 58
                    file: 
                    doc: ""
                    name: contain
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 59
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Name
                          line: 58
                          file: 
                          value: "cloudeploydocker::nginx::config"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::Relationship
                    line: 60
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 59
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 59
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 59
                            file: 
                            value: "cloudeploydocker::nginx::config"
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::Collection
                      line: 60
                      file: 
                      doc: ""
                      type: "cloudeploydocker::nginx::upstream"
                      query: !ruby/object:Puppet::Parser::AST::CollExpr
                        line: 59
                        file: 
                        test1: !ruby/object:Puppet::Parser::AST::Name
                          line: 59
                          file: 
                          value: nginx_instance_name
                        oper: "=="
                        test2: !ruby/object:Puppet::Parser::AST::Variable
                          line: 59
                          file: 
                          value: nginx_instance_name
                        children: []
                        form: !ruby/sym virtual
                        type: "cloudeploydocker::nginx::upstream"
                      form: !ruby/sym virtual
                      children: []
                    arrow: "->"
                  - !ruby/object:Puppet::Parser::AST::Relationship
                    line: 61
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 60
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 60
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 60
                            file: 
                            value: "cloudeploydocker::nginx::config"
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::Collection
                      line: 61
                      file: 
                      doc: ""
                      type: "cloudeploydocker::nginx::vhost"
                      query: !ruby/object:Puppet::Parser::AST::CollExpr
                        line: 60
                        file: 
                        test1: !ruby/object:Puppet::Parser::AST::Name
                          line: 60
                          file: 
                          value: nginx_instance_name
                        oper: "=="
                        test2: !ruby/object:Puppet::Parser::AST::Variable
                          line: 60
                          file: 
                          value: nginx_instance_name
                        children: []
                        form: !ruby/sym virtual
                        type: "cloudeploydocker::nginx::vhost"
                      form: !ruby/sym virtual
                      children: []
                    arrow: "->"
                  - !ruby/object:Puppet::Parser::AST::Relationship
                    line: 62
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 61
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 61
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 61
                            file: 
                            value: "cloudeploydocker::nginx::config"
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::Collection
                      line: 62
                      file: 
                      doc: ""
                      type: "cloudeploydocker::nginx::location"
                      query: !ruby/object:Puppet::Parser::AST::CollExpr
                        line: 61
                        file: 
                        test1: !ruby/object:Puppet::Parser::AST::Name
                          line: 61
                          file: 
                          value: nginx_instance_name
                        oper: "=="
                        test2: !ruby/object:Puppet::Parser::AST::Variable
                          line: 61
                          file: 
                          value: nginx_instance_name
                        children: []
                        form: !ruby/sym virtual
                        type: "cloudeploydocker::nginx::location"
                      form: !ruby/sym virtual
                      children: []
                    arrow: "->"
              children: []
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 79
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 70
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 70
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 70
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 70
                        file: 
                        type: "Cloudeploydocker::Nginx::Upstream"
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 70
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Concat
                              line: 70
                              file: 
                              value: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 70
                                  file: 
                                  value: ""
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 70
                                  file: 
                                  value: server_name
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 70
                                  file: 
                                  value: "_upstream"
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 76
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 75
                    file: 
                    doc: ""
                    type: "cloudeploydocker::nginx::upstream"
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 75
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 75
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Concat
                            line: 71
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 71
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 71
                                file: 
                                value: server_name
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 71
                                file: 
                                value: "_upstream"
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 72
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 72
                                file: 
                                param: ensure
                                value: !ruby/object:Puppet::Parser::AST::Name
                                  line: 72
                                  file: 
                                  value: present
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 73
                                file: 
                                param: nginx_instance_name
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 73
                                  file: 
                                  value: nginx_instance_name
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 74
                                file: 
                                param: upstream_name
                                value: !ruby/object:Puppet::Parser::AST::Concat
                                  line: 74
                                  file: 
                                  value: 
                                    - !ruby/object:Puppet::Parser::AST::String
                                      line: 74
                                      file: 
                                      value: ""
                                    - !ruby/object:Puppet::Parser::AST::Variable
                                      line: 74
                                      file: 
                                      value: server_name
                                    - !ruby/object:Puppet::Parser::AST::String
                                      line: 74
                                      file: 
                                      value: "_upstream"
                                children: []
                          children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::Relationship
                    line: 77
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::Collection
                      line: 76
                      file: 
                      doc: ""
                      type: "cloudeploydocker::nginx::upstream"
                      form: !ruby/sym virtual
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::Collection
                      line: 77
                      file: 
                      doc: ""
                      type: "cloudeploydocker::nginx::upstream::member"
                      form: !ruby/sym virtual
                      children: []
                    arrow: "->"
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 86
              file: 
              doc: ""
              type: "cloudeploydocker::nginx::upstream::member"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 86
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 86
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 79
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 79
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 79
                          file: 
                          value: "_instance_name"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 79
                          file: 
                          value: "_upstream_member"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 80
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 80
                          file: 
                          param: upstream
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 80
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 80
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 80
                                file: 
                                value: server_name
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 80
                                file: 
                                value: "_upstream"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 81
                          file: 
                          param: server
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 81
                            file: 
                            value: "_instance_name"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 82
                          file: 
                          param: port
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 82
                            file: 
                            value: "8080"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 83
                          file: 
                          param: upstream_fail_timeout
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 83
                            file: 
                            value: "10s"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 84
                          file: 
                          param: nginx_instance_name
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 84
                            file: 
                            value: nginx_instance_name
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 97
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 88
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 88
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 88
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 88
                        file: 
                        type: "Cloudeploydocker::Nginx::Vhost"
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 88
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Concat
                              line: 88
                              file: 
                              value: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 88
                                  file: 
                                  value: ""
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 88
                                  file: 
                                  value: server_name
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 88
                                  file: 
                                  value: ""
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 96
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 95
                    file: 
                    doc: ""
                    type: "cloudeploydocker::nginx::vhost"
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 95
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 95
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 89
                            file: 
                            value: server_name
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 90
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 90
                                file: 
                                param: nginx_instance_name
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 90
                                  file: 
                                  value: nginx_instance_name
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 91
                                file: 
                                param: ensure
                                value: !ruby/object:Puppet::Parser::AST::Name
                                  line: 91
                                  file: 
                                  value: present
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 92
                                file: 
                                param: listen_port
                                value: !ruby/object:Puppet::Parser::AST::Name
                                  line: 92
                                  file: 
                                  value: "80"
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 93
                                file: 
                                param: vhost_name
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 93
                                  file: 
                                  value: server_name
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 94
                                file: 
                                param: proxy
                                value: !ruby/object:Puppet::Parser::AST::Concat
                                  line: 94
                                  file: 
                                  value: 
                                    - !ruby/object:Puppet::Parser::AST::String
                                      line: 94
                                      file: 
                                      value: "http://"
                                    - !ruby/object:Puppet::Parser::AST::Variable
                                      line: 94
                                      file: 
                                      value: server_name
                                    - !ruby/object:Puppet::Parser::AST::String
                                      line: 94
                                      file: 
                                      value: "_upstream/"
                                children: []
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploydocker::tomcat::param"
  namespace: "cloudeploydocker::tomcat::param"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 3
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 2
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 2
          file: 
          value: volumns_path
        value: !ruby/object:Puppet::Parser::AST::String
          line: 2
          file: 
          value: /var/tmp/
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploydocker::tomcat::server"
  namespace: "cloudeploydocker::tomcat"
  arguments: 
    instance_name: !ruby/object:Puppet::Parser::AST::Variable
      line: 2
      file: 
      value: "cloudeploydocker::tomcat::instance::instance_name"
    running: !ruby/object:Puppet::Parser::AST::Boolean
      line: 3
      file: 
      value: true
    nginx_instance_name: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: ""
    server_name: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: freecms
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 8
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 7
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 7
          file: 
          value: sanitised_title
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 7
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 7
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 7
                file: 
                value: instance_name
              - !ruby/object:Puppet::Parser::AST::String
                line: 7
                file: 
                value: "[^0-9A-Za-z.\x5c-]"
              - !ruby/object:Puppet::Parser::AST::String
                line: 7
                file: 
                value: "-"
              - !ruby/object:Puppet::Parser::AST::String
                line: 7
                file: 
                value: G
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 10
        file: 
        doc: ""
        type: service
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 10
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 8
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 8
                    file: 
                    value: docker-
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 8
                    file: 
                    value: sanitised_title
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 8
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 9
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 9
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 9
                      file: 
                      value: running
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 39
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 12
          file: 
          value: nginx_instance_name
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 22
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 22
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 13
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 13
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 13
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 13
                        file: 
                        type: Class
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 13
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 13
                              file: 
                              value: "cloudeploydocker::nginx::config"
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 17
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 16
                    file: 
                    doc: ""
                    type: class
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 16
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 16
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: "cloudeploydocker::nginx::config"
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 15
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 15
                                file: 
                                param: instance_name
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 15
                                  file: 
                                  value: nginx_instance_name
                                children: []
                          children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::Relationship
                    line: 18
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 17
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 17
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 17
                            file: 
                            value: "cloudeploydocker::nginx::config"
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::Collection
                      line: 18
                      file: 
                      doc: ""
                      type: "cloudeploydocker::nginx::upstream"
                      query: !ruby/object:Puppet::Parser::AST::CollExpr
                        line: 17
                        file: 
                        test1: !ruby/object:Puppet::Parser::AST::Name
                          line: 17
                          file: 
                          value: nginx_instance_name
                        oper: "=="
                        test2: !ruby/object:Puppet::Parser::AST::Variable
                          line: 17
                          file: 
                          value: nginx_instance_name
                        children: []
                        form: !ruby/sym virtual
                        type: "cloudeploydocker::nginx::upstream"
                      form: !ruby/sym virtual
                      children: []
                    arrow: "->"
                  - !ruby/object:Puppet::Parser::AST::Relationship
                    line: 19
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 18
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 18
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 18
                            file: 
                            value: "cloudeploydocker::nginx::config"
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::Collection
                      line: 19
                      file: 
                      doc: ""
                      type: "cloudeploydocker::nginx::vhost"
                      query: !ruby/object:Puppet::Parser::AST::CollExpr
                        line: 18
                        file: 
                        test1: !ruby/object:Puppet::Parser::AST::Name
                          line: 18
                          file: 
                          value: nginx_instance_name
                        oper: "=="
                        test2: !ruby/object:Puppet::Parser::AST::Variable
                          line: 18
                          file: 
                          value: nginx_instance_name
                        children: []
                        form: !ruby/sym virtual
                        type: "cloudeploydocker::nginx::vhost"
                      form: !ruby/sym virtual
                      children: []
                    arrow: "->"
                  - !ruby/object:Puppet::Parser::AST::Relationship
                    line: 20
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 19
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 19
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 19
                            file: 
                            value: "cloudeploydocker::nginx::config"
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::Collection
                      line: 20
                      file: 
                      doc: ""
                      type: "cloudeploydocker::nginx::location"
                      query: !ruby/object:Puppet::Parser::AST::CollExpr
                        line: 19
                        file: 
                        test1: !ruby/object:Puppet::Parser::AST::Name
                          line: 19
                          file: 
                          value: nginx_instance_name
                        oper: "=="
                        test2: !ruby/object:Puppet::Parser::AST::Variable
                          line: 19
                          file: 
                          value: nginx_instance_name
                        children: []
                        form: !ruby/sym virtual
                        type: "cloudeploydocker::nginx::location"
                      form: !ruby/sym virtual
                      children: []
                    arrow: "->"
              children: []
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 30
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 22
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 22
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 22
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 22
                        file: 
                        type: "Cloudeploydocker::Nginx::Upstream"
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 22
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Concat
                              line: 22
                              file: 
                              value: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 22
                                  file: 
                                  value: ""
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 22
                                  file: 
                                  value: server_name
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 22
                                  file: 
                                  value: "_upstream"
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 28
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 27
                    file: 
                    doc: ""
                    type: "cloudeploydocker::nginx::upstream"
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 27
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 27
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Concat
                            line: 23
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 23
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 23
                                file: 
                                value: server_name
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 23
                                file: 
                                value: "_upstream"
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 24
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 24
                                file: 
                                param: ensure
                                value: !ruby/object:Puppet::Parser::AST::Name
                                  line: 24
                                  file: 
                                  value: present
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 25
                                file: 
                                param: nginx_instance_name
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 25
                                  file: 
                                  value: nginx_instance_name
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 26
                                file: 
                                param: upstream_name
                                value: !ruby/object:Puppet::Parser::AST::Concat
                                  line: 26
                                  file: 
                                  value: 
                                    - !ruby/object:Puppet::Parser::AST::String
                                      line: 26
                                      file: 
                                      value: ""
                                    - !ruby/object:Puppet::Parser::AST::Variable
                                      line: 26
                                      file: 
                                      value: server_name
                                    - !ruby/object:Puppet::Parser::AST::String
                                      line: 26
                                      file: 
                                      value: "_upstream"
                                children: []
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 37
              file: 
              doc: ""
              type: "cloudeploydocker::nginx::upstream::member"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 37
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 37
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 30
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 30
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 30
                          file: 
                          value: sanitised_title
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 30
                          file: 
                          value: "_upstream_member"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 31
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 31
                          file: 
                          param: upstream
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 31
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 31
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 31
                                file: 
                                value: server_name
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 31
                                file: 
                                value: "_upstream"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 32
                          file: 
                          param: server
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 32
                            file: 
                            value: sanitised_title
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 33
                          file: 
                          param: port
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 33
                            file: 
                            value: "8080"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 34
                          file: 
                          param: upstream_fail_timeout
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 34
                            file: 
                            value: "10s"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 35
                          file: 
                          param: nginx_instance_name
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 35
                            file: 
                            value: nginx_instance_name
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 36
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 36
                            file: 
                            value: running
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
