--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::activemq::install"
  namespace: "cloudeploy::activemq::install"
  arguments: 
    apache_source: !ruby/object:Puppet::Parser::AST::Variable
      line: 3
      file: 
      value: "cloudeploy::param::activemq_apache_source"
    home: !ruby/object:Puppet::Parser::AST::Variable
      line: 4
      file: 
      value: "cloudeploy::param::activemq_home"
    user: !ruby/object:Puppet::Parser::AST::Variable
      line: 5
      file: 
      value: "cloudeploy::param::activemq_user"
    group: !ruby/object:Puppet::Parser::AST::Variable
      line: 6
      file: 
      value: "cloudeploy::param::activemq_group"
    webConsole: !ruby/object:Puppet::Parser::AST::Variable
      line: 7
      file: 
      value: "cloudeploy::param::activemq_webConsole"
    activemq_jvm_xms: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "64M"
    activemq_jvm_xmx: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "64M"
    timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 10
      file: 
      value: !ruby/sym undef
    manage_user: !ruby/object:Puppet::Parser::AST::Boolean
      line: 11
      file: 
      value: true
    manage_group: !ruby/object:Puppet::Parser::AST::Boolean
      line: 12
      file: 
      value: true
    source_username: !ruby/object:Puppet::Parser::AST::Undef
      line: 13
      file: 
      value: !ruby/sym undef
    source_password: !ruby/object:Puppet::Parser::AST::Undef
      line: 14
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 20
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 17
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 17
          file: 
          value: architecture_flag
        value: !ruby/object:Puppet::Parser::AST::Variable
          line: 17
          file: 
          value: "cloudeploy::param::activemq_architecture_flag"
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 29
        file: 
        doc: "前提条件\n"
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 20
          file: 
          value: manage_user
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 27
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 27
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 21
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 21
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 21
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 21
                        file: 
                        type: User
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 21
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 21
                              file: 
                              value: user
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 26
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 25
                    file: 
                    doc: ""
                    type: user
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 25
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 25
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 22
                            file: 
                            value: user
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 23
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 23
                                file: 
                                param: ensure
                                value: !ruby/object:Puppet::Parser::AST::Name
                                  line: 23
                                  file: 
                                  value: present
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 24
                                file: 
                                param: gid
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 24
                                  file: 
                                  value: group
                                children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 37
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 29
          file: 
          value: manage_group
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 35
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 35
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 30
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 30
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 30
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 30
                        file: 
                        type: Group
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 30
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 30
                              file: 
                              value: group
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 34
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 33
                    file: 
                    doc: ""
                    type: group
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 33
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 33
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 31
                            file: 
                            value: group
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 32
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 32
                                file: 
                                param: ensure
                                value: !ruby/object:Puppet::Parser::AST::Name
                                  line: 32
                                  file: 
                                  value: present
                                children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 46
        file: 
        doc: ""
        type: "cloudeploy::primitive::deploy"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 46
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 46
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 37
                file: 
                value: activemq_deploy
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 38
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 38
                    file: 
                    param: source
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 38
                      file: 
                      value: apache_source
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 39
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 39
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 39
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 39
                          file: 
                          value: home
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 39
                          file: 
                          value: /activemq
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 40
                    file: 
                    param: timeout
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 40
                      file: 
                      value: timeout
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 41
                    file: 
                    param: user
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 41
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 42
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 43
                    file: 
                    param: username
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 43
                      file: 
                      value: source_username
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 44
                    file: 
                    param: password
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 44
                      file: 
                      value: source_password
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 45
                    file: 
                    param: source_strip_first_dir
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 45
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 73
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 73
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 73
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 68
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 68
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 68
                    file: 
                    value: home
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 68
                    file: 
                    value: /activemq/bin/linux
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 69
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 69
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 69
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 70
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 70
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 71
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 71
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 71
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 71
                          file: 
                          value: home
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 71
                          file: 
                          value: /activemq/bin/linux-x86-64
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 72
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 72
                      file: 
                      type: "Cloudeploy::Primitive::Deploy"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 72
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 72
                            file: 
                            value: activemq_deploy
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 81
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 81
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 81
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 75
                file: 
                value: /var/run/activemq
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 76
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 76
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 76
                      file: 
                      value: directory
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 77
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 77
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 78
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 78
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 79
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 79
                      file: 
                      value: "0755"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 80
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 80
                      file: 
                      type: "Cloudeploy::Primitive::Deploy"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 80
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 80
                            file: 
                            value: activemq_deploy
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 89
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 89
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 89
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 83
                file: 
                value: /etc/init.d/activemq
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 84
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 84
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 84
                      file: 
                      value: link
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 85
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 85
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 86
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 86
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 87
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 87
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 87
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 87
                          file: 
                          value: home
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 87
                          file: 
                          value: /activemq/bin/activemq
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 88
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 88
                      file: 
                      type: "Cloudeploy::Primitive::Deploy"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 88
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 88
                            file: 
                            value: activemq_deploy
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 97
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 97
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 97
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 91
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 91
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 91
                    file: 
                    value: home
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 91
                    file: 
                    value: /activemq/bin/activemq
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 92
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 92
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 92
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 93
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 93
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 94
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 94
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 95
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 95
                      file: 
                      doc: ""
                      name: template
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 95
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 95
                            file: 
                            value: cloudeploy/activemq.erb
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 96
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 96
                      file: 
                      type: "Cloudeploy::Primitive::Deploy"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 96
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 96
                            file: 
                            value: activemq_deploy
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 106
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 106
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 106
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 99
                file: 
                value: wrapper.conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 100
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 100
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 100
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 100
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 100
                          file: 
                          value: home
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 100
                          file: 
                          value: /activemq/bin/linux-x86-
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 100
                          file: 
                          value: architecture_flag
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 100
                          file: 
                          value: /wrapper.conf
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 101
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 101
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 102
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 102
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 103
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 103
                      file: 
                      value: "0644"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 104
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 104
                      file: 
                      doc: ""
                      name: template
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 104
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 104
                            file: 
                            value: cloudeploy/wrapper.conf.erb
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 105
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 105
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceReference
                          line: 105
                          file: 
                          type: File
                          title: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 105
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 105
                                file: 
                                value: /etc/init.d/activemq
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 117
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 108
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 108
            file: 
            value: activemq_jvm_xmx
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 108
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 115
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 114
              file: 
              doc: ""
              type: augeas
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 114
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 114
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 109
                      file: 
                      value: activemq-maxmemory
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 110
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 110
                          file: 
                          param: changes
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 110
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Concat
                                line: 110
                                file: 
                                value: 
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 110
                                    file: 
                                    value: "set wrapper.java.maxmemory "
                                  - !ruby/object:Puppet::Parser::AST::Variable
                                    line: 110
                                    file: 
                                    value: activemq_jvm_xmx
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 110
                                    file: 
                                    value: ""
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 111
                          file: 
                          param: incl
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 111
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 111
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 111
                                file: 
                                value: home
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 111
                                file: 
                                value: /activemq/bin/linux-x86-
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 111
                                file: 
                                value: architecture_flag
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 111
                                file: 
                                value: /wrapper.conf
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 112
                          file: 
                          param: lens
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 112
                            file: 
                            value: Properties.lns
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 113
                          file: 
                          param: require
                          value: !ruby/object:Puppet::Parser::AST::ResourceReference
                            line: 113
                            file: 
                            type: "Cloudeploy::Primitive::Deploy"
                            title: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 113
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 113
                                  file: 
                                  value: activemq_deploy
                            children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 126
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
          line: 117
          file: 
          operator: "!="
          lval: !ruby/object:Puppet::Parser::AST::Variable
            line: 117
            file: 
            value: activemq_jvm_xms
          rval: !ruby/object:Puppet::Parser::AST::Undef
            line: 117
            file: 
            value: !ruby/sym undef
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 124
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 123
              file: 
              doc: ""
              type: augeas
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 123
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 123
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 118
                      file: 
                      value: activemq-xms-memory
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 119
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 119
                          file: 
                          param: changes
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 119
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Concat
                                line: 119
                                file: 
                                value: 
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 119
                                    file: 
                                    value: "set wrapper.java.initmemory "
                                  - !ruby/object:Puppet::Parser::AST::Variable
                                    line: 119
                                    file: 
                                    value: activemq_jvm_xms
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 119
                                    file: 
                                    value: ""
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 120
                          file: 
                          param: incl
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 120
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 120
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 120
                                file: 
                                value: home
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 120
                                file: 
                                value: /activemq/bin/linux-x86-
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 120
                                file: 
                                value: architecture_flag
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 120
                                file: 
                                value: /wrapper.conf
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 121
                          file: 
                          param: lens
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 121
                            file: 
                            value: Properties.lns
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 122
                          file: 
                          param: require
                          value: !ruby/object:Puppet::Parser::AST::ResourceReference
                            line: 122
                            file: 
                            type: "Cloudeploy::Primitive::Deploy"
                            title: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 122
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 122
                                  file: 
                                  value: activemq_deploy
                            children: []
                          children: []
                    children: []
              children: []
        children: []
  doc: "用于安装activemq\n"
  line: 2
  parent: "cloudeploy::param"
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::activemq::service"
  namespace: "cloudeploy::activemq::service"
  arguments: 
    ensure: !ruby/object:Puppet::Parser::AST::Name
      line: 2
      file: 
      value: running
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 10
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 9
        file: 
        doc: ""
        type: service
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 9
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 9
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 5
                file: 
                value: activemq
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 6
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 6
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 6
                      file: 
                      value: ensure
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: name
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 7
                      file: 
                      value: activemq
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 8
                    file: 
                    param: enable
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 8
                      file: 
                      value: true
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::activemq::stomp"
  namespace: "cloudeploy::activemq"
  arguments: 
    port: !ruby/object:Puppet::Parser::AST::Name
      line: 3
      file: 
      value: "61613"
    activemq_home: !ruby/object:Puppet::Parser::AST::Variable
      line: 4
      file: 
      value: "cloudeploy::param::activemq_home"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 17
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 16
        file: 
        doc: ""
        type: augeas
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 16
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 16
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 6
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 6
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 6
                    file: 
                    value: name
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 6
                    file: 
                    value: "-activemq-stomp"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 10
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: changes
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 8
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 8
                          file: 
                          value: "set beans/broker/transportConnectors/transportConnector[last()+1]/#attribute/name stomp+nio"
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 9
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 9
                              file: 
                              value: "set beans/broker/transportConnectors/transportConnector[last()]/#attribute/uri stomp+nio://0.0.0.0:"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 9
                              file: 
                              value: port
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 9
                              file: 
                              value: "?transport.closeAsync=false"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 11
                    file: 
                    param: incl
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 11
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 11
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 11
                          file: 
                          value: activemq_home
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 11
                          file: 
                          value: /activemq/conf/activemq.xml
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 12
                    file: 
                    param: lens
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 12
                      file: 
                      value: Xml.lns
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 13
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 13
                      file: 
                      type: Anchor
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 13
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 13
                            file: 
                            value: "activemq::package::end"
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 14
                    file: 
                    param: notify
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 14
                      file: 
                      type: Service
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 14
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: activemq
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 15
                    file: 
                    param: onlyif
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 15
                      file: 
                      value: "match beans/broker/transportConnectors/transportConnector[#attribute/name = \x22stomp+nio\x22] size == 0"
                    children: []
              children: []
        children: []
  doc: "Configure ActiveMQ to use Stomp connector\n"
  line: 2
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::activemq::uninstall"
  namespace: "cloudeploy::activemq::uninstall"
  arguments: 
    home: !ruby/object:Puppet::Parser::AST::Variable
      line: 2
      file: 
      value: "cloudeploy::param::activemq_home"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 12
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 12
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 5
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 5
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 5
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 5
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 5
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 5
                        file: 
                        value: "cloudeploy::activemq::service"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 9
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 8
              file: 
              doc: ""
              type: class
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 8
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 8
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 6
                      file: 
                      value: "cloudeploy::activemq::service"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 7
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 7
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Boolean
                            line: 7
                            file: 
                            value: false
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 9
              file: 
              doc: ""
              name: contain
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 10
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 9
                    file: 
                    value: "cloudeploy::activemq::service"
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 12
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 12
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Resource
                line: 11
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 11
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 11
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Concat
                        line: 11
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 11
                            file: 
                            value: "cloudeploy::activemq::service has been defined before cloudeploy::activemq::uninstall_"
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 11
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 11
                            file: 
                            value: ""
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 11
                        file: 
                        children: []
                      children: []
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 19
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 19
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 19
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 15
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 15
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 15
                    file: 
                    value: home
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 15
                    file: 
                    value: /activemq
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 16
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 16
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 16
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 17
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 18
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 18
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 18
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 18
                            file: 
                            value: "cloudeploy::activemq::service"
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 44
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 44
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 44
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 40
                file: 
                value: /var/run/activemq
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 41
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 41
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 41
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 42
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 43
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 43
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 43
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 43
                            file: 
                            value: "cloudeploy::activemq::service"
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 50
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 50
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 50
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 46
                file: 
                value: /etc/init.d/activemq
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 47
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 47
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 47
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 48
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 48
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 49
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 49
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 49
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 49
                            file: 
                            value: "cloudeploy::activemq::service"
                      children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
  parent: "cloudeploy::param"
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::cloudshare::config_nginx"
  namespace: "cloudeploy::application::cloudshare::config_nginx"
  arguments: 
    members: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 3
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 3
          file: 
          value: "133.133.134.183:10080"
        - !ruby/object:Puppet::Parser::AST::String
          line: 3
          file: 
          value: "133.133.12.14:10080"
    cloudshare_ip: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "133.133.134.183"
    vhost: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "133.133.134.183"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 10
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 10
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 7
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 7
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 7
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 7
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 7
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 7
                        file: 
                        value: nginx
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 9
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 8
              file: 
              doc: ""
              name: include
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 9
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 8
                    file: 
                    value: nginx
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 18
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 10
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 10
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 10
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 10
                  file: 
                  type: "Nginx::Resource::Vhost"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 10
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 10
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 10
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 10
                            file: 
                            value: vhost
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 10
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 17
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 16
              file: 
              doc: ""
              type: "nginx::resource::vhost"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 16
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 16
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 11
                      file: 
                      value: vhost
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 12
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 12
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 12
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 13
                          file: 
                          param: listen_port
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 13
                            file: 
                            value: "80"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 14
                          file: 
                          param: server_name
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 14
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 14
                                file: 
                                value: vhost
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 15
                          file: 
                          param: proxy
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 15
                            file: 
                            value: "http://upstream.tenant/"
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 21
        file: 
        doc: ""
        type: "nginx::resource::upstream"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 21
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 21
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 18
                file: 
                value: upstream.cloudshare
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 19
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 19
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 19
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 20
                    file: 
                    param: members
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 20
                      file: 
                      value: members
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 28
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 28
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 28
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 23
                file: 
                value: cloudshare
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 24
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 24
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 24
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 25
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 25
                      file: 
                      value: /cloudshare/
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 26
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 26
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 27
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 27
                      file: 
                      value: "http://upstream.cloudshare/cloudshare/"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 35
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 35
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 35
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 30
                file: 
                value: cloudshare/cloudshare
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 31
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 31
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 31
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 32
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 32
                      file: 
                      value: /cloudshare/cloudshare/
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 33
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 33
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 34
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 34
                      file: 
                      value: "http://upstream.cloudshare/cloudshare/"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::cloudshare"
  namespace: "cloudeploy::application::cloudshare"
  arguments: 
    catalina_base: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/cloudshare/tomcat-cloudshare
    rest_server: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "http://127.0.0.1:6080"
    bosh_server: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "http://133.133.134.183:8225"
    mtenants_enable: !ruby/object:Puppet::Parser::AST::Boolean
      line: 5
      file: 
      value: true
    mtenants_server: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: "http://133.133.134.183/service"
    mtenants_bosh_server: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "http://133.133.134.183/bosh"
    search_server: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "http://133.133.134.183/index"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 42
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 41
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 37
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Relationship
            line: 30
            file: 
            children: []
            left: !ruby/object:Puppet::Parser::AST::Relationship
              line: 23
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 12
                file: 
                doc: ""
                type: "cloudeploy::tomcat::install"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 12
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 12
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 10
                        file: 
                        value: cloudshare_tomcat_install
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 11
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 11
                            file: 
                            param: catalina_base
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 11
                              file: 
                              value: catalina_base
                            children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 23
                file: 
                doc: ""
                type: "cloudeploy::tomcat::config"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 23
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 23
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 13
                        file: 
                        value: cloudshare_tomcat_config
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 14
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 14
                            file: 
                            param: catalina_base
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 14
                              file: 
                              value: catalina_base
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 15
                            file: 
                            param: shutdownPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 15
                              file: 
                              value: "10005"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 16
                            file: 
                            param: http_connector_port
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 16
                              file: 
                              value: "10080"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 17
                            file: 
                            param: http_connector_redirectPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 17
                              file: 
                              value: "10443"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 18
                            file: 
                            param: ajp_connector_port
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 18
                              file: 
                              value: "10009"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 19
                            file: 
                            param: ajp_connector_redirectPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 19
                              file: 
                              value: "10443"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 20
                            file: 
                            param: http_connector_additional_attributes
                            value: !ruby/object:Puppet::Parser::AST::ASTHash
                              line: 21
                              file: 
                              value: 
                                ? !ruby/object:Puppet::Parser::AST::String
                                  line: 21
                                  file: 
                                  value: URIEncodiing
                                : !ruby/object:Puppet::Parser::AST::String
                                  line: 21
                                  file: 
                                  value: UTF-8
                            children: []
                      children: []
                children: []
              arrow: "->"
            right: !ruby/object:Puppet::Parser::AST::Resource
              line: 30
              file: 
              doc: ""
              type: "cloudeploy::primitive::deploy"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 30
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 30
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 25
                      file: 
                      value: deploy_cloudshare_war
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 26
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 26
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 26
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 26
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 26
                                file: 
                                value: catalina_base
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 26
                                file: 
                                value: /webapps/cloudshare
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 27
                          file: 
                          param: source
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 27
                            file: 
                            value: "ftp://133.133.133.40/exchange/cloudshare/apps/cloudshare.war"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 28
                          file: 
                          param: username
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 28
                            file: 
                            value: tcse
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 29
                          file: 
                          param: password
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 29
                            file: 
                            value: tcse
                          children: []
                    children: []
              children: []
            arrow: "->"
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 37
            file: 
            doc: ""
            type: file
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 37
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 37
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 32
                    file: 
                    value: cloudshare_application_properties
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 33
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 33
                        file: 
                        param: ensure
                        value: !ruby/object:Puppet::Parser::AST::Name
                          line: 33
                          file: 
                          value: present
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 34
                        file: 
                        param: path
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 34
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 34
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 34
                              file: 
                              value: catalina_base
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 34
                              file: 
                              value: /webapps/cloudshare/WEB-INF/classes/application.properties
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 35
                        file: 
                        param: mode
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 35
                          file: 
                          value: "0755"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 36
                        file: 
                        param: content
                        value: !ruby/object:Puppet::Parser::AST::Function
                          ftype: !ruby/sym rvalue
                          line: 36
                          file: 
                          doc: ""
                          name: template
                          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 36
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 36
                                file: 
                                value: cloudeploy/application/cloudshare_application_properties.erb
                          children: []
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 41
          file: 
          doc: ""
          type: "tomcat::service"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 41
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 41
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 39
                  file: 
                  value: cloudshare_service
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 41
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 40
                      file: 
                      param: catalina_base
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 40
                        file: 
                        value: catalina_base
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::cstenants::config_nginx"
  namespace: "cloudeploy::application::cstenants::config_nginx"
  arguments: 
    cstenants_ip: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "133.133.134.183"
    cstenants_port: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "9000"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 9
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 9
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 6
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 6
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 6
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 6
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 6
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 6
                        file: 
                        value: nginx
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 8
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 7
              file: 
              doc: ""
              name: include
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 8
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 7
                    file: 
                    value: nginx
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 15
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 9
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 9
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 9
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 9
                  file: 
                  type: "Nginx::Resource::Upstream"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 9
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 9
                        file: 
                        value: upstream.tenant
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 14
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 13
              file: 
              doc: ""
              type: "nginx::resource::upstream"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 13
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 13
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 10
                      file: 
                      value: upstream.tenant
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 11
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 11
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 11
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 12
                          file: 
                          param: members
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 12
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Concat
                                line: 12
                                file: 
                                value: 
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 12
                                    file: 
                                    value: ""
                                  - !ruby/object:Puppet::Parser::AST::Variable
                                    line: 12
                                    file: 
                                    value: cstenants_ip
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 12
                                    file: 
                                    value: ":"
                                  - !ruby/object:Puppet::Parser::AST::Variable
                                    line: 12
                                    file: 
                                    value: cstenants_port
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 12
                                    file: 
                                    value: ""
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 23
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 15
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 15
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 15
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 15
                  file: 
                  type: "Nginx::Resource::Vhost"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 15
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 15
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 15
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 15
                            file: 
                            value: cstenants_ip
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 15
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 22
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 21
              file: 
              doc: ""
              type: "nginx::resource::vhost"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 21
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 21
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 16
                      file: 
                      value: cstenants_ip
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 17
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 17
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 17
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 18
                          file: 
                          param: listen_port
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 18
                            file: 
                            value: "80"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 19
                          file: 
                          param: server_name
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 19
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 19
                                file: 
                                value: cstenants_ip
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 20
                          file: 
                          param: proxy
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 20
                            file: 
                            value: "http://upstream.tenant/"
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::cstenants::config_playframwork"
  namespace: "cloudeploy::application::cstenants::config_playframwork"
  arguments: 
    play_script_path: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: /opt/cloudshare/bin/play
    cloudshare_home: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: /opt
    play_bin: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: /opt/play-2.2.2
    play_script_source: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: "ftp://133.133.133.40/exchange/cloudshare/scripts/play"
    source_username: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: tcse
    source_password: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: tcse
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 27
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 27
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 10
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 10
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 10
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 10
                  file: 
                  type: File
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 10
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 10
                        file: 
                        value: play_script_path
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 18
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 18
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 11
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 11
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 11
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 11
                        file: 
                        type: File
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 11
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 11
                              file: 
                              value: /opt/cloudshare
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 16
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 15
                    file: 
                    doc: ""
                    type: file
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 15
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 15
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::String
                            line: 12
                            file: 
                            value: /opt/cloudshare
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 13
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 13
                                file: 
                                param: ensure
                                value: !ruby/object:Puppet::Parser::AST::String
                                  line: 13
                                  file: 
                                  value: directory
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 14
                                file: 
                                param: recurse
                                value: !ruby/object:Puppet::Parser::AST::Boolean
                                  line: 14
                                  file: 
                                  value: true
                                children: []
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 26
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Not
                line: 18
                file: 
                value: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 18
                  file: 
                  doc: ""
                  name: defined
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 18
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceReference
                        line: 18
                        file: 
                        type: File
                        title: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 18
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 18
                              file: 
                              value: /opt/cloudshare/bin/
                        children: []
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 25
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 23
                    file: 
                    doc: ""
                    type: file
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 23
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 23
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::String
                            line: 19
                            file: 
                            value: /opt/cloudshare/bin/
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 20
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 20
                                file: 
                                param: ensure
                                value: !ruby/object:Puppet::Parser::AST::String
                                  line: 20
                                  file: 
                                  value: directory
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 21
                                file: 
                                param: recurse
                                value: !ruby/object:Puppet::Parser::AST::Boolean
                                  line: 21
                                  file: 
                                  value: true
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 22
                                file: 
                                param: require
                                value: !ruby/object:Puppet::Parser::AST::ResourceReference
                                  line: 22
                                  file: 
                                  type: File
                                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                                    line: 22
                                    file: 
                                    children: 
                                      - !ruby/object:Puppet::Parser::AST::String
                                        line: 22
                                        file: 
                                        value: /opt/cloudshare
                                  children: []
                                children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 42
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 35
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 32
            file: 
            doc: ""
            type: "cloudeploy::primitive::file"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 32
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 32
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 27
                    file: 
                    value: play_script_file
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 28
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 28
                        file: 
                        param: source
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 28
                          file: 
                          value: play_script_source
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 29
                        file: 
                        param: target
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 29
                          file: 
                          value: play_script_path
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 30
                        file: 
                        param: username
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 30
                          file: 
                          value: source_username
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 31
                        file: 
                        param: password
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 31
                          file: 
                          value: source_password
                        children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 35
            file: 
            doc: ""
            type: "cloudeploy::primitive::exec"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 35
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 35
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 33
                    file: 
                    value: "chmod play"
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 34
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 34
                        file: 
                        param: command
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 34
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 34
                              file: 
                              value: "chmod +x "
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 34
                              file: 
                              value: play_script_path
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 34
                              file: 
                              value: ""
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 42
          file: 
          doc: ""
          type: file
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 42
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 42
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 37
                  file: 
                  value: "cstenants play script"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 38
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 38
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 38
                        file: 
                        value: present
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 39
                      file: 
                      param: path
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 39
                        file: 
                        value: play_script_path
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 40
                      file: 
                      param: mode
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 40
                        file: 
                        value: "0755"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 41
                      file: 
                      param: content
                      value: !ruby/object:Puppet::Parser::AST::Function
                        ftype: !ruby/sym rvalue
                        line: 41
                        file: 
                        doc: ""
                        name: template
                        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 41
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 41
                              file: 
                              value: cloudeploy/cstenants/play.erb
                        children: []
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::application::cstenants::start"
  namespace: "cloudeploy::application::cstenants"
  arguments: 
    play_script_path: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/cloudshare/bin/play
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 7
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 6
        file: 
        doc: ""
        type: "cloudeploy::primitive::exec"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 6
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 6
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 4
                file: 
                value: "start cstenants"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 5
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 5
                    file: 
                    param: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 5
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 5
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 5
                          file: 
                          value: play_script_path
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 5
                          file: 
                          value: " start"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::cstenants"
  namespace: "cloudeploy::application::cstenants"
  arguments: 
    source: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: "ftp://133.133.133.40/exchange/cloudshare/apps/cstenants.zip"
    sqlScript_url: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "ftp://133.133.133.40/exchange/cloudshare/sqls/cs_global.sql"
    target: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: /opt/
    source_username: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: tcse
    source_password: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: tcse
    db_default_user: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: app
    db_default_password: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: pwd.app
    db_default_url_ip: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: localhost
    tenantdb_db_home: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: /usr/bin
    tenantdb_db_username: !ruby/object:Puppet::Parser::AST::String
      line: 11
      file: 
      value: root
    tenantdb_db_password: !ruby/object:Puppet::Parser::AST::String
      line: 12
      file: 
      value: root
    tenantdb_db_msg_home: !ruby/object:Puppet::Parser::AST::String
      line: 13
      file: 
      value: /usr/bin
    tenantdb_db_msg_username: !ruby/object:Puppet::Parser::AST::String
      line: 14
      file: 
      value: root
    tenantdb_db_msg_password: !ruby/object:Puppet::Parser::AST::String
      line: 15
      file: 
      value: root
    activaltionMail_link: !ruby/object:Puppet::Parser::AST::String
      line: 16
      file: 
      value: "133.133.134.183:9000"
    context_js_ip: !ruby/object:Puppet::Parser::AST::String
      line: 17
      file: 
      value: "133.133.134.183"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 35
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 33
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 25
          file: 
          doc: ""
          type: "cloudeploy::mysql::sqlscript"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 25
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 25
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 20
                  file: 
                  value: run_global_sql
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 21
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 21
                      file: 
                      param: target
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 21
                        file: 
                        value: /tmp/cs_global.sql
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 22
                      file: 
                      param: sqlScript_url
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 22
                        file: 
                        value: sqlScript_url
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 23
                      file: 
                      param: url_username
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 23
                        file: 
                        value: source_username
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 24
                      file: 
                      param: url_password
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 24
                        file: 
                        value: source_password
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 33
          file: 
          doc: ""
          type: "cloudeploy::primitive::deploy"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 33
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 33
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 27
                  file: 
                  value: cstenants_zip_deploy
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 28
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 28
                      file: 
                      param: source
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 28
                        file: 
                        value: source
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 29
                      file: 
                      param: target
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 29
                        file: 
                        value: target
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 30
                      file: 
                      param: username
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 30
                        file: 
                        value: source_username
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 31
                      file: 
                      param: password
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 31
                        file: 
                        value: source_password
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 32
                      file: 
                      param: timeout
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 32
                        file: 
                        value: "600"
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 41
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 41
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 41
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 35
                file: 
                value: cstenants_application_conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 36
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 36
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 36
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 37
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 37
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 37
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 37
                          file: 
                          value: target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 37
                          file: 
                          value: /cstenants/conf/application.conf
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 38
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 38
                      file: 
                      value: "0755"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 39
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 39
                      file: 
                      doc: ""
                      name: template
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 39
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 39
                            file: 
                            value: cloudeploy/cstenants/application_conf.erb
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 40
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 40
                      file: 
                      type: "Cloudeploy::Primitive::Deploy"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 40
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 40
                            file: 
                            value: cstenants_zip_deploy
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 49
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 49
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 49
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 43
                file: 
                value: cstenants_tenantdb_conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 44
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 44
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 44
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 45
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 45
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 45
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 45
                          file: 
                          value: target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 45
                          file: 
                          value: /cstenants/conf/tenantdb.conf
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 46
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 46
                      file: 
                      value: "0755"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 47
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 47
                      file: 
                      doc: ""
                      name: template
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 47
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 47
                            file: 
                            value: cloudeploy/cstenants/tenantdb_conf.erb
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 48
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 48
                      file: 
                      type: "Cloudeploy::Primitive::Deploy"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 48
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 48
                            file: 
                            value: cstenants_zip_deploy
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 57
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 57
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 57
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 51
                file: 
                value: cstenants_mail_conf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 52
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 52
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 52
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 53
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 53
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 53
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 53
                          file: 
                          value: target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 53
                          file: 
                          value: /cstenants/conf/mail.conf
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 54
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 54
                      file: 
                      value: "0755"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 55
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 55
                      file: 
                      doc: ""
                      name: template
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 55
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 55
                            file: 
                            value: cloudeploy/cstenants/mail_conf.erb
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 56
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 56
                      file: 
                      type: "Cloudeploy::Primitive::Deploy"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 56
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 56
                            file: 
                            value: cstenants_zip_deploy
                      children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 65
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 65
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 65
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 59
                file: 
                value: cstenants_context_js
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 60
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 60
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 60
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 61
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 61
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 61
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 61
                          file: 
                          value: target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 61
                          file: 
                          value: /cstenants/public/javascripts/cs/context.js
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 62
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 62
                      file: 
                      value: "0755"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 63
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 63
                      file: 
                      doc: ""
                      name: template
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 63
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 63
                            file: 
                            value: cloudeploy/cstenants/context_js.erb
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 64
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 64
                      file: 
                      type: "Cloudeploy::Primitive::Deploy"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 64
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 64
                            file: 
                            value: cstenants_zip_deploy
                      children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::index::config_nginx"
  namespace: "cloudeploy::application::index::config_nginx"
  arguments: 
    vhost: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: "133.133.134.183"
    index_ip: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "133.133.134.183"
    index_port: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "11080"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 9
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 9
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 6
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 6
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 6
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 6
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 6
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 6
                        file: 
                        value: nginx
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 8
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 7
              file: 
              doc: ""
              name: include
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 8
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 7
                    file: 
                    value: nginx
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 18
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 9
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 9
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 9
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 9
                  file: 
                  type: "Nginx::Resource::Vhost"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 9
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 9
                        file: 
                        value: vhost
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 16
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 15
              file: 
              doc: ""
              type: "nginx::resource::vhost"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 15
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 15
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 10
                      file: 
                      value: vhost
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 11
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 11
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 11
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 12
                          file: 
                          param: listen_port
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 12
                            file: 
                            value: "80"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 13
                          file: 
                          param: server_name
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 13
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 13
                                file: 
                                value: vhost
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 14
                          file: 
                          param: proxy
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: "http://upstream.tenant/"
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 23
        file: 
        doc: ""
        type: "nginx::resource::upstream"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 23
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 23
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 18
                file: 
                value: upstream.index
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 19
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 19
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 19
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 20
                    file: 
                    param: members
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 21
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 21
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 21
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 21
                              file: 
                              value: index_ip
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 21
                              file: 
                              value: ":"
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 21
                              file: 
                              value: index_port
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 21
                              file: 
                              value: ""
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 30
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 30
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 30
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 25
                file: 
                value: index
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 26
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 26
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 26
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 27
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 27
                      file: 
                      value: /index/
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 28
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 28
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 29
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 29
                      file: 
                      value: "http://upstream.index/index/"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 37
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 37
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 37
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 32
                file: 
                value: index/index
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 33
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 33
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 33
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 34
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 34
                      file: 
                      value: /index/index/
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 35
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 35
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 36
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 36
                      file: 
                      value: "http://upstream.index/index/"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::index"
  namespace: "cloudeploy::application::index"
  arguments: 
    catalina_base: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/cloudshare/tomcat-index
    database_ip: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "133.133.134.183"
    database_port: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "3306"
    jdbc_username: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: app
    jdbc_password: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: pwd.app
    redis_host_ip: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "133.133.12.14"
    redis_port: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "6379"
    redis_password: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "123456"
    msg_ip: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: "133.133.12.14"
    msg_port: !ruby/object:Puppet::Parser::AST::String
      line: 11
      file: 
      value: "61616"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 44
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 43
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 39
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Relationship
            line: 33
            file: 
            children: []
            left: !ruby/object:Puppet::Parser::AST::Relationship
              line: 26
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 15
                file: 
                doc: ""
                type: "cloudeploy::tomcat::install"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 15
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 15
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 13
                        file: 
                        value: index_tomcat_install
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 14
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 14
                            file: 
                            param: catalina_base
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 14
                              file: 
                              value: catalina_base
                            children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 26
                file: 
                doc: ""
                type: "cloudeploy::tomcat::config"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 26
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 26
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 16
                        file: 
                        value: index_tomcat_config
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 17
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 17
                            file: 
                            param: catalina_base
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 17
                              file: 
                              value: catalina_base
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 18
                            file: 
                            param: shutdownPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 18
                              file: 
                              value: "11005"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 19
                            file: 
                            param: http_connector_port
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 19
                              file: 
                              value: "11080"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 20
                            file: 
                            param: http_connector_redirectPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 20
                              file: 
                              value: "11443"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 21
                            file: 
                            param: ajp_connector_port
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 21
                              file: 
                              value: "11009"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 22
                            file: 
                            param: ajp_connector_redirectPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 22
                              file: 
                              value: "11443"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 23
                            file: 
                            param: http_connector_additional_attributes
                            value: !ruby/object:Puppet::Parser::AST::ASTHash
                              line: 24
                              file: 
                              value: 
                                ? !ruby/object:Puppet::Parser::AST::String
                                  line: 24
                                  file: 
                                  value: URIEncodiing
                                : !ruby/object:Puppet::Parser::AST::String
                                  line: 24
                                  file: 
                                  value: UTF-8
                            children: []
                      children: []
                children: []
              arrow: "->"
            right: !ruby/object:Puppet::Parser::AST::Resource
              line: 33
              file: 
              doc: ""
              type: "cloudeploy::primitive::deploy"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 33
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 33
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 28
                      file: 
                      value: deploy_index_war
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 29
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 29
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 29
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 29
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 29
                                file: 
                                value: catalina_base
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 29
                                file: 
                                value: /webapps/index
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 30
                          file: 
                          param: source
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 30
                            file: 
                            value: "ftp://133.133.133.40/exchange/cloudshare/apps/index.war"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 31
                          file: 
                          param: username
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 31
                            file: 
                            value: tcse
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 32
                          file: 
                          param: password
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 32
                            file: 
                            value: tcse
                          children: []
                    children: []
              children: []
            arrow: "->"
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 39
            file: 
            doc: ""
            type: file
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 39
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 39
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 35
                    file: 
                    value: index_application_properties
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 36
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 36
                        file: 
                        param: ensure
                        value: !ruby/object:Puppet::Parser::AST::Name
                          line: 36
                          file: 
                          value: present
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 37
                        file: 
                        param: path
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 37
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 37
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 37
                              file: 
                              value: catalina_base
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 37
                              file: 
                              value: /webapps/index/WEB-INF/classes/application.properties
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 38
                        file: 
                        param: content
                        value: !ruby/object:Puppet::Parser::AST::Function
                          ftype: !ruby/sym rvalue
                          line: 38
                          file: 
                          doc: ""
                          name: template
                          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 38
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 38
                                file: 
                                value: cloudeploy/application/index_application_properties.erb
                          children: []
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 43
          file: 
          doc: ""
          type: "tomcat::service"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 43
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 43
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 41
                  file: 
                  value: index_service
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 43
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 42
                      file: 
                      param: catalina_base
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 42
                        file: 
                        value: catalina_base
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::maintenance"
  namespace: "cloudeploy::application::maintenance"
  arguments: 
    catalina_base: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/cloudshare/tomcat-maintenance
    database_ip: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "133.133.134.183"
    database_port: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "3306"
    jdbc_username: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: app
    jdbc_password: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: pwd.app
    activaltionMail_link_ip: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "133.133.134.183"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 46
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 45
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 41
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Relationship
            line: 35
            file: 
            children: []
            left: !ruby/object:Puppet::Parser::AST::Relationship
              line: 29
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Relationship
                line: 22
                file: 
                children: []
                left: !ruby/object:Puppet::Parser::AST::Resource
                  line: 11
                  file: 
                  doc: ""
                  type: "cloudeploy::tomcat::install"
                  instances: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 11
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceInstance
                        line: 11
                        file: 
                        title: !ruby/object:Puppet::Parser::AST::String
                          line: 9
                          file: 
                          value: maintenance_tomcat_install
                        parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 10
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::ResourceParam
                              line: 10
                              file: 
                              param: catalina_base
                              value: !ruby/object:Puppet::Parser::AST::Variable
                                line: 10
                                file: 
                                value: catalina_base
                              children: []
                        children: []
                  children: []
                right: !ruby/object:Puppet::Parser::AST::Resource
                  line: 22
                  file: 
                  doc: ""
                  type: "cloudeploy::tomcat::config"
                  instances: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 22
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceInstance
                        line: 22
                        file: 
                        title: !ruby/object:Puppet::Parser::AST::String
                          line: 12
                          file: 
                          value: maintenance_tomcat_config
                        parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 13
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::ResourceParam
                              line: 13
                              file: 
                              param: catalina_base
                              value: !ruby/object:Puppet::Parser::AST::Variable
                                line: 13
                                file: 
                                value: catalina_base
                              children: []
                            - !ruby/object:Puppet::Parser::AST::ResourceParam
                              line: 14
                              file: 
                              param: shutdownPort
                              value: !ruby/object:Puppet::Parser::AST::String
                                line: 14
                                file: 
                                value: "11005"
                              children: []
                            - !ruby/object:Puppet::Parser::AST::ResourceParam
                              line: 15
                              file: 
                              param: http_connector_port
                              value: !ruby/object:Puppet::Parser::AST::String
                                line: 15
                                file: 
                                value: "11080"
                              children: []
                            - !ruby/object:Puppet::Parser::AST::ResourceParam
                              line: 16
                              file: 
                              param: http_connector_redirectPort
                              value: !ruby/object:Puppet::Parser::AST::String
                                line: 16
                                file: 
                                value: "11443"
                              children: []
                            - !ruby/object:Puppet::Parser::AST::ResourceParam
                              line: 17
                              file: 
                              param: ajp_connector_port
                              value: !ruby/object:Puppet::Parser::AST::String
                                line: 17
                                file: 
                                value: "11009"
                              children: []
                            - !ruby/object:Puppet::Parser::AST::ResourceParam
                              line: 18
                              file: 
                              param: ajp_connector_redirectPort
                              value: !ruby/object:Puppet::Parser::AST::String
                                line: 18
                                file: 
                                value: "11443"
                              children: []
                            - !ruby/object:Puppet::Parser::AST::ResourceParam
                              line: 19
                              file: 
                              param: http_connector_additional_attributes
                              value: !ruby/object:Puppet::Parser::AST::ASTHash
                                line: 20
                                file: 
                                value: 
                                  ? !ruby/object:Puppet::Parser::AST::String
                                    line: 20
                                    file: 
                                    value: URIEncodiing
                                  : !ruby/object:Puppet::Parser::AST::String
                                    line: 20
                                    file: 
                                    value: UTF-8
                              children: []
                        children: []
                  children: []
                arrow: "->"
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 29
                file: 
                doc: ""
                type: "cloudeploy::primitive::deploy"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 29
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 29
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 24
                        file: 
                        value: deploy_maintenance_war
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 25
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 25
                            file: 
                            param: target
                            value: !ruby/object:Puppet::Parser::AST::Concat
                              line: 25
                              file: 
                              value: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 25
                                  file: 
                                  value: ""
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 25
                                  file: 
                                  value: catalina_base
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 25
                                  file: 
                                  value: /webapps/maintenance
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 26
                            file: 
                            param: source
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 26
                              file: 
                              value: "ftp://133.133.133.40/exchange/cloudshare/apps/maintenance.war"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 27
                            file: 
                            param: username
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 27
                              file: 
                              value: tcse
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 28
                            file: 
                            param: password
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 28
                              file: 
                              value: tcse
                            children: []
                      children: []
                children: []
              arrow: "->"
            right: !ruby/object:Puppet::Parser::AST::Resource
              line: 35
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 35
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 35
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 31
                      file: 
                      value: maintenance_application_properties
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 32
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 32
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 32
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 33
                          file: 
                          param: path
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 33
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 33
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 33
                                file: 
                                value: catalina_base
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 33
                                file: 
                                value: /webapps/maintenance/WEB-INF/classes/application.properties
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 34
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 34
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 34
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 34
                                  file: 
                                  value: cloudeploy/application/maintenance_application_properties.erb
                            children: []
                          children: []
                    children: []
              children: []
            arrow: "->"
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 41
            file: 
            doc: ""
            type: file
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 41
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 41
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 37
                    file: 
                    value: maintenance_mail_properties
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 38
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 38
                        file: 
                        param: ensure
                        value: !ruby/object:Puppet::Parser::AST::Name
                          line: 38
                          file: 
                          value: present
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 39
                        file: 
                        param: path
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 39
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 39
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 39
                              file: 
                              value: catalina_base
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 39
                              file: 
                              value: /webapps/maintenance/WEB-INF/classes/mail.conf
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 40
                        file: 
                        param: content
                        value: !ruby/object:Puppet::Parser::AST::Function
                          ftype: !ruby/sym rvalue
                          line: 40
                          file: 
                          doc: ""
                          name: template
                          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 40
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 40
                                file: 
                                value: cloudeploy/application/maintenance_mail_conf.erb
                          children: []
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 45
          file: 
          doc: ""
          type: "tomcat::service"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 45
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 45
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 43
                  file: 
                  value: maintenance_service
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 45
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 44
                      file: 
                      param: catalina_base
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 44
                        file: 
                        value: catalina_base
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::message::config_nginx"
  namespace: "cloudeploy::application::message::config_nginx"
  arguments: 
    messaging_members: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 3
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 3
          file: 
          value: "133.133.134.183:9080"
    bosh_members: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 6
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 6
          file: 
          value: "133.133.134.183:8225"
    vhost: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "133.133.134.183"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 15
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 15
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 11
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 11
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 11
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 11
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 11
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 11
                        file: 
                        value: nginx
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 13
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 12
              file: 
              doc: ""
              name: include
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 13
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 12
                    file: 
                    value: nginx
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 24
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 15
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 15
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 15
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 15
                  file: 
                  type: "Nginx::Resource::Vhost"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 15
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 15
                        file: 
                        value: vhost
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 22
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 21
              file: 
              doc: ""
              type: "nginx::resource::vhost"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 21
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 21
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 16
                      file: 
                      value: vhost
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 17
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 17
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 17
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 18
                          file: 
                          param: listen_port
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 18
                            file: 
                            value: "80"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 19
                          file: 
                          param: server_name
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 19
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 19
                                file: 
                                value: vhost
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 20
                          file: 
                          param: proxy
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 20
                            file: 
                            value: "http://upstream.tenant/"
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 27
        file: 
        doc: ""
        type: "nginx::resource::upstream"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 27
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 27
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 24
                file: 
                value: upstream.messaging
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 25
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 25
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 25
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 26
                    file: 
                    param: members
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 26
                      file: 
                      value: messaging_members
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 32
        file: 
        doc: ""
        type: "nginx::resource::upstream"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 32
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 32
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 29
                file: 
                value: upstream.bosh
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 30
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 30
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 30
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 31
                    file: 
                    param: members
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 31
                      file: 
                      value: bosh_members
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 38
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 38
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 38
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 33
                file: 
                value: messaging
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 34
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 34
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 34
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 35
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 35
                      file: 
                      value: /messaging/
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 36
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 36
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 37
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 37
                      file: 
                      value: "http://upstream.messaging/messaging/"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 44
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 44
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 44
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 39
                file: 
                value: messaging/messaging
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 40
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 40
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 40
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 41
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 41
                      file: 
                      value: /messaging/messaging/
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 42
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 43
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 43
                      file: 
                      value: "http://upstream.messaging/messaging/"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 51
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 51
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 51
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 46
                file: 
                value: bosh
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 47
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 47
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 47
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 48
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 48
                      file: 
                      value: /bosh
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 49
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 49
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 50
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 50
                      file: 
                      value: "http://upstream.bosh"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 58
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 58
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 58
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 53
                file: 
                value: bosh/bosh
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 54
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 54
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 54
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 55
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 55
                      file: 
                      value: /bosh/bosh
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 56
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 56
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 57
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 57
                      file: 
                      value: "http://upstream.bosh"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::message"
  namespace: "cloudeploy::application::message"
  arguments: 
    catalina_base: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/cloudshare/tomcat-message
    database_ip: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "133.133.134.183"
    database_port: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "3306"
    database_name: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: cs_msg_tenant_default
    jdbc_username: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: app
    jdbc_password: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: pwd.app
    rest_servier: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "http://133.133.134.183/service"
    jms_brokerUrl: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "tcp://133.133.12.14:61616"
    attachment_storate_path: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: cloudshare/msg_data_saas
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 51
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 50
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 46
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Relationship
            line: 39
            file: 
            children: []
            left: !ruby/object:Puppet::Parser::AST::Relationship
              line: 25
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 14
                file: 
                doc: ""
                type: "cloudeploy::tomcat::install"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 14
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 14
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 12
                        file: 
                        value: message_tomcat_install
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 13
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 13
                            file: 
                            param: catalina_base
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 13
                              file: 
                              value: catalina_base
                            children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 25
                file: 
                doc: ""
                type: "cloudeploy::tomcat::config"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 25
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 25
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 15
                        file: 
                        value: message_tomcat_config
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 16
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 16
                            file: 
                            param: catalina_base
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 16
                              file: 
                              value: catalina_base
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 17
                            file: 
                            param: shutdownPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 17
                              file: 
                              value: "9005"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 18
                            file: 
                            param: http_connector_port
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 18
                              file: 
                              value: "9080"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 19
                            file: 
                            param: http_connector_redirectPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 19
                              file: 
                              value: "9443"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 20
                            file: 
                            param: ajp_connector_port
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 20
                              file: 
                              value: "9009"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 21
                            file: 
                            param: ajp_connector_redirectPort
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 21
                              file: 
                              value: "9443"
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 22
                            file: 
                            param: http_connector_additional_attributes
                            value: !ruby/object:Puppet::Parser::AST::ASTHash
                              line: 23
                              file: 
                              value: 
                                ? !ruby/object:Puppet::Parser::AST::String
                                  line: 23
                                  file: 
                                  value: URIEncodiing
                                : !ruby/object:Puppet::Parser::AST::String
                                  line: 23
                                  file: 
                                  value: UTF-8
                            children: []
                      children: []
                children: []
              arrow: "->"
            right: !ruby/object:Puppet::Parser::AST::Resource
              line: 39
              file: 
              doc: "  ->\n cloudeploy::mysql::sqlscript{'cs_tenant_default.sql':\n   target => '/tmp/cs_msg_tenant_default.sql',\n   sqlScript_url =>'ftp://133.133.133.40/exchange/cloudshare/sqls/cs_msg_tenant_default.sql',\n   url_username =>'tcse',\n   url_password => 'tcse',\n }\n"
              type: "cloudeploy::primitive::deploy"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 39
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 39
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 34
                      file: 
                      value: deploy_message_war
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 35
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 35
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 35
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 35
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 35
                                file: 
                                value: catalina_base
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 35
                                file: 
                                value: /webapps/messaging
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 36
                          file: 
                          param: source
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 36
                            file: 
                            value: "ftp://133.133.133.40/exchange/cloudshare/apps/messaging.war"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 37
                          file: 
                          param: username
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 37
                            file: 
                            value: tcse
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 38
                          file: 
                          param: password
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 38
                            file: 
                            value: tcse
                          children: []
                    children: []
              children: []
            arrow: "->"
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 46
            file: 
            doc: ""
            type: file
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 46
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 46
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 41
                    file: 
                    value: messaging_application_properties
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 42
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 42
                        file: 
                        param: ensure
                        value: !ruby/object:Puppet::Parser::AST::Name
                          line: 42
                          file: 
                          value: present
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 43
                        file: 
                        param: path
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 43
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 43
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 43
                              file: 
                              value: catalina_base
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 43
                              file: 
                              value: /webapps/messaging/WEB-INF/classes/application.properties
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 44
                        file: 
                        param: mode
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 44
                          file: 
                          value: "0755"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 45
                        file: 
                        param: content
                        value: !ruby/object:Puppet::Parser::AST::Function
                          ftype: !ruby/sym rvalue
                          line: 45
                          file: 
                          doc: ""
                          name: template
                          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 45
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 45
                                file: 
                                value: cloudeploy/application/messaging_application_properties.erb
                          children: []
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 50
          file: 
          doc: ""
          type: "tomcat::service"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 50
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 50
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 48
                  file: 
                  value: message_service
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 50
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 49
                      file: 
                      param: catalina_base
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 49
                        file: 
                        value: catalina_base
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::service::config_nginx"
  namespace: "cloudeploy::application::service::config_nginx"
  arguments: 
    members: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 4
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 4
          file: 
          value: "133.133.134.183:8080"
        - !ruby/object:Puppet::Parser::AST::String
          line: 5
          file: 
          value: "133.133.12.14:8080"
    vhost: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "133.133.134.183"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 12
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 12
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 9
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 9
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 9
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 9
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 9
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 9
                        file: 
                        value: nginx
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 11
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 10
              file: 
              doc: ""
              name: include
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 10
                    file: 
                    value: nginx
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 20
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 12
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 12
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 12
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 12
                  file: 
                  type: "Nginx::Resource::Vhost"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 12
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 12
                        file: 
                        value: vhost
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 19
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 18
              file: 
              doc: ""
              type: "nginx::resource::vhost"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 18
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 18
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 13
                      file: 
                      value: vhost
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 14
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 14
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 14
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 15
                          file: 
                          param: listen_port
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 15
                            file: 
                            value: "80"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 16
                          file: 
                          param: server_name
                          value: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 16
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 16
                                file: 
                                value: vhost
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 17
                          file: 
                          param: proxy
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 17
                            file: 
                            value: "http://upstream.tenant/"
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 23
        file: 
        doc: ""
        type: "nginx::resource::upstream"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 23
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 23
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 20
                file: 
                value: upstream.service
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 21
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 21
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 21
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 22
                    file: 
                    param: members
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 22
                      file: 
                      value: members
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 36
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 30
          file: 
          doc: ""
          type: "cloudeploy::primitive::file"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 30
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 30
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 25
                  file: 
                  value: upload_crossdomain
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 26
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 26
                      file: 
                      param: target
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 26
                        file: 
                        value: /opt/cloudshare/public/crossdomain.xml
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 27
                      file: 
                      param: source
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 27
                        file: 
                        value: "ftp://133.133.133.40/exchange/cloudshare/pkgs/crossdomain.xml"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 28
                      file: 
                      param: username
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 28
                        file: 
                        value: tcse
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 29
                      file: 
                      param: password
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 29
                        file: 
                        value: tcse
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 36
          file: 
          doc: ""
          type: "nginx::resource::location"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 36
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 36
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 31
                  file: 
                  value: crossdomain
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 32
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 32
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 32
                        file: 
                        value: present
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 33
                      file: 
                      param: location
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 33
                        file: 
                        value: /crossdomain.xml
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 34
                      file: 
                      param: vhost
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 34
                        file: 
                        value: vhost
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 35
                      file: 
                      param: www_root
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 35
                        file: 
                        value: /opt/cloudshare/public
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 43
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 43
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 43
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 38
                file: 
                value: service
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 39
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 39
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 39
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 40
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 40
                      file: 
                      value: /service/
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 41
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 41
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 42
                      file: 
                      value: "http://upstream.service/service"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 50
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 50
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 50
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 45
                file: 
                value: service/service
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 46
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 46
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 46
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 47
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 47
                      file: 
                      value: /service/service/
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 48
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 48
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 49
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 49
                      file: 
                      value: "http://upstream.service/service"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::application::service"
  namespace: "cloudeploy::application::service"
  arguments: 
    catalina_base: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/cloudshare/tomcat-service
    sqlScript_source: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "ftp://133.133.133.40/exchange/cloudshare/sqls/cs_tenant_default.sql"
    source_username: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: tcse
    source_password: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: tcse
    server_war_source: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: "ftp://133.133.133.40/exchange/cloudshare/apps/service.war"
    client_web_url_ip: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "133.133.134.183"
    msg_server_host: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "133.133.134.183"
    database_ip: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "133.133.134.183"
    database_port: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: "3306"
    database_name: !ruby/object:Puppet::Parser::AST::String
      line: 11
      file: 
      value: cs_tenant_default
    jdbc_username: !ruby/object:Puppet::Parser::AST::String
      line: 12
      file: 
      value: app
    jdbc_password: !ruby/object:Puppet::Parser::AST::String
      line: 13
      file: 
      value: pwd.app
    msg_ip: !ruby/object:Puppet::Parser::AST::String
      line: 14
      file: 
      value: "133.133.12.14"
    msg_port: !ruby/object:Puppet::Parser::AST::String
      line: 15
      file: 
      value: "61616"
    redis_host_ip: !ruby/object:Puppet::Parser::AST::String
      line: 16
      file: 
      value: "133.133.12.14"
    redis_port: !ruby/object:Puppet::Parser::AST::String
      line: 17
      file: 
      value: "6379"
    redis_password: !ruby/object:Puppet::Parser::AST::String
      line: 18
      file: 
      value: "123456"
    lucene_spaceIndexDir: !ruby/object:Puppet::Parser::AST::String
      line: 19
      file: 
      value: /cloudshare/space/indexDir
    lucene_personalIndexDir: !ruby/object:Puppet::Parser::AST::String
      line: 20
      file: 
      value: /cloudshare/personal/indexDir
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 40
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 38
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 31
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 24
            file: 
            doc: ""
            type: "cloudeploy::tomcat::install"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 24
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 24
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 22
                    file: 
                    value: service_tomcat_install
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 23
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 23
                        file: 
                        param: catalina_base
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 23
                          file: 
                          value: catalina_base
                        children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 31
            file: 
            doc: ""
            type: "cloudeploy::tomcat::config"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 31
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 31
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 26
                    file: 
                    value: service_tomcat_config
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 27
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 27
                        file: 
                        param: catalina_base
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 27
                          file: 
                          value: catalina_base
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 28
                        file: 
                        param: http_connector_additional_attributes
                        value: !ruby/object:Puppet::Parser::AST::ASTHash
                          line: 29
                          file: 
                          value: 
                            ? !ruby/object:Puppet::Parser::AST::String
                              line: 29
                              file: 
                              value: URIEncodiing
                            : !ruby/object:Puppet::Parser::AST::String
                              line: 29
                              file: 
                              value: UTF-8
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 38
          file: 
          doc: ""
          type: "cloudeploy::mysql::sqlscript"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 38
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 38
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 33
                  file: 
                  value: cs_tenant_default.sql
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 34
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 34
                      file: 
                      param: target
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 34
                        file: 
                        value: /tmp/cs_tenant_default.sql
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 35
                      file: 
                      param: sqlScript_url
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 35
                        file: 
                        value: sqlScript_source
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 36
                      file: 
                      param: url_username
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 36
                        file: 
                        value: source_username
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 37
                      file: 
                      param: url_password
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 37
                        file: 
                        value: source_password
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 63
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 59
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Relationship
            line: 52
            file: 
            children: []
            left: !ruby/object:Puppet::Parser::AST::Resource
              line: 45
              file: 
              doc: ""
              type: "cloudeploy::primitive::deploy"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 45
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 45
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 40
                      file: 
                      value: deploy_service_war
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 41
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 41
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 41
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 41
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 41
                                file: 
                                value: catalina_base
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 41
                                file: 
                                value: /webapps/service
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 42
                          file: 
                          param: source
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 42
                            file: 
                            value: server_war_source
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 43
                          file: 
                          param: username
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 43
                            file: 
                            value: source_username
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 44
                          file: 
                          param: password
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 44
                            file: 
                            value: source_username
                          children: []
                    children: []
              children: []
            right: !ruby/object:Puppet::Parser::AST::Resource
              line: 52
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 52
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 52
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 47
                      file: 
                      value: default_globalconfig_peoperties
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 48
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 48
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 48
                            file: 
                            value: present
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 49
                          file: 
                          param: path
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 49
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 49
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 49
                                file: 
                                value: catalina_base
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 49
                                file: 
                                value: /webapps/service/WEB-INF/classes/default-globalconfig.properties
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 50
                          file: 
                          param: mode
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 50
                            file: 
                            value: "0755"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 51
                          file: 
                          param: content
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 51
                            file: 
                            doc: ""
                            name: template
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 51
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 51
                                  file: 
                                  value: cloudeploy/application/service_default_globalconfig_properties.erb
                            children: []
                          children: []
                    children: []
              children: []
            arrow: "->"
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 59
            file: 
            doc: ""
            type: file
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 59
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 59
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 54
                    file: 
                    value: service_application_properties
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 55
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 55
                        file: 
                        param: ensure
                        value: !ruby/object:Puppet::Parser::AST::Name
                          line: 55
                          file: 
                          value: present
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 56
                        file: 
                        param: path
                        value: !ruby/object:Puppet::Parser::AST::Concat
                          line: 56
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 56
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 56
                              file: 
                              value: catalina_base
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 56
                              file: 
                              value: /webapps/service/WEB-INF/classes/application.properties
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 57
                        file: 
                        param: mode
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 57
                          file: 
                          value: "0755"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 58
                        file: 
                        param: content
                        value: !ruby/object:Puppet::Parser::AST::Function
                          ftype: !ruby/sym rvalue
                          line: 58
                          file: 
                          doc: ""
                          name: template
                          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 58
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 58
                                file: 
                                value: cloudeploy/application/application_properties.erb
                          children: []
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 63
          file: 
          doc: ""
          type: "tomcat::service"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 63
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 63
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 61
                  file: 
                  value: service_service
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 63
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 62
                      file: 
                      param: catalina_base
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 62
                        file: 
                        value: catalina_base
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::font::install"
  namespace: "cloudeploy::font::install"
  arguments: 
    fonts_source: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: "ftp://133.133.133.40/exchange/cloudshare/pkgs/cloudshare-zh-CN-fonts.tar.gz"
    source_username: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: tcse
    source_password: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: tcse
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 20
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 19
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 15
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 12
            file: 
            doc: ""
            type: "cloudeploy::primitive::deploy"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 12
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 12
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 6
                    file: 
                    value: fonts_tar_file
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 7
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 7
                        file: 
                        param: source
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 7
                          file: 
                          value: fonts_source
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 8
                        file: 
                        param: target
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 8
                          file: 
                          value: /usr/share/fonts
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 9
                        file: 
                        param: timeout
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 9
                          file: 
                          value: "600"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 10
                        file: 
                        param: username
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 10
                          file: 
                          value: source_username
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 11
                        file: 
                        param: password
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 11
                          file: 
                          value: source_password
                        children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 15
            file: 
            doc: ""
            type: "cloudeploy::primitive::exec"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 15
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 15
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 13
                    file: 
                    value: cache_fonts_exe0
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 14
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 14
                        file: 
                        param: command
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 14
                          file: 
                          value: "mkfontscale /usr/share/fonts/cloudshare-zh-CN-fonts && mkfontdir /usr/share/fonts/cloudshare-zh-CN-fonts"
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 19
          file: 
          doc: ""
          type: "cloudeploy::primitive::exec"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 19
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 19
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 17
                  file: 
                  value: cache_fonts_exe1
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 18
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 18
                      file: 
                      param: command
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 18
                        file: 
                        value: "chmod 777 /usr/share/fonts/cloudshare-zh-CN-fonts/* && fc-cache /usr/share/fonts/cloudshare-zh-CN-fonts/"
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::font::uninstall"
  namespace: "cloudeploy::font::uninstall"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::host"
  namespace: cloudeploy
  arguments: 
    hostname: !ruby/object:Puppet::Parser::AST::Undef
      line: 2
      file: 
      value: !ruby/sym undef
    hostIp: !ruby/object:Puppet::Parser::AST::Undef
      line: 3
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 11
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 10
        file: 
        doc: ""
        type: "::host"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 10
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 5
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 5
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 5
                    file: 
                    value: hostname
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 5
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 6
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 6
                    file: 
                    param: name
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 6
                      file: 
                      value: hostname
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 7
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 8
                    file: 
                    param: ip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 8
                      file: 
                      value: hostIp
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 9
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 9
                      file: 
                      value: /etc/hosts
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: cloudeploy
  namespace: cloudeploy
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  doc: "Class: cloudeploy\n\nThis module manages cloudeploy\n\nParameters: none\n\nActions:\n\nRequires: see Modulefile\n\nSample Usage:\n\n"
  line: 13
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::java::install"
  namespace: "cloudeploy::java::install"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 9
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 9
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 2
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 2
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 2
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 2
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 2
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 2
                        file: 
                        value: java
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 7
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 5
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 3
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 3
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 3
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 3
                        file: 
                        value: "cloudeploy::java::install step1->install java"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 3
                        file: 
                        children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 5
                file: 
                doc: ""
                type: class
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 5
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 5
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 4
                        file: 
                        value: java
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 5
                        file: 
                        children: []
                      children: []
                children: []
              arrow: "->"
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 9
          file: 
          doc: "contain java\n"
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 9
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Resource
                line: 8
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 8
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 8
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Concat
                        line: 8
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 8
                            file: 
                            value: "java has been defined before cloudeploy::java::install_"
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 8
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 8
                            file: 
                            value: ""
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 8
                        file: 
                        children: []
                      children: []
                children: []
          children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::java::uninstall"
  namespace: "cloudeploy::java::uninstall"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 10
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 10
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 2
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 2
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 2
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 2
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 2
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 2
                        file: 
                        value: java
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 8
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 6
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 3
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 3
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 3
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 3
                        file: 
                        value: "cloudeploy::java::uninstall step1->uninstall java"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 3
                        file: 
                        children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 6
                file: 
                doc: ""
                type: class
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 6
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 6
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 4
                        file: 
                        value: java
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 5
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 5
                            file: 
                            param: version
                            value: !ruby/object:Puppet::Parser::AST::Name
                              line: 5
                              file: 
                              value: absent
                            children: []
                      children: []
                children: []
              arrow: "->"
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 10
          file: 
          doc: "contain java\n"
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 10
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Resource
                line: 9
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 9
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 9
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Concat
                        line: 9
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 9
                            file: 
                            value: "java has been defined before cloudeploy::java::install_"
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 9
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 9
                            file: 
                            value: ",so uninstalling java didn't work"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 9
                        file: 
                        children: []
                      children: []
                children: []
          children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::mysql::config"
  namespace: "cloudeploy::mysql"
  arguments: 
    client_port: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "3306"
    mysqld_safe_nice: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "0"
    bind_address: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "0.0.0.0"
    expire_logs_days: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: "10"
    key_buffer_size: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "16M"
    max_allowed_packet: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "16M"
    max_binlog_size: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "100M"
    max_connections: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: "151"
    myisam_recover: !ruby/object:Puppet::Parser::AST::String
      line: 11
      file: 
      value: BACKUP
    mysqld_port: !ruby/object:Puppet::Parser::AST::String
      line: 12
      file: 
      value: "3306"
    query_cache_limit: !ruby/object:Puppet::Parser::AST::String
      line: 13
      file: 
      value: "1M"
    query_cache_size: !ruby/object:Puppet::Parser::AST::String
      line: 14
      file: 
      value: "16M"
    skip_external_locking: !ruby/object:Puppet::Parser::AST::Boolean
      line: 15
      file: 
      value: true
    thread_cache_size: !ruby/object:Puppet::Parser::AST::String
      line: 16
      file: 
      value: "8"
    thread_stack: !ruby/object:Puppet::Parser::AST::String
      line: 17
      file: 
      value: "256K"
    user: !ruby/object:Puppet::Parser::AST::String
      line: 18
      file: 
      value: mysql
    mysqldump_max_allowed_packet: !ruby/object:Puppet::Parser::AST::String
      line: 19
      file: 
      value: "16M"
    mysqldump_quick: !ruby/object:Puppet::Parser::AST::Boolean
      line: 20
      file: 
      value: true
    mysqldump_quote_names: !ruby/object:Puppet::Parser::AST::Boolean
      line: 21
      file: 
      value: true
    isamchk_key_buffer_size: !ruby/object:Puppet::Parser::AST::String
      line: 22
      file: 
      value: "16M"
    client_socket: !ruby/object:Puppet::Parser::AST::Undef
      line: 23
      file: 
      value: !ruby/sym undef
    mysqld_safe_log_error: !ruby/object:Puppet::Parser::AST::Undef
      line: 24
      file: 
      value: !ruby/sym undef
    mysqld_safe_socket: !ruby/object:Puppet::Parser::AST::Undef
      line: 25
      file: 
      value: !ruby/sym undef
    basedir: !ruby/object:Puppet::Parser::AST::Undef
      line: 26
      file: 
      value: !ruby/sym undef
    datadir: !ruby/object:Puppet::Parser::AST::Undef
      line: 27
      file: 
      value: !ruby/sym undef
    mysqld_log_error: !ruby/object:Puppet::Parser::AST::Undef
      line: 28
      file: 
      value: !ruby/sym undef
    pid_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 29
      file: 
      value: !ruby/sym undef
    tmpdir: !ruby/object:Puppet::Parser::AST::Undef
      line: 30
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 74
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 32
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 32
          file: 
          value: "_override_options"
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 71
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::String
              line: 33
              file: 
              value: client
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 36
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 34
                  file: 
                  value: port
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 34
                  file: 
                  value: client_port
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 35
                  file: 
                  value: socket
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 35
                  file: 
                  value: client_socket
            ? !ruby/object:Puppet::Parser::AST::String
              line: 37
              file: 
              value: mysqld_safe
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 40
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 38
                  file: 
                  value: nice
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 38
                  file: 
                  value: mysqld_safe_nice
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 39
                  file: 
                  value: log-error
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 39
                  file: 
                  value: mysqld_safe_log_error
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 40
                  file: 
                  value: socket
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 40
                  file: 
                  value: mysqld_safe_socket
            ? !ruby/object:Puppet::Parser::AST::String
              line: 42
              file: 
              value: mysqld
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 63
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 43
                  file: 
                  value: basedir
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 43
                  file: 
                  value: basedir
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 44
                  file: 
                  value: bind-address
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 44
                  file: 
                  value: bind_address
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 45
                  file: 
                  value: datadir
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 45
                  file: 
                  value: datadir
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 46
                  file: 
                  value: expire_logs_days
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 46
                  file: 
                  value: expire_logs_days
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 47
                  file: 
                  value: key_buffer_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 47
                  file: 
                  value: key_buffer_size
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 48
                  file: 
                  value: log-error
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 48
                  file: 
                  value: mysqld_log_error
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 49
                  file: 
                  value: max_allowed_packet
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 49
                  file: 
                  value: max_allowed_packet
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 50
                  file: 
                  value: max_binlog_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 50
                  file: 
                  value: max_binlog_size
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 51
                  file: 
                  value: max_connections
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 51
                  file: 
                  value: max_connections
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 52
                  file: 
                  value: myisam_recover
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 52
                  file: 
                  value: myisam_recover
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 53
                  file: 
                  value: pid-file
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 53
                  file: 
                  value: pid_file
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 54
                  file: 
                  value: port
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 54
                  file: 
                  value: mysqld_port
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 55
                  file: 
                  value: query_cache_limit
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 55
                  file: 
                  value: query_cache_limit
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 56
                  file: 
                  value: query_cache_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 56
                  file: 
                  value: query_cache_size
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 57
                  file: 
                  value: skip-external-locking
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 57
                  file: 
                  value: skip_external_locking
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 58
                  file: 
                  value: socket
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 58
                  file: 
                  value: "mysql::params::socket"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 59
                  file: 
                  value: thread_cache_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 59
                  file: 
                  value: thread_cache_size
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 60
                  file: 
                  value: thread_stack
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 60
                  file: 
                  value: thread_stack
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 61
                  file: 
                  value: tmpdir
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 61
                  file: 
                  value: "mysql::params::tmpdir"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 62
                  file: 
                  value: user
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 62
                  file: 
                  value: user
            ? !ruby/object:Puppet::Parser::AST::String
              line: 64
              file: 
              value: mysqldump
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 67
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 65
                  file: 
                  value: max_allowed_packet
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 65
                  file: 
                  value: mysqldump_max_allowed_packet
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 66
                  file: 
                  value: quick
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 66
                  file: 
                  value: mysqldump_quick
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 67
                  file: 
                  value: quote-names
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 67
                  file: 
                  value: mysqldump_quote_names
            ? !ruby/object:Puppet::Parser::AST::String
              line: 69
              file: 
              value: isamchk
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 70
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 70
                  file: 
                  value: key_buffer_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 70
                  file: 
                  value: isamchk_key_buffer_size
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 74
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 74
          file: 
          value: override_options
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 74
          file: 
          doc: ""
          name: cloudeploy_delete_undef_values
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 74
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 74
                file: 
                value: "_override_options"
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 75
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 76
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 75
              file: 
              value: "::mysql::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 76
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 76
          file: 
          value: options
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 76
          file: 
          doc: ""
          name: mysql_deepmerge
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 76
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 76
                file: 
                value: "mysql::params::default_options"
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 76
                file: 
                value: override_options
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 81
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 81
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 81
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 78
                file: 
                value: "mysql::params::config_file"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 79
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 79
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 79
                      file: 
                      doc: ""
                      name: template
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 79
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 79
                            file: 
                            value: mysql/my.cnf.erb
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 80
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 80
                      file: 
                      value: "0644"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 89
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::HashOrArrayAccess
          line: 83
          file: 
          variable: !ruby/object:Puppet::Parser::AST::HashOrArrayAccess
            line: 83
            file: 
            variable: options
            key: !ruby/object:Puppet::Parser::AST::String
              line: 83
              file: 
              value: mysqld
          key: !ruby/object:Puppet::Parser::AST::String
            line: 83
            file: 
            value: ssl-disable
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 87
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 86
              file: 
              doc: ""
              type: notify
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 86
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 86
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 84
                      file: 
                      value: ssl-disable
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 86
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 85
                          file: 
                          param: message
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 85
                            file: 
                            value: "Disabling SSL is evil! You should never ever do this except if you are forced to use a mysql version compiled without SSL support"
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 94
        file: 
        doc: ""
        type: firewall
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 94
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 94
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 89
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 89
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 89
                    file: 
                    value: mysqld_port
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 89
                    file: 
                    value: " allow mysql access"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 90
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 90
                    file: 
                    param: chain
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 90
                      file: 
                      value: INPUT
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 91
                    file: 
                    param: port
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 91
                      file: 
                      value: mysqld_port
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 92
                    file: 
                    param: proto
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 92
                      file: 
                      value: tcp
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 93
                    file: 
                    param: action
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 93
                      file: 
                      value: accept
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::mysql::delete"
  namespace: "cloudeploy::mysql"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 3
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 2
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 3
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 2
              file: 
              value: "::mysql::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 8
        file: 
        doc: ""
        type: service
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 8
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 8
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 3
                file: 
                value: mysqld
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 4
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 4
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 4
                      file: 
                      value: stopped
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 5
                    file: 
                    param: name
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 5
                      file: 
                      value: "mysql::server::service_name"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 6
                    file: 
                    param: enable
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 6
                      file: 
                      value: "mysql::server::real_service_enabled"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: provider
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 7
                      file: 
                      value: "mysql::server::service_provider"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 12
        file: 
        doc: ""
        type: package
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 12
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 12
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 9
                file: 
                value: mysql-server
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 10
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 10
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 10
                      file: 
                      value: purged
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 11
                    file: 
                    param: name
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 11
                      file: 
                      value: "mysql::params::server_package_name"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 16
        file: 
        doc: ""
        type: package
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 16
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 16
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 13
                file: 
                value: mysql_client
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 14
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 14
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 14
                      file: 
                      value: purged
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 15
                    file: 
                    param: name
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 15
                      file: 
                      value: "mysql::params::client_package_name"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 21
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 21
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 21
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 18
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 18
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 18
                    file: 
                    value: "mysql::params::datadir"
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 18
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 19
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 19
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 19
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 20
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 20
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 25
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 25
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 25
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 23
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 23
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 23
                    file: 
                    value: "::root_home"
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 23
                    file: 
                    value: /.my.cnf
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 24
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 24
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 24
                      file: 
                      value: absent
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 27
        file: 
        doc: ""
        type: anchor
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 27
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 27
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 27
                file: 
                value: "mysql::delete::start"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 27
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 28
        file: 
        doc: ""
        type: anchor
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 28
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 28
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 28
                file: 
                value: "mysql::delete::end"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 28
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 37
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 36
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Relationship
            line: 35
            file: 
            children: []
            left: !ruby/object:Puppet::Parser::AST::Relationship
              line: 34
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Relationship
                line: 33
                file: 
                children: []
                left: !ruby/object:Puppet::Parser::AST::Relationship
                  line: 32
                  file: 
                  children: []
                  left: !ruby/object:Puppet::Parser::AST::Relationship
                    line: 31
                    file: 
                    children: []
                    left: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 30
                      file: 
                      type: Anchor
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 30
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 30
                            file: 
                            value: "mysql::delete::start"
                      children: []
                    right: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 31
                      file: 
                      type: Class
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 31
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 31
                            file: 
                            value: "mysql::params"
                      children: []
                    arrow: "->"
                  right: !ruby/object:Puppet::Parser::AST::ResourceReference
                    line: 32
                    file: 
                    type: Service
                    title: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 32
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 32
                          file: 
                          value: mysqld
                    children: []
                  arrow: "->"
                right: !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 33
                  file: 
                  type: Package
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 33
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 33
                        file: 
                        value: mysql-server
                  children: []
                arrow: "->"
              right: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 34
                file: 
                type: Package
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 34
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 34
                      file: 
                      value: mysql_client
                children: []
              arrow: "->"
            right: !ruby/object:Puppet::Parser::AST::ResourceReference
              line: 35
              file: 
              type: File
              title: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 35
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Concat
                    line: 35
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 35
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 35
                        file: 
                        value: "mysql::params::datadir"
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 35
                        file: 
                        value: ""
              children: []
            arrow: "->"
          right: !ruby/object:Puppet::Parser::AST::ResourceReference
            line: 36
            file: 
            type: File
            title: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 36
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::Concat
                  line: 36
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 36
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 36
                      file: 
                      value: "::root_home"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 36
                      file: 
                      value: /.my.cnf
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::ResourceReference
          line: 37
          file: 
          type: Anchor
          title: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 37
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::String
                line: 37
                file: 
                value: "mysql::delete::end"
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::mysql::install"
  namespace: "cloudeploy::mysql::install"
  arguments: 
    root_password: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: root
    users: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 6
      file: 
      value: {}
    grants: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 7
      file: 
      value: {}
    client_port: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "3306"
    mysqld_safe_nice: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "0"
    bind_address: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: "0.0.0.0"
    expire_logs_days: !ruby/object:Puppet::Parser::AST::String
      line: 11
      file: 
      value: "10"
    key_buffer_size: !ruby/object:Puppet::Parser::AST::String
      line: 12
      file: 
      value: "16M"
    max_allowed_packet: !ruby/object:Puppet::Parser::AST::String
      line: 13
      file: 
      value: "16M"
    max_binlog_size: !ruby/object:Puppet::Parser::AST::String
      line: 14
      file: 
      value: "100M"
    max_connections: !ruby/object:Puppet::Parser::AST::String
      line: 15
      file: 
      value: "151"
    myisam_recover: !ruby/object:Puppet::Parser::AST::String
      line: 16
      file: 
      value: BACKUP
    mysqld_port: !ruby/object:Puppet::Parser::AST::String
      line: 17
      file: 
      value: "3306"
    query_cache_limit: !ruby/object:Puppet::Parser::AST::String
      line: 18
      file: 
      value: "1M"
    query_cache_size: !ruby/object:Puppet::Parser::AST::String
      line: 19
      file: 
      value: "16M"
    skip_external_locking: !ruby/object:Puppet::Parser::AST::Boolean
      line: 20
      file: 
      value: true
    thread_cache_size: !ruby/object:Puppet::Parser::AST::String
      line: 21
      file: 
      value: "8"
    thread_stack: !ruby/object:Puppet::Parser::AST::String
      line: 22
      file: 
      value: "256K"
    user: !ruby/object:Puppet::Parser::AST::String
      line: 23
      file: 
      value: mysql
    mysqldump_max_allowed_packet: !ruby/object:Puppet::Parser::AST::String
      line: 24
      file: 
      value: "16M"
    mysqldump_quick: !ruby/object:Puppet::Parser::AST::Boolean
      line: 25
      file: 
      value: true
    mysqldump_quote_names: !ruby/object:Puppet::Parser::AST::Boolean
      line: 26
      file: 
      value: true
    isamchk_key_buffer_size: !ruby/object:Puppet::Parser::AST::String
      line: 27
      file: 
      value: "16M"
    client_socket: !ruby/object:Puppet::Parser::AST::Undef
      line: 28
      file: 
      value: !ruby/sym undef
    mysqld_safe_log_error: !ruby/object:Puppet::Parser::AST::Undef
      line: 29
      file: 
      value: !ruby/sym undef
    mysqld_safe_socket: !ruby/object:Puppet::Parser::AST::Undef
      line: 30
      file: 
      value: !ruby/sym undef
    basedir: !ruby/object:Puppet::Parser::AST::Undef
      line: 31
      file: 
      value: !ruby/sym undef
    datadir: !ruby/object:Puppet::Parser::AST::Undef
      line: 32
      file: 
      value: !ruby/sym undef
    mysqld_log_error: !ruby/object:Puppet::Parser::AST::Undef
      line: 33
      file: 
      value: !ruby/sym undef
    pid_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 34
      file: 
      value: !ruby/sym undef
    tmpdir: !ruby/object:Puppet::Parser::AST::Undef
      line: 35
      file: 
      value: !ruby/sym undef
    override_options: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 36
      file: 
      value: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 40
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 39
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 39
          file: 
          value: userName
        value: !ruby/object:Puppet::Parser::AST::String
          line: 39
          file: 
          value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 40
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 41
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 40
              file: 
              value: stdlib
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 41
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 41
          file: 
          value: "_users"
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 50
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::Concat
              line: 42
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 42
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 42
                  file: 
                  value: userName
                - !ruby/object:Puppet::Parser::AST::String
                  line: 42
                  file: 
                  value: "@%"
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 49
              file: 
              value: 
                ensure: !ruby/object:Puppet::Parser::AST::String
                  line: 43
                  file: 
                  value: present
                max_connections_per_hour: !ruby/object:Puppet::Parser::AST::String
                  line: 44
                  file: 
                  value: "0"
                max_queries_per_hour: !ruby/object:Puppet::Parser::AST::String
                  line: 45
                  file: 
                  value: "0"
                max_updates_per_hour: !ruby/object:Puppet::Parser::AST::String
                  line: 46
                  file: 
                  value: "0"
                max_user_connections: !ruby/object:Puppet::Parser::AST::String
                  line: 47
                  file: 
                  value: "0"
                password_hash: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 48
                  file: 
                  doc: ""
                  name: mysql_password
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 48
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 48
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 48
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 48
                            file: 
                            value: root_password
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 48
                            file: 
                            value: ""
                  children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 52
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 52
          file: 
          value: "_grants"
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 60
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::Concat
              line: 53
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 53
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 53
                  file: 
                  value: userName
                - !ruby/object:Puppet::Parser::AST::String
                  line: 53
                  file: 
                  value: "@%"
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 58
              file: 
              value: 
                ensure: !ruby/object:Puppet::Parser::AST::String
                  line: 54
                  file: 
                  value: present
                options: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 55
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 55
                      file: 
                      value: GRANT
                privileges: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 56
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 56
                      file: 
                      value: SELECT
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 56
                      file: 
                      value: INSERT
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 56
                      file: 
                      value: UPDATE
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 56
                      file: 
                      value: DELETE
                table: !ruby/object:Puppet::Parser::AST::String
                  line: 57
                  file: 
                  value: "*.*"
                user: !ruby/object:Puppet::Parser::AST::Concat
                  line: 58
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 58
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 58
                      file: 
                      value: userName
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 58
                      file: 
                      value: "@%"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 63
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 63
          file: 
          value: "_default_options"
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 102
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::String
              line: 64
              file: 
              value: client
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 67
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 65
                  file: 
                  value: port
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 65
                  file: 
                  value: client_port
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 66
                  file: 
                  value: socket
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 66
                  file: 
                  value: client_socket
            ? !ruby/object:Puppet::Parser::AST::String
              line: 68
              file: 
              value: mysqld_safe
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 71
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 69
                  file: 
                  value: nice
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 69
                  file: 
                  value: mysqld_safe_nice
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 70
                  file: 
                  value: log-error
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 70
                  file: 
                  value: mysqld_safe_log_error
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 71
                  file: 
                  value: socket
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 71
                  file: 
                  value: mysqld_safe_socket
            ? !ruby/object:Puppet::Parser::AST::String
              line: 73
              file: 
              value: mysqld
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 94
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 74
                  file: 
                  value: basedir
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 74
                  file: 
                  value: basedir
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 75
                  file: 
                  value: bind-address
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 75
                  file: 
                  value: bind_address
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 76
                  file: 
                  value: datadir
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 76
                  file: 
                  value: datadir
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 77
                  file: 
                  value: expire_logs_days
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 77
                  file: 
                  value: expire_logs_days
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 78
                  file: 
                  value: key_buffer_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 78
                  file: 
                  value: key_buffer_size
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 79
                  file: 
                  value: log-error
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 79
                  file: 
                  value: mysqld_log_error
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 80
                  file: 
                  value: max_allowed_packet
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 80
                  file: 
                  value: max_allowed_packet
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 81
                  file: 
                  value: max_binlog_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 81
                  file: 
                  value: max_binlog_size
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 82
                  file: 
                  value: max_connections
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 82
                  file: 
                  value: max_connections
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 83
                  file: 
                  value: myisam_recover
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 83
                  file: 
                  value: myisam_recover
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 84
                  file: 
                  value: pid-file
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 84
                  file: 
                  value: pid_file
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 85
                  file: 
                  value: port
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 85
                  file: 
                  value: mysqld_port
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 86
                  file: 
                  value: query_cache_limit
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 86
                  file: 
                  value: query_cache_limit
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 87
                  file: 
                  value: query_cache_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 87
                  file: 
                  value: query_cache_size
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 88
                  file: 
                  value: skip-external-locking
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 88
                  file: 
                  value: skip_external_locking
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 89
                  file: 
                  value: socket
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 89
                  file: 
                  value: "mysql::params::socket"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 90
                  file: 
                  value: thread_cache_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 90
                  file: 
                  value: thread_cache_size
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 91
                  file: 
                  value: thread_stack
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 91
                  file: 
                  value: thread_stack
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 92
                  file: 
                  value: tmpdir
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 92
                  file: 
                  value: "mysql::params::tmpdir"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 93
                  file: 
                  value: user
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 93
                  file: 
                  value: user
            ? !ruby/object:Puppet::Parser::AST::String
              line: 95
              file: 
              value: mysqldump
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 98
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 96
                  file: 
                  value: max_allowed_packet
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 96
                  file: 
                  value: mysqldump_max_allowed_packet
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 97
                  file: 
                  value: quick
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 97
                  file: 
                  value: mysqldump_quick
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 98
                  file: 
                  value: quote-names
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 98
                  file: 
                  value: mysqldump_quote_names
            ? !ruby/object:Puppet::Parser::AST::String
              line: 100
              file: 
              value: isamchk
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 101
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 101
                  file: 
                  value: key_buffer_size
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 101
                  file: 
                  value: isamchk_key_buffer_size
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 105
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 105
          file: 
          value: "_override_options"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 105
          file: 
          doc: ""
          name: cloudeploy_delete_undef_values
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 105
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 105
                file: 
                value: "_default_options"
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 117
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 110
          file: 
          doc: ""
          type: "cloudeploy::primitive::file"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 110
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 110
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 107
                  file: 
                  value: mysql_rpm_file
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 108
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 108
                      file: 
                      param: source
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 108
                        file: 
                        value: "http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 109
                      file: 
                      param: target
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 109
                        file: 
                        value: /tmp/mysql-community-release-el6-5.noarch.rpm
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 117
          file: 
          doc: ""
          type: exec
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 117
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 117
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 112
                  file: 
                  value: "update mysql yum"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 113
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 113
                      file: 
                      param: command
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 113
                        file: 
                        value: "rpm -ivh /tmp/mysql-community-release-el6-5.noarch.rpm"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 114
                      file: 
                      param: provider
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 114
                        file: 
                        value: shell
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 115
                      file: 
                      param: onlyif
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 115
                        file: 
                        value: "test -e /tmp/mysql-community-release-el6-5.noarch.rpm"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 116
                      file: 
                      param: returns
                      value: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 116
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Name
                            line: 116
                            file: 
                            value: "0"
                          - !ruby/object:Puppet::Parser::AST::Name
                            line: 116
                            file: 
                            value: "1"
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 141
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 119
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 119
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 119
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 119
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 119
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 119
                        file: 
                        value: "::mysql::server"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 128
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 127
              file: 
              doc: ""
              type: class
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 127
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 127
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 120
                      file: 
                      value: "::mysql::server"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 121
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 121
                          file: 
                          param: root_password
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 121
                            file: 
                            value: root_password
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 122
                          file: 
                          param: override_options
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 122
                            file: 
                            doc: ""
                            name: mysql_deepmerge
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 122
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 122
                                  file: 
                                  value: "mysql::params::default_options"
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 122
                                  file: 
                                  value: override_options
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 122
                                  file: 
                                  value: "_override_options"
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 123
                          file: 
                          param: remove_default_accounts
                          value: !ruby/object:Puppet::Parser::AST::Boolean
                            line: 123
                            file: 
                            value: true
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 124
                          file: 
                          param: users
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 124
                            file: 
                            doc: ""
                            name: mysql_deepmerge
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 124
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 124
                                  file: 
                                  value: users
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 124
                                  file: 
                                  value: "_users"
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 125
                          file: 
                          param: grants
                          value: !ruby/object:Puppet::Parser::AST::Function
                            ftype: !ruby/sym rvalue
                            line: 125
                            file: 
                            doc: ""
                            name: mysql_deepmerge
                            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 125
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 125
                                  file: 
                                  value: grants
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 125
                                  file: 
                                  value: "_grants"
                            children: []
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 126
                          file: 
                          param: restart
                          value: !ruby/object:Puppet::Parser::AST::Boolean
                            line: 126
                            file: 
                            value: true
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 128
              file: 
              doc: ""
              type: class
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 128
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 128
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 128
                      file: 
                      value: "::mysql::client"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 128
                      file: 
                      children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 132
              file: 
              doc: "contain ::mysql::server\ncontain ::mysql::client\n"
              type: anchor
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 132
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 132
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 132
                      file: 
                      value: "cloudeploy::mysql::install::start"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 132
                      file: 
                      children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 133
              file: 
              doc: ""
              type: anchor
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 133
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 133
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 133
                      file: 
                      value: "cloudeploy::mysql::install::end"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 133
                      file: 
                      children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 138
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Relationship
                line: 137
                file: 
                children: []
                left: !ruby/object:Puppet::Parser::AST::Relationship
                  line: 136
                  file: 
                  children: []
                  left: !ruby/object:Puppet::Parser::AST::ResourceReference
                    line: 135
                    file: 
                    type: Anchor
                    title: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 135
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 135
                          file: 
                          value: "cloudeploy::mysql::install::start"
                    children: []
                  right: !ruby/object:Puppet::Parser::AST::ResourceReference
                    line: 136
                    file: 
                    type: Class
                    title: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 136
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 136
                          file: 
                          value: "mysql::servier"
                    children: []
                  arrow: "->"
                right: !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 137
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 137
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 137
                        file: 
                        value: "mysql::client"
                  children: []
                arrow: "->"
              right: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 138
                file: 
                type: Anchor
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 138
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 138
                      file: 
                      value: "cloudeploy::mysql::install::end"
                children: []
              arrow: "->"
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 146
        file: 
        doc: ""
        type: firewall
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 146
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 146
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 141
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 141
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 141
                    file: 
                    value: client_port
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 141
                    file: 
                    value: " allow mysql access"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 142
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 142
                    file: 
                    param: chain
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 142
                      file: 
                      value: INPUT
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 143
                    file: 
                    param: port
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 143
                      file: 
                      value: client_port
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 144
                    file: 
                    param: proto
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 144
                      file: 
                      value: tcp
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 145
                    file: 
                    param: action
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 145
                      file: 
                      value: accept
                    children: []
              children: []
        children: []
  doc: ""
  line: 4
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::mysql::master"
  namespace: "cloudeploy::mysql::master"
  arguments: 
    slaveUserName: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: repli1
    salveIp: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: node2
    slavePassword: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: pwd.repli1
    users: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    grants: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 19
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 8
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 8
          file: 
          value: options
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 16
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::String
              line: 9
              file: 
              value: mysqld
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 16
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 10
                  file: 
                  value: bind-address
                : !ruby/object:Puppet::Parser::AST::String
                  line: 10
                  file: 
                  value: "0.0.0.0"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 11
                  file: 
                  value: server-id
                : !ruby/object:Puppet::Parser::AST::String
                  line: 11
                  file: 
                  value: "1"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: log-bin
                : !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: /var/lib/mysql/mysql_1.log
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 13
                  file: 
                  value: binlog-ignore-db
                : !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 13
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 13
                      file: 
                      value: mysql
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 14
                      file: 
                      value: test
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 19
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 19
          file: 
          value: defalut_slave_users
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 28
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::Concat
              line: 20
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 20
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 20
                  file: 
                  value: slaveUserName
                - !ruby/object:Puppet::Parser::AST::String
                  line: 20
                  file: 
                  value: "@"
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 20
                  file: 
                  value: salveIp
                - !ruby/object:Puppet::Parser::AST::String
                  line: 20
                  file: 
                  value: ""
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 27
              file: 
              value: 
                ensure: !ruby/object:Puppet::Parser::AST::String
                  line: 21
                  file: 
                  value: present
                max_connections_per_hour: !ruby/object:Puppet::Parser::AST::String
                  line: 22
                  file: 
                  value: "0"
                max_queries_per_hour: !ruby/object:Puppet::Parser::AST::String
                  line: 23
                  file: 
                  value: "0"
                max_updates_per_hour: !ruby/object:Puppet::Parser::AST::String
                  line: 24
                  file: 
                  value: "0"
                max_user_connections: !ruby/object:Puppet::Parser::AST::String
                  line: 25
                  file: 
                  value: "0"
                password_hash: !ruby/object:Puppet::Parser::AST::Function
                  ftype: !ruby/sym rvalue
                  line: 26
                  file: 
                  doc: ""
                  name: mysql_password
                  arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 26
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 26
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 26
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 26
                            file: 
                            value: slavePassword
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 26
                            file: 
                            value: ""
                  children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 29
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 29
          file: 
          value: "_users"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 29
          file: 
          doc: ""
          name: mysql_deepmerge
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 29
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 29
                file: 
                value: defalut_slave_users
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 29
                file: 
                value: users
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 31
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 31
          file: 
          value: default_grants
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 39
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::Concat
              line: 32
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 32
                  file: 
                  value: ""
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 32
                  file: 
                  value: slaveUserName
                - !ruby/object:Puppet::Parser::AST::String
                  line: 32
                  file: 
                  value: "@"
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 32
                  file: 
                  value: salveIp
                - !ruby/object:Puppet::Parser::AST::String
                  line: 32
                  file: 
                  value: ""
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 37
              file: 
              value: 
                ensure: !ruby/object:Puppet::Parser::AST::String
                  line: 33
                  file: 
                  value: present
                options: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 34
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 34
                      file: 
                      value: GRANT
                privileges: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 35
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 35
                      file: 
                      value: "REPLICATION SLAVE"
                table: !ruby/object:Puppet::Parser::AST::String
                  line: 36
                  file: 
                  value: "*.*"
                user: !ruby/object:Puppet::Parser::AST::Concat
                  line: 37
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 37
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 37
                      file: 
                      value: slaveUserName
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 37
                      file: 
                      value: "@"
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 37
                      file: 
                      value: salveIp
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 37
                      file: 
                      value: ""
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 42
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 42
          file: 
          value: "_grants"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 42
          file: 
          doc: ""
          name: mysql_deepmerge
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 42
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 42
                file: 
                value: default_grants
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 42
                file: 
                value: grants
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 49
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 49
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 49
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 45
                file: 
                value: "cloudeploy::mysql::install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 46
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 46
                    file: 
                    param: override_options
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 46
                      file: 
                      value: options
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 47
                    file: 
                    param: users
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 47
                      file: 
                      value: "_users"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 48
                    file: 
                    param: grants
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 48
                      file: 
                      value: "_grants"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::mysql::restart"
  namespace: "cloudeploy::mysql"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 11
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::CaseStatement
        line: 9
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 2
          file: 
          value: "::osfamily"
        options: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 5
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 5
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 3
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 3
                    file: 
                    value: RedHat
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 5
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 4
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 4
                      file: 
                      value: service_command
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 4
                      file: 
                      value: service
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 8
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 6
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Default
                    line: 6
                    file: 
                    value: default
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 8
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 7
                    file: 
                    doc: ""
                    name: fail
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 7
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 7
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 7
                              file: 
                              value: "Unsupported platform: cloudeploy::mysql::restart currently doesn't support "
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 7
                              file: 
                              value: "::osfamily"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 7
                              file: 
                              value: " or "
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 7
                              file: 
                              value: "::operatingsystem"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 7
                              file: 
                              value: ""
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 11
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 12
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 11
              file: 
              value: "mysql::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 30
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 20
          file: 
          doc: ""
          type: service
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 20
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 20
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: mysqld_stop_service
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 13
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 13
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 13
                        file: 
                        value: stopped
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 14
                      file: 
                      param: start
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 14
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: "service "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 14
                            file: 
                            value: "mysql::params::server_service_name"
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: " start"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 15
                      file: 
                      param: stop
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 15
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 15
                            file: 
                            value: "service "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 15
                            file: 
                            value: "mysql::params::server_service_name"
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 15
                            file: 
                            value: " stop"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 16
                      file: 
                      param: status
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 16
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 16
                            file: 
                            value: "service "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 16
                            file: 
                            value: "mysql::params::server_service_name"
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 16
                            file: 
                            value: " status"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 17
                      file: 
                      param: restart
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 17
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 17
                            file: 
                            value: "service "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 17
                            file: 
                            value: "mysql::params::server_service_name"
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 17
                            file: 
                            value: " restart"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 18
                      file: 
                      param: enable
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 18
                        file: 
                        value: "mysql::params::server_service_enabled"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 19
                      file: 
                      param: provider
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 19
                        file: 
                        value: base
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 30
          file: 
          doc: ""
          type: service
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 30
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 30
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 22
                  file: 
                  value: mysqld_start_service
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 23
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 23
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 23
                        file: 
                        value: running
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 24
                      file: 
                      param: start
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 24
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 24
                            file: 
                            value: "service "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 24
                            file: 
                            value: "mysql::params::server_service_name"
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 24
                            file: 
                            value: " start"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 25
                      file: 
                      param: stop
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 25
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 25
                            file: 
                            value: "service "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 25
                            file: 
                            value: "mysql::params::server_service_name"
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 25
                            file: 
                            value: " stop"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 26
                      file: 
                      param: status
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 26
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 26
                            file: 
                            value: "service "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 26
                            file: 
                            value: "mysql::params::server_service_name"
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 26
                            file: 
                            value: " status"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 27
                      file: 
                      param: restart
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 27
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 27
                            file: 
                            value: "service "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 27
                            file: 
                            value: "mysql::params::server_service_name"
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 27
                            file: 
                            value: " restart"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 28
                      file: 
                      param: enable
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 28
                        file: 
                        value: "mysql::params::server_service_enabled"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 29
                      file: 
                      param: provider
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 29
                        file: 
                        value: base
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::mysql::service"
  namespace: "cloudeploy::mysql"
  arguments: 
    ensure: !ruby/object:Puppet::Parser::AST::Name
      line: 2
      file: 
      value: running
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 5
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 4
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 5
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 4
              file: 
              value: "mysql::params"
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 13
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 5
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 5
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 5
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 5
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 5
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 5
                        file: 
                        value: "::mysql::server"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 12
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 11
              file: 
              doc: ""
              type: service
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 11
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 6
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 6
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 6
                          file: 
                          value: name
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 6
                          file: 
                          value: "_mysqld_service"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 7
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 7
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 7
                            file: 
                            value: ensure
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 8
                          file: 
                          param: name
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 8
                            file: 
                            value: "mysql::params::server_service_name"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 9
                          file: 
                          param: enable
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 9
                            file: 
                            value: "mysql::params::server_service_enabled"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 10
                          file: 
                          param: provider
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 10
                            file: 
                            value: "mysql::params::server_service_provider"
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::mysql::slave"
  namespace: "cloudeploy::mysql::slave"
  arguments: 
    users: !ruby/object:Puppet::Parser::AST::Undef
      line: 2
      file: 
      value: !ruby/sym undef
    grants: !ruby/object:Puppet::Parser::AST::Undef
      line: 3
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 18
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 5
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 5
          file: 
          value: options
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 15
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::String
              line: 6
              file: 
              value: mysqld
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 15
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 7
                  file: 
                  value: bind-address
                : !ruby/object:Puppet::Parser::AST::String
                  line: 7
                  file: 
                  value: "0.0.0.0"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 8
                  file: 
                  value: server-id
                : !ruby/object:Puppet::Parser::AST::String
                  line: 8
                  file: 
                  value: "2"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 9
                  file: 
                  value: binlog-format
                : !ruby/object:Puppet::Parser::AST::String
                  line: 9
                  file: 
                  value: mixed
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 10
                  file: 
                  value: log-bin
                : !ruby/object:Puppet::Parser::AST::String
                  line: 10
                  file: 
                  value: /var/lib/mysql/mysql_2.log
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 11
                  file: 
                  value: relay-log
                : !ruby/object:Puppet::Parser::AST::String
                  line: 11
                  file: 
                  value: mysql-relay-bin
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: log-slave-updates
                : !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: "1"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 13
                  file: 
                  value: read-only
                : !ruby/object:Puppet::Parser::AST::String
                  line: 13
                  file: 
                  value: "1"
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 14
                  file: 
                  value: replicate-ignore-db
                : !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 14
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 14
                      file: 
                      value: mysql
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 14
                      file: 
                      value: test
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 22
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 22
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 22
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 18
                file: 
                value: "cloudeploy::mysql::install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 19
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 19
                    file: 
                    param: override_options
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 19
                      file: 
                      value: options
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 20
                    file: 
                    param: users
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 20
                      file: 
                      value: users
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 21
                    file: 
                    param: grants
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 21
                      file: 
                      value: grants
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::mysql::sqlscript"
  namespace: "cloudeploy::mysql"
  arguments: 
    target: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: ""
    sqlScript_url: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: ""
    username: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: root
    password: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: root
    url_username: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
    url_password: !ruby/object:Puppet::Parser::AST::Undef
      line: 7
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 21
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 20
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 14
          file: 
          doc: ""
          type: "cloudeploy::primitive::file"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 14
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 14
                file: 
                title: !ruby/object:Puppet::Parser::AST::Variable
                  line: 9
                  file: 
                  value: target
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 10
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 10
                      file: 
                      param: source
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 10
                        file: 
                        value: sqlScript_url
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 11
                      file: 
                      param: target
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 11
                        file: 
                        value: target
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 12
                      file: 
                      param: username
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 12
                        file: 
                        value: url_username
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 13
                      file: 
                      param: password
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 13
                        file: 
                        value: url_password
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 20
          file: 
          doc: ""
          type: exec
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 20
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 20
                file: 
                title: !ruby/object:Puppet::Parser::AST::Concat
                  line: 15
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 15
                      file: 
                      value: "run "
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 15
                      file: 
                      value: sqlScript_url
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 15
                      file: 
                      value: " script"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 16
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 16
                      file: 
                      param: cwd
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 16
                        file: 
                        value: /var/tmp
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 17
                      file: 
                      param: path
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 17
                        file: 
                        value: "/usr/bin:/usr/sbin:/bin"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 18
                      file: 
                      param: command
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 18
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 18
                            file: 
                            value: "mysql -u "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 18
                            file: 
                            value: username
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 18
                            file: 
                            value: " -p"
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 18
                            file: 
                            value: password
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 18
                            file: 
                            value: " < "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 18
                            file: 
                            value: target
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 18
                            file: 
                            value: ""
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 19
                      file: 
                      param: onlyif
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 19
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 19
                            file: 
                            value: "test -e "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 19
                            file: 
                            value: target
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 19
                            file: 
                            value: ""
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::nginx::config"
  namespace: "cloudeploy::nginx"
  arguments: 
    http_tcp_nopush: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: "off"
    nginx_error_log: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: /var/log/nginx/error.log
    proxy_connect_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "90"
    ssl_stapling: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "off"
    global_group: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: root
    conf_template: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: nginx/conf.d/nginx.conf.erb
    types_hash_max_size: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "1024"
    client_max_body_size: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "10m"
    types_hash_bucket_size: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: "512"
    fastcgi_cache_max_size: !ruby/object:Puppet::Parser::AST::String
      line: 11
      file: 
      value: "500m"
    fastcgi_cache_path: !ruby/object:Puppet::Parser::AST::Boolean
      line: 12
      file: 
      value: false
    proxy_cache_inactive: !ruby/object:Puppet::Parser::AST::String
      line: 13
      file: 
      value: "20m"
    names_hash_bucket_size: !ruby/object:Puppet::Parser::AST::String
      line: 14
      file: 
      value: "64"
    http_cfg_append: !ruby/object:Puppet::Parser::AST::Boolean
      line: 15
      file: 
      value: false
    global_mode: !ruby/object:Puppet::Parser::AST::String
      line: 16
      file: 
      value: "0644"
    gzip: !ruby/object:Puppet::Parser::AST::String
      line: 17
      file: 
      value: "on"
    http_access_log: !ruby/object:Puppet::Parser::AST::String
      line: 18
      file: 
      value: /var/log/nginx/access.log
    worker_rlimit_nofile: !ruby/object:Puppet::Parser::AST::String
      line: 19
      file: 
      value: "1024"
    keepalive_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 20
      file: 
      value: "65"
    proxy_cache_max_size: !ruby/object:Puppet::Parser::AST::String
      line: 21
      file: 
      value: "500m"
    fastcgi_cache_inactive: !ruby/object:Puppet::Parser::AST::String
      line: 22
      file: 
      value: "20m"
    events_use: !ruby/object:Puppet::Parser::AST::Boolean
      line: 23
      file: 
      value: false
    sites_available_mode: !ruby/object:Puppet::Parser::AST::String
      line: 24
      file: 
      value: "0644"
    proxy_redirect: !ruby/object:Puppet::Parser::AST::String
      line: 25
      file: 
      value: "off"
    fastcgi_cache_key: !ruby/object:Puppet::Parser::AST::Boolean
      line: 26
      file: 
      value: false
    proxy_buffer_size: !ruby/object:Puppet::Parser::AST::String
      line: 27
      file: 
      value: "8k"
    super_user: !ruby/object:Puppet::Parser::AST::Boolean
      line: 28
      file: 
      value: true
    sites_available_group: !ruby/object:Puppet::Parser::AST::String
      line: 29
      file: 
      value: root
    confd_purge: !ruby/object:Puppet::Parser::AST::Boolean
      line: 30
      file: 
      value: false
    run_dir: !ruby/object:Puppet::Parser::AST::String
      line: 31
      file: 
      value: /var/nginx
    http_tcp_nodelay: !ruby/object:Puppet::Parser::AST::String
      line: 32
      file: 
      value: "on"
    fastcgi_cache_use_stale: !ruby/object:Puppet::Parser::AST::Boolean
      line: 33
      file: 
      value: false
    spdy: !ruby/object:Puppet::Parser::AST::String
      line: 34
      file: 
      value: "off"
    temp_dir: !ruby/object:Puppet::Parser::AST::String
      line: 35
      file: 
      value: /tmp
    proxy_conf_template: !ruby/object:Puppet::Parser::AST::String
      line: 36
      file: 
      value: nginx/conf.d/proxy.conf.erb
    proxy_cache_levels: !ruby/object:Puppet::Parser::AST::String
      line: 37
      file: 
      value: "1"
    names_hash_max_size: !ruby/object:Puppet::Parser::AST::String
      line: 38
      file: 
      value: "512"
    worker_connections: !ruby/object:Puppet::Parser::AST::String
      line: 39
      file: 
      value: "1024"
    proxy_buffers: !ruby/object:Puppet::Parser::AST::String
      line: 40
      file: 
      value: "32 4k"
    sites_available_owner: !ruby/object:Puppet::Parser::AST::String
      line: 41
      file: 
      value: root
    proxy_cache_keys_zone: !ruby/object:Puppet::Parser::AST::String
      line: 42
      file: 
      value: "d2:100m"
    proxy_read_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 43
      file: 
      value: "90"
    proxy_cache_path: !ruby/object:Puppet::Parser::AST::Boolean
      line: 44
      file: 
      value: false
    worker_processes: !ruby/object:Puppet::Parser::AST::String
      line: 45
      file: 
      value: "1"
    proxy_send_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 46
      file: 
      value: "90"
    proxy_temp_path: !ruby/object:Puppet::Parser::AST::String
      line: 47
      file: 
      value: /var/nginx/proxy_temp
    mail: !ruby/object:Puppet::Parser::AST::Boolean
      line: 48
      file: 
      value: false
    log_dir: !ruby/object:Puppet::Parser::AST::String
      line: 49
      file: 
      value: /var/log/nginx
    multi_accept: !ruby/object:Puppet::Parser::AST::String
      line: 50
      file: 
      value: "off"
    global_owner: !ruby/object:Puppet::Parser::AST::String
      line: 51
      file: 
      value: root
    client_body_temp_path: !ruby/object:Puppet::Parser::AST::String
      line: 52
      file: 
      value: /var/nginx/client_body_temp
    client_body_buffer_size: !ruby/object:Puppet::Parser::AST::String
      line: 53
      file: 
      value: "128k"
    sendfile: !ruby/object:Puppet::Parser::AST::String
      line: 54
      file: 
      value: "on"
    proxy_http_version: !ruby/object:Puppet::Parser::AST::String
      line: 55
      file: 
      value: "1.0"
    vhost_purge: !ruby/object:Puppet::Parser::AST::Boolean
      line: 56
      file: 
      value: false
    fastcgi_cache_keys_zone: !ruby/object:Puppet::Parser::AST::String
      line: 57
      file: 
      value: "d3:100m"
    fastcgi_cache_levels: !ruby/object:Puppet::Parser::AST::String
      line: 58
      file: 
      value: "1"
    proxy_headers_hash_bucket_size: !ruby/object:Puppet::Parser::AST::String
      line: 59
      file: 
      value: "64"
    server_tokens: !ruby/object:Puppet::Parser::AST::String
      line: 60
      file: 
      value: "on"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 126
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 126
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 62
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 62
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 62
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 62
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 62
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 62
                        file: 
                        value: "nginx::config"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 124
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 122
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 63
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 63
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 63
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Concat
                        line: 63
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 63
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 63
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 63
                            file: 
                            value: " notify defined class nginx::config "
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 63
                        file: 
                        children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 122
                file: 
                doc: ""
                type: class
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 122
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 122
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 64
                        file: 
                        value: "::nginx::config"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 65
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 65
                            file: 
                            param: client_body_buffer_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 65
                              file: 
                              value: client_body_buffer_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 66
                            file: 
                            param: client_body_temp_path
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 66
                              file: 
                              value: client_body_temp_path
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 67
                            file: 
                            param: client_max_body_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 67
                              file: 
                              value: client_max_body_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 68
                            file: 
                            param: confd_purge
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 68
                              file: 
                              value: confd_purge
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 69
                            file: 
                            param: conf_template
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 69
                              file: 
                              value: conf_template
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 70
                            file: 
                            param: events_use
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 70
                              file: 
                              value: events_use
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 71
                            file: 
                            param: fastcgi_cache_inactive
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 71
                              file: 
                              value: fastcgi_cache_inactive
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 72
                            file: 
                            param: fastcgi_cache_key
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 72
                              file: 
                              value: fastcgi_cache_key
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 73
                            file: 
                            param: fastcgi_cache_keys_zone
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 73
                              file: 
                              value: fastcgi_cache_keys_zone
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 74
                            file: 
                            param: fastcgi_cache_levels
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 74
                              file: 
                              value: fastcgi_cache_levels
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 75
                            file: 
                            param: fastcgi_cache_max_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 75
                              file: 
                              value: fastcgi_cache_max_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 76
                            file: 
                            param: fastcgi_cache_path
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 76
                              file: 
                              value: fastcgi_cache_path
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 77
                            file: 
                            param: fastcgi_cache_use_stale
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 77
                              file: 
                              value: fastcgi_cache_use_stale
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 78
                            file: 
                            param: gzip
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 78
                              file: 
                              value: gzip
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 79
                            file: 
                            param: http_access_log
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 79
                              file: 
                              value: http_access_log
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 80
                            file: 
                            param: http_cfg_append
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 80
                              file: 
                              value: http_cfg_append
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 81
                            file: 
                            param: http_tcp_nodelay
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 81
                              file: 
                              value: http_tcp_nodelay
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 82
                            file: 
                            param: http_tcp_nopush
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 82
                              file: 
                              value: http_tcp_nopush
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 83
                            file: 
                            param: keepalive_timeout
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 83
                              file: 
                              value: keepalive_timeout
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 84
                            file: 
                            param: mail
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 84
                              file: 
                              value: mail
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 85
                            file: 
                            param: multi_accept
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 85
                              file: 
                              value: multi_accept
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 86
                            file: 
                            param: names_hash_bucket_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 86
                              file: 
                              value: names_hash_bucket_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 87
                            file: 
                            param: names_hash_max_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 87
                              file: 
                              value: names_hash_max_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 88
                            file: 
                            param: nginx_error_log
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 88
                              file: 
                              value: nginx_error_log
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 89
                            file: 
                            param: proxy_buffers
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 89
                              file: 
                              value: proxy_buffers
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 90
                            file: 
                            param: proxy_buffer_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 90
                              file: 
                              value: proxy_buffer_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 91
                            file: 
                            param: proxy_cache_inactive
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 91
                              file: 
                              value: proxy_cache_inactive
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 92
                            file: 
                            param: proxy_cache_keys_zone
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 92
                              file: 
                              value: proxy_cache_keys_zone
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 93
                            file: 
                            param: proxy_cache_levels
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 93
                              file: 
                              value: proxy_cache_levels
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 94
                            file: 
                            param: proxy_cache_max_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 94
                              file: 
                              value: proxy_cache_max_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 95
                            file: 
                            param: proxy_cache_path
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 95
                              file: 
                              value: proxy_cache_path
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 96
                            file: 
                            param: proxy_conf_template
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 96
                              file: 
                              value: proxy_conf_template
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 97
                            file: 
                            param: proxy_connect_timeout
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 97
                              file: 
                              value: proxy_connect_timeout
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 98
                            file: 
                            param: proxy_headers_hash_bucket_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 98
                              file: 
                              value: proxy_headers_hash_bucket_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 99
                            file: 
                            param: proxy_http_version
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 99
                              file: 
                              value: proxy_http_version
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 100
                            file: 
                            param: proxy_read_timeout
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 100
                              file: 
                              value: proxy_read_timeout
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 101
                            file: 
                            param: proxy_redirect
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 101
                              file: 
                              value: proxy_redirect
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 102
                            file: 
                            param: proxy_send_timeout
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 102
                              file: 
                              value: proxy_send_timeout
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 103
                            file: 
                            param: proxy_temp_path
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 103
                              file: 
                              value: proxy_temp_path
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 104
                            file: 
                            param: run_dir
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 104
                              file: 
                              value: run_dir
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 105
                            file: 
                            param: sendfile
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 105
                              file: 
                              value: sendfile
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 106
                            file: 
                            param: server_tokens
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 106
                              file: 
                              value: server_tokens
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 107
                            file: 
                            param: spdy
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 107
                              file: 
                              value: spdy
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 108
                            file: 
                            param: super_user
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 108
                              file: 
                              value: super_user
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 109
                            file: 
                            param: temp_dir
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 109
                              file: 
                              value: temp_dir
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 110
                            file: 
                            param: types_hash_bucket_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 110
                              file: 
                              value: types_hash_bucket_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 111
                            file: 
                            param: types_hash_max_size
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 111
                              file: 
                              value: types_hash_max_size
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 112
                            file: 
                            param: vhost_purge
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 112
                              file: 
                              value: vhost_purge
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 113
                            file: 
                            param: worker_connections
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 113
                              file: 
                              value: worker_connections
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 114
                            file: 
                            param: worker_processes
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 114
                              file: 
                              value: worker_processes
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 115
                            file: 
                            param: worker_rlimit_nofile
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 115
                              file: 
                              value: worker_rlimit_nofile
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 116
                            file: 
                            param: global_owner
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 116
                              file: 
                              value: global_owner
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 117
                            file: 
                            param: global_group
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 117
                              file: 
                              value: global_group
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 118
                            file: 
                            param: global_mode
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 118
                              file: 
                              value: global_mode
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 119
                            file: 
                            param: sites_available_owner
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 119
                              file: 
                              value: sites_available_owner
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 120
                            file: 
                            param: sites_available_group
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 120
                              file: 
                              value: sites_available_group
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 121
                            file: 
                            param: sites_available_mode
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 121
                              file: 
                              value: sites_available_mode
                            children: []
                      children: []
                children: []
              arrow: "->"
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::nginx::delete"
  namespace: "cloudeploy::nginx"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 13
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 10
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 5
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 2
            file: 
            doc: ""
            type: notify
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 2
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 2
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::Concat
                    line: 2
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 2
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 2
                        file: 
                        value: name
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 2
                        file: 
                        value: " cloudeploy::nginx::delete::start"
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 2
                    file: 
                    children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 5
            file: 
            doc: ""
            type: class
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 5
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 5
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 3
                    file: 
                    value: "nginx::service"
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 4
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 4
                        file: 
                        param: service_ensure
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 4
                          file: 
                          value: stopped
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 10
          file: 
          doc: ""
          type: class
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 10
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 10
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 6
                  file: 
                  value: "nginx::package"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 7
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 7
                      file: 
                      param: package_name
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 7
                        file: 
                        value: nginx
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 8
                      file: 
                      param: package_source
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 8
                        file: 
                        value: nginx
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 9
                      file: 
                      param: package_ensure
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 9
                        file: 
                        value: absent
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::nginx::install"
  namespace: "cloudeploy::nginx::install"
  arguments: 
    client_body_buffer_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 2
      file: 
      value: !ruby/sym undef
    client_body_temp_path: !ruby/object:Puppet::Parser::AST::Undef
      line: 3
      file: 
      value: !ruby/sym undef
    client_max_body_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 4
      file: 
      value: !ruby/sym undef
    events_use: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    fastcgi_cache_inactive: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
    fastcgi_cache_key: !ruby/object:Puppet::Parser::AST::Undef
      line: 7
      file: 
      value: !ruby/sym undef
    fastcgi_cache_keys_zone: !ruby/object:Puppet::Parser::AST::Undef
      line: 8
      file: 
      value: !ruby/sym undef
    fastcgi_cache_levels: !ruby/object:Puppet::Parser::AST::Undef
      line: 9
      file: 
      value: !ruby/sym undef
    fastcgi_cache_max_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 10
      file: 
      value: !ruby/sym undef
    fastcgi_cache_path: !ruby/object:Puppet::Parser::AST::Undef
      line: 11
      file: 
      value: !ruby/sym undef
    fastcgi_cache_use_stale: !ruby/object:Puppet::Parser::AST::Undef
      line: 12
      file: 
      value: !ruby/sym undef
    gzip: !ruby/object:Puppet::Parser::AST::Undef
      line: 13
      file: 
      value: !ruby/sym undef
    http_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 14
      file: 
      value: !ruby/sym undef
    http_tcp_nodelay: !ruby/object:Puppet::Parser::AST::Undef
      line: 15
      file: 
      value: !ruby/sym undef
    http_tcp_nopush: !ruby/object:Puppet::Parser::AST::Undef
      line: 16
      file: 
      value: !ruby/sym undef
    keepalive_timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 17
      file: 
      value: !ruby/sym undef
    mail: !ruby/object:Puppet::Parser::AST::Undef
      line: 18
      file: 
      value: !ruby/sym undef
    multi_accept: !ruby/object:Puppet::Parser::AST::Undef
      line: 19
      file: 
      value: !ruby/sym undef
    names_hash_bucket_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 20
      file: 
      value: !ruby/sym undef
    names_hash_max_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 21
      file: 
      value: !ruby/sym undef
    proxy_buffers: !ruby/object:Puppet::Parser::AST::Undef
      line: 22
      file: 
      value: !ruby/sym undef
    proxy_buffer_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 23
      file: 
      value: !ruby/sym undef
    proxy_cache_inactive: !ruby/object:Puppet::Parser::AST::Undef
      line: 24
      file: 
      value: !ruby/sym undef
    proxy_cache_keys_zone: !ruby/object:Puppet::Parser::AST::Undef
      line: 25
      file: 
      value: !ruby/sym undef
    proxy_cache_levels: !ruby/object:Puppet::Parser::AST::Undef
      line: 26
      file: 
      value: !ruby/sym undef
    proxy_cache_max_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 27
      file: 
      value: !ruby/sym undef
    proxy_cache_path: !ruby/object:Puppet::Parser::AST::Undef
      line: 28
      file: 
      value: !ruby/sym undef
    proxy_connect_timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 29
      file: 
      value: !ruby/sym undef
    proxy_headers_hash_bucket_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 30
      file: 
      value: !ruby/sym undef
    proxy_http_version: !ruby/object:Puppet::Parser::AST::Undef
      line: 31
      file: 
      value: !ruby/sym undef
    proxy_read_timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 32
      file: 
      value: !ruby/sym undef
    proxy_redirect: !ruby/object:Puppet::Parser::AST::Undef
      line: 33
      file: 
      value: !ruby/sym undef
    proxy_send_timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 34
      file: 
      value: !ruby/sym undef
    proxy_set_header: !ruby/object:Puppet::Parser::AST::Undef
      line: 35
      file: 
      value: !ruby/sym undef
    sendfile: !ruby/object:Puppet::Parser::AST::Undef
      line: 36
      file: 
      value: !ruby/sym undef
    server_tokens: !ruby/object:Puppet::Parser::AST::Undef
      line: 37
      file: 
      value: !ruby/sym undef
    spdy: !ruby/object:Puppet::Parser::AST::Undef
      line: 38
      file: 
      value: !ruby/sym undef
    types_hash_bucket_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 39
      file: 
      value: !ruby/sym undef
    types_hash_max_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 40
      file: 
      value: !ruby/sym undef
    worker_connections: !ruby/object:Puppet::Parser::AST::Undef
      line: 41
      file: 
      value: !ruby/sym undef
    worker_processes: !ruby/object:Puppet::Parser::AST::Undef
      line: 42
      file: 
      value: !ruby/sym undef
    worker_rlimit_nofile: !ruby/object:Puppet::Parser::AST::Undef
      line: 43
      file: 
      value: !ruby/sym undef
    confd_purge: !ruby/object:Puppet::Parser::AST::Undef
      line: 47
      file: 
      value: !ruby/sym undef
    conf_dir: !ruby/object:Puppet::Parser::AST::Undef
      line: 48
      file: 
      value: !ruby/sym undef
    daemon_user: !ruby/object:Puppet::Parser::AST::Undef
      line: 49
      file: 
      value: !ruby/sym undef
    global_owner: !ruby/object:Puppet::Parser::AST::Undef
      line: 50
      file: 
      value: !ruby/sym undef
    global_group: !ruby/object:Puppet::Parser::AST::Undef
      line: 51
      file: 
      value: !ruby/sym undef
    global_mode: !ruby/object:Puppet::Parser::AST::Undef
      line: 52
      file: 
      value: !ruby/sym undef
    logdir: !ruby/object:Puppet::Parser::AST::Undef
      line: 53
      file: 
      value: !ruby/sym undef
    http_access_log: !ruby/object:Puppet::Parser::AST::Undef
      line: 54
      file: 
      value: !ruby/sym undef
    nginx_error_log: !ruby/object:Puppet::Parser::AST::Undef
      line: 55
      file: 
      value: !ruby/sym undef
    pid: !ruby/object:Puppet::Parser::AST::Undef
      line: 56
      file: 
      value: !ruby/sym undef
    proxy_temp_path: !ruby/object:Puppet::Parser::AST::Undef
      line: 57
      file: 
      value: !ruby/sym undef
    root_group: !ruby/object:Puppet::Parser::AST::Undef
      line: 58
      file: 
      value: !ruby/sym undef
    run_dir: !ruby/object:Puppet::Parser::AST::Undef
      line: 59
      file: 
      value: !ruby/sym undef
    sites_available_owner: !ruby/object:Puppet::Parser::AST::Undef
      line: 60
      file: 
      value: !ruby/sym undef
    sites_available_group: !ruby/object:Puppet::Parser::AST::Undef
      line: 61
      file: 
      value: !ruby/sym undef
    sites_available_mode: !ruby/object:Puppet::Parser::AST::Undef
      line: 62
      file: 
      value: !ruby/sym undef
    super_user: !ruby/object:Puppet::Parser::AST::Undef
      line: 63
      file: 
      value: !ruby/sym undef
    temp_dir: !ruby/object:Puppet::Parser::AST::Undef
      line: 64
      file: 
      value: !ruby/sym undef
    vhost_purge: !ruby/object:Puppet::Parser::AST::Undef
      line: 65
      file: 
      value: !ruby/sym undef
    conf_template: !ruby/object:Puppet::Parser::AST::Undef
      line: 67
      file: 
      value: !ruby/sym undef
    proxy_conf_template: !ruby/object:Puppet::Parser::AST::Undef
      line: 68
      file: 
      value: !ruby/sym undef
    package_ensure: !ruby/object:Puppet::Parser::AST::Name
      line: 72
      file: 
      value: present
    package_name: !ruby/object:Puppet::Parser::AST::String
      line: 73
      file: 
      value: nginx
    package_source: !ruby/object:Puppet::Parser::AST::String
      line: 74
      file: 
      value: nginx
    manage_repo: !ruby/object:Puppet::Parser::AST::Boolean
      line: 75
      file: 
      value: true
    configtest_enable: !ruby/object:Puppet::Parser::AST::Boolean
      line: 79
      file: 
      value: false
    service_ensure: !ruby/object:Puppet::Parser::AST::Name
      line: 80
      file: 
      value: running
    service_restart: !ruby/object:Puppet::Parser::AST::String
      line: 81
      file: 
      value: "/etc/init.d/nginx configtest && /etc/init.d/nginx restart"
    geo_mappings: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 86
      file: 
      value: {}
    string_mappings: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 89
      file: 
      value: {}
    nginx_locations: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 92
      file: 
      value: {}
    nginx_mailhosts: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 95
      file: 
      value: {}
    nginx_upstreams: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 98
      file: 
      value: {}
    nginx_vhosts: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 101
      file: 
      value: {}
    nginx_vhosts_defaults: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 104
      file: 
      value: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 186
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 185
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 185
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 106
            file: 
            doc: ""
            type: notify
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 106
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 106
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 106
                    file: 
                    value: before
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 106
                    file: 
                    children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 185
            file: 
            doc: ""
            type: class
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 185
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 185
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 107
                    file: 
                    value: nginx
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 108
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 108
                        file: 
                        param: http_tcp_nopush
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 108
                          file: 
                          value: http_tcp_nopush
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 109
                        file: 
                        param: nginx_vhosts_defaults
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 109
                          file: 
                          value: nginx_vhosts_defaults
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 110
                        file: 
                        param: nginx_error_log
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 110
                          file: 
                          value: nginx_error_log
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 111
                        file: 
                        param: manage_repo
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 111
                          file: 
                          value: manage_repo
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 112
                        file: 
                        param: proxy_connect_timeout
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 112
                          file: 
                          value: proxy_connect_timeout
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 113
                        file: 
                        param: global_group
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 113
                          file: 
                          value: global_group
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 114
                        file: 
                        param: root_group
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 114
                          file: 
                          value: root_group
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 115
                        file: 
                        param: daemon_user
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 115
                          file: 
                          value: daemon_user
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 116
                        file: 
                        param: conf_template
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 116
                          file: 
                          value: conf_template
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 117
                        file: 
                        param: client_max_body_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 117
                          file: 
                          value: client_max_body_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 118
                        file: 
                        param: types_hash_max_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 118
                          file: 
                          value: types_hash_max_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 119
                        file: 
                        param: package_ensure
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 119
                          file: 
                          value: package_ensure
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 120
                        file: 
                        param: configtest_enable
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 120
                          file: 
                          value: configtest_enable
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 121
                        file: 
                        param: types_hash_bucket_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 121
                          file: 
                          value: types_hash_bucket_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 122
                        file: 
                        param: fastcgi_cache_max_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 122
                          file: 
                          value: fastcgi_cache_max_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 123
                        file: 
                        param: fastcgi_cache_path
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 123
                          file: 
                          value: fastcgi_cache_path
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 124
                        file: 
                        param: proxy_cache_inactive
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 124
                          file: 
                          value: proxy_cache_inactive
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 125
                        file: 
                        param: names_hash_bucket_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 125
                          file: 
                          value: names_hash_bucket_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 126
                        file: 
                        param: http_cfg_append
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 126
                          file: 
                          value: http_cfg_append
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 127
                        file: 
                        param: global_mode
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 127
                          file: 
                          value: global_mode
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 128
                        file: 
                        param: gzip
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 128
                          file: 
                          value: gzip
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 129
                        file: 
                        param: http_access_log
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 129
                          file: 
                          value: http_access_log
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 130
                        file: 
                        param: nginx_locations
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 130
                          file: 
                          value: nginx_locations
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 131
                        file: 
                        param: keepalive_timeout
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 131
                          file: 
                          value: keepalive_timeout
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 132
                        file: 
                        param: worker_rlimit_nofile
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 132
                          file: 
                          value: worker_rlimit_nofile
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 133
                        file: 
                        param: proxy_cache_max_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 133
                          file: 
                          value: proxy_cache_max_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 134
                        file: 
                        param: nginx_vhosts
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 134
                          file: 
                          value: nginx_vhosts
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 135
                        file: 
                        param: fastcgi_cache_inactive
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 135
                          file: 
                          value: fastcgi_cache_inactive
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 136
                        file: 
                        param: events_use
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 136
                          file: 
                          value: events_use
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 137
                        file: 
                        param: conf_dir
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 137
                          file: 
                          value: conf_dir
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 138
                        file: 
                        param: sites_available_mode
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 138
                          file: 
                          value: sites_available_mode
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 139
                        file: 
                        param: proxy_buffer_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 139
                          file: 
                          value: proxy_buffer_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 140
                        file: 
                        param: fastcgi_cache_key
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 140
                          file: 
                          value: fastcgi_cache_key
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 141
                        file: 
                        param: proxy_redirect
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 141
                          file: 
                          value: proxy_redirect
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 142
                        file: 
                        param: super_user
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 142
                          file: 
                          value: super_user
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 143
                        file: 
                        param: sites_available_group
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 143
                          file: 
                          value: sites_available_group
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 144
                        file: 
                        param: confd_purge
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 144
                          file: 
                          value: confd_purge
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 145
                        file: 
                        param: run_dir
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 145
                          file: 
                          value: run_dir
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 146
                        file: 
                        param: http_tcp_nodelay
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 146
                          file: 
                          value: http_tcp_nodelay
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 147
                        file: 
                        param: fastcgi_cache_use_stale
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 147
                          file: 
                          value: fastcgi_cache_use_stale
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 148
                        file: 
                        param: spdy
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 148
                          file: 
                          value: spdy
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 149
                        file: 
                        param: service_ensure
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 149
                          file: 
                          value: service_ensure
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 150
                        file: 
                        param: temp_dir
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 150
                          file: 
                          value: temp_dir
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 151
                        file: 
                        param: logdir
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 151
                          file: 
                          value: logdir
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 152
                        file: 
                        param: package_source
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 152
                          file: 
                          value: package_source
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 153
                        file: 
                        param: proxy_conf_template
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 153
                          file: 
                          value: proxy_conf_template
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 154
                        file: 
                        param: proxy_cache_levels
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 154
                          file: 
                          value: proxy_cache_levels
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 155
                        file: 
                        param: names_hash_max_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 155
                          file: 
                          value: names_hash_max_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 156
                        file: 
                        param: nginx_upstreams
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 156
                          file: 
                          value: nginx_upstreams
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 157
                        file: 
                        param: worker_connections
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 157
                          file: 
                          value: worker_connections
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 158
                        file: 
                        param: proxy_buffers
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 158
                          file: 
                          value: proxy_buffers
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 159
                        file: 
                        param: string_mappings
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 159
                          file: 
                          value: string_mappings
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 160
                        file: 
                        param: sites_available_owner
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 160
                          file: 
                          value: sites_available_owner
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 161
                        file: 
                        param: proxy_cache_keys_zone
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 161
                          file: 
                          value: proxy_cache_keys_zone
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 162
                        file: 
                        param: proxy_read_timeout
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 162
                          file: 
                          value: proxy_read_timeout
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 163
                        file: 
                        param: proxy_cache_path
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 163
                          file: 
                          value: proxy_cache_path
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 164
                        file: 
                        param: proxy_set_header
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 164
                          file: 
                          value: proxy_set_header
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 165
                        file: 
                        param: proxy_send_timeout
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 165
                          file: 
                          value: proxy_send_timeout
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 166
                        file: 
                        param: worker_processes
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 166
                          file: 
                          value: worker_processes
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 167
                        file: 
                        param: proxy_temp_path
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 167
                          file: 
                          value: proxy_temp_path
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 168
                        file: 
                        param: mail
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 168
                          file: 
                          value: mail
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 169
                        file: 
                        param: package_name
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 169
                          file: 
                          value: package_name
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 170
                        file: 
                        param: pid
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 170
                          file: 
                          value: pid
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 171
                        file: 
                        param: multi_accept
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 171
                          file: 
                          value: multi_accept
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 172
                        file: 
                        param: geo_mappings
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 172
                          file: 
                          value: geo_mappings
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 173
                        file: 
                        param: global_owner
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 173
                          file: 
                          value: global_owner
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 174
                        file: 
                        param: client_body_temp_path
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 174
                          file: 
                          value: client_body_temp_path
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 175
                        file: 
                        param: client_body_buffer_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 175
                          file: 
                          value: client_body_buffer_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 176
                        file: 
                        param: sendfile
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 176
                          file: 
                          value: sendfile
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 177
                        file: 
                        param: proxy_http_version
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 177
                          file: 
                          value: proxy_http_version
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 178
                        file: 
                        param: vhost_purge
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 178
                          file: 
                          value: vhost_purge
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 179
                        file: 
                        param: nginx_mailhosts
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 179
                          file: 
                          value: nginx_mailhosts
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 180
                        file: 
                        param: fastcgi_cache_keys_zone
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 180
                          file: 
                          value: fastcgi_cache_keys_zone
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 181
                        file: 
                        param: fastcgi_cache_levels
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 181
                          file: 
                          value: fastcgi_cache_levels
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 182
                        file: 
                        param: proxy_headers_hash_bucket_size
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 182
                          file: 
                          value: proxy_headers_hash_bucket_size
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 183
                        file: 
                        param: service_restart
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 183
                          file: 
                          value: service_restart
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 184
                        file: 
                        param: server_tokens
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 184
                          file: 
                          value: server_tokens
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 185
          file: 
          doc: ""
          type: notify
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 185
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 185
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 185
                  file: 
                  value: last
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 185
                  file: 
                  children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::nginx::location"
  namespace: "cloudeploy::nginx"
  arguments: 
    vhost: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: ""
    ensure: !ruby/object:Puppet::Parser::AST::Name
      line: 3
      file: 
      value: present
    location: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: ""
    proxy: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: ""
    www_root: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: ""
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 12
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 12
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 8
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 8
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 8
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 8
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 8
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 8
                        file: 
                        value: nginx
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 9
              file: 
              doc: ""
              name: include
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 10
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 9
                    file: 
                    value: nginx
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 18
        file: 
        doc: ""
        type: "nginx::resource::location"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 18
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 18
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 12
                file: 
                value: name
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 13
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 13
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 13
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 14
                    file: 
                    param: location
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 14
                      file: 
                      value: location
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 15
                    file: 
                    param: vhost
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 15
                      file: 
                      value: vhost
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 16
                    file: 
                    param: www_root
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 16
                      file: 
                      value: www_root
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: proxy
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 17
                      file: 
                      value: proxy
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::nginx::service"
  namespace: "cloudeploy::nginx"
  arguments: 
    service_ensure: !ruby/object:Puppet::Parser::AST::Name
      line: 2
      file: 
      value: running
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 13
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 13
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 4
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 4
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 4
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 4
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 4
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 4
                        file: 
                        value: "nginx::service"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 8
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 5
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 5
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 5
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Concat
                        line: 5
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 5
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 5
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 5
                            file: 
                            value: " cloudeploy::nginx::service::start"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 5
                        file: 
                        children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 8
                file: 
                doc: ""
                type: class
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 8
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 8
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 6
                        file: 
                        value: "::nginx::service"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 7
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 7
                            file: 
                            param: service_ensure
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 7
                              file: 
                              value: service_ensure
                            children: []
                      children: []
                children: []
              arrow: "->"
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 13
          file: 
          doc: "contain ::nginx::service\n"
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 13
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Resource
                line: 12
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 12
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 12
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Concat
                        line: 11
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 11
                            file: 
                            value: "nginx::service has been defined before "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 11
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 11
                            file: 
                            value: ","
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 11
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 11
                            file: 
                            value: " service will not work"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 12
                        file: 
                        children: []
                      children: []
                children: []
          children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::nginx::upstream"
  namespace: "cloudeploy::nginx"
  arguments: 
    members: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 2
      file: 
      children: []
    ensure: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: present
    upstream_cfg_prepend: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 4
      file: 
      value: {}
    upstream_fail_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "10s"
    upstream_name: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: ""
    ip_hash: !ruby/object:Puppet::Parser::AST::Boolean
      line: 7
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 12
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 12
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 9
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 9
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 9
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 9
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 9
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 9
                        file: 
                        value: nginx
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 11
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 10
              file: 
              doc: ""
              name: include
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 10
                    file: 
                    value: nginx
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 31
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 12
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 12
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 12
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 12
                  file: 
                  type: "Nginx::Resource::Upstream"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 12
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 12
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 12
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 12
                            file: 
                            value: upstream_name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 12
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 23
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 23
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::Name
                line: 13
                file: 
                value: ip_hash
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 18
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 14
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 14
                      file: 
                      value: my_config
                    value: !ruby/object:Puppet::Parser::AST::ASTHash
                      line: 17
                      file: 
                      value: 
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 15
                          file: 
                          value: ip_hash
                        : !ruby/object:Puppet::Parser::AST::String
                          line: 15
                          file: 
                          value: " "
                        ? !ruby/object:Puppet::Parser::AST::String
                          line: 16
                          file: 
                          value: keepalive
                        : !ruby/object:Puppet::Parser::AST::String
                          line: 16
                          file: 
                          value: "20"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 18
                    file: 
                    doc: "     $_upstream_cfg_prepend = \n"
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 18
                      file: 
                      value: "_upstream_cfg_prepend"
                    value: !ruby/object:Puppet::Parser::AST::Function
                      ftype: !ruby/sym rvalue
                      line: 18
                      file: 
                      doc: ""
                      name: mysql_deepmerge
                      arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 18
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 18
                            file: 
                            value: my_config
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 18
                            file: 
                            value: my_config
                      children: []
                    children: []
              children: []
              else: !ruby/object:Puppet::Parser::AST::Else
                line: 23
                file: 
                doc: ""
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 23
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::VarDef
                      line: 22
                      file: 
                      doc: ""
                      name: !ruby/object:Puppet::Parser::AST::Name
                        line: 22
                        file: 
                        value: "_upstream_cfg_prepend"
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 22
                        file: 
                        value: upstream_cfg_prepend
                      children: []
                children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 29
              file: 
              doc: ""
              type: "nginx::resource::upstream"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 29
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 29
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 24
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 24
                          file: 
                          value: upstream_name
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: ""
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 25
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 25
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 25
                            file: 
                            value: ensure
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 26
                          file: 
                          param: members
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 26
                            file: 
                            value: members
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 27
                          file: 
                          param: upstream_cfg_prepend
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 27
                            file: 
                            value: "_upstream_cfg_prepend"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 28
                          file: 
                          param: upstream_fail_timeout
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 28
                            file: 
                            value: upstream_fail_timeout
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::nginx::vhost"
  namespace: "cloudeploy::nginx"
  arguments: 
    vhost_name: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: ""
    fastcgi_script: !ruby/object:Puppet::Parser::AST::Undef
      line: 3
      file: 
      value: !ruby/sym undef
    ssl_trusted_cert: !ruby/object:Puppet::Parser::AST::Undef
      line: 4
      file: 
      value: !ruby/sym undef
    gzip_types: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    www_root: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
    ipv6_listen_options: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "default ipv6only=on"
    ssl_key: !ruby/object:Puppet::Parser::AST::Undef
      line: 8
      file: 
      value: !ruby/sym undef
    proxy_connect_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "90"
    rewrite_to_https: !ruby/object:Puppet::Parser::AST::Undef
      line: 10
      file: 
      value: !ruby/sym undef
    ssl_stapling: !ruby/object:Puppet::Parser::AST::Boolean
      line: 11
      file: 
      value: false
    ssl: !ruby/object:Puppet::Parser::AST::Boolean
      line: 12
      file: 
      value: false
    proxy_set_body: !ruby/object:Puppet::Parser::AST::Undef
      line: 13
      file: 
      value: !ruby/sym undef
    location_raw_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 14
      file: 
      value: !ruby/sym undef
    location_deny: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 15
      file: 
      children: []
    location_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 16
      file: 
      value: !ruby/sym undef
    client_max_body_size: !ruby/object:Puppet::Parser::AST::Undef
      line: 17
      file: 
      value: !ruby/sym undef
    log_by_lua: !ruby/object:Puppet::Parser::AST::Undef
      line: 18
      file: 
      value: !ruby/sym undef
    listen_options: !ruby/object:Puppet::Parser::AST::Undef
      line: 19
      file: 
      value: !ruby/sym undef
    include_files: !ruby/object:Puppet::Parser::AST::Undef
      line: 20
      file: 
      value: !ruby/sym undef
    ssl_stapling_verify: !ruby/object:Puppet::Parser::AST::Boolean
      line: 21
      file: 
      value: false
    listen_ip: !ruby/object:Puppet::Parser::AST::String
      line: 22
      file: 
      value: "*"
    use_default_location: !ruby/object:Puppet::Parser::AST::Boolean
      line: 23
      file: 
      value: true
    error_log: !ruby/object:Puppet::Parser::AST::Undef
      line: 24
      file: 
      value: !ruby/sym undef
    index_files: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 26
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::String
          line: 26
          file: 
          value: index.html
        - !ruby/object:Puppet::Parser::AST::String
          line: 27
          file: 
          value: index.htm
        - !ruby/object:Puppet::Parser::AST::String
          line: 28
          file: 
          value: index.php
    listen_port: !ruby/object:Puppet::Parser::AST::String
      line: 30
      file: 
      value: "80"
    passenger_cgi_param: !ruby/object:Puppet::Parser::AST::Undef
      line: 31
      file: 
      value: !ruby/sym undef
    location_raw_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 32
      file: 
      value: !ruby/sym undef
    ssl_stapling_responder: !ruby/object:Puppet::Parser::AST::Undef
      line: 33
      file: 
      value: !ruby/sym undef
    raw_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 34
      file: 
      value: !ruby/sym undef
    auth_basic_user_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 35
      file: 
      value: !ruby/sym undef
    location_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 36
      file: 
      value: !ruby/sym undef
    rewrite_rules: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 37
      file: 
      children: []
    proxy_redirect: !ruby/object:Puppet::Parser::AST::Undef
      line: 38
      file: 
      value: !ruby/sym undef
    owner: !ruby/object:Puppet::Parser::AST::String
      line: 39
      file: 
      value: root
    proxy_cache_valid: !ruby/object:Puppet::Parser::AST::Boolean
      line: 40
      file: 
      value: false
    proxy_method: !ruby/object:Puppet::Parser::AST::Undef
      line: 41
      file: 
      value: !ruby/sym undef
    ipv6_listen_port: !ruby/object:Puppet::Parser::AST::String
      line: 42
      file: 
      value: "80"
    spdy: !ruby/object:Puppet::Parser::AST::String
      line: 43
      file: 
      value: "off"
    ssl_protocols: !ruby/object:Puppet::Parser::AST::String
      line: 44
      file: 
      value: "TLSv1 TLSv1.1 TLSv1.2"
    client_header_timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 45
      file: 
      value: !ruby/sym undef
    proxy_cache: !ruby/object:Puppet::Parser::AST::Boolean
      line: 46
      file: 
      value: false
    mode: !ruby/object:Puppet::Parser::AST::String
      line: 47
      file: 
      value: "0644"
    ipv6_listen_ip: !ruby/object:Puppet::Parser::AST::String
      line: 48
      file: 
      value: "::"
    fastcgi: !ruby/object:Puppet::Parser::AST::Undef
      line: 49
      file: 
      value: !ruby/sym undef
    server_name: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 50
      file: 
      children: 
        - !ruby/object:Puppet::Parser::AST::Variable
          line: 50
          file: 
          value: name
    string_mappings: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 52
      file: 
      value: {}
    location_custom_cfg: !ruby/object:Puppet::Parser::AST::Undef
      line: 54
      file: 
      value: !ruby/sym undef
    ssl_cert: !ruby/object:Puppet::Parser::AST::Undef
      line: 55
      file: 
      value: !ruby/sym undef
    ssl_port: !ruby/object:Puppet::Parser::AST::String
      line: 56
      file: 
      value: "443"
    proxy: !ruby/object:Puppet::Parser::AST::Undef
      line: 57
      file: 
      value: !ruby/sym undef
    proxy_read_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 58
      file: 
      value: "90"
    resolver: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 59
      file: 
      children: []
    auth_basic: !ruby/object:Puppet::Parser::AST::Undef
      line: 60
      file: 
      value: !ruby/sym undef
    proxy_set_header: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 61
      file: 
      children: []
    autoindex: !ruby/object:Puppet::Parser::AST::Undef
      line: 62
      file: 
      value: !ruby/sym undef
    vhost_cfg_ssl_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 63
      file: 
      value: !ruby/sym undef
    vhost_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 64
      file: 
      value: !ruby/sym undef
    ensure: !ruby/object:Puppet::Parser::AST::String
      line: 65
      file: 
      value: present
    ipv6_enable: !ruby/object:Puppet::Parser::AST::Boolean
      line: 66
      file: 
      value: false
    vhost_cfg_ssl_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 67
      file: 
      value: !ruby/sym undef
    add_header: !ruby/object:Puppet::Parser::AST::Undef
      line: 68
      file: 
      value: !ruby/sym undef
    ssl_session_timeout: !ruby/object:Puppet::Parser::AST::String
      line: 69
      file: 
      value: "5m"
    location_custom_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 70
      file: 
      value: !ruby/sym undef
    geo_mappings: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 72
      file: 
      value: {}
    ssl_ciphers: !ruby/object:Puppet::Parser::AST::String
      line: 74
      file: 
      value: "ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:#aNULL:#eNULL:#EXPORT:#DES:#RC4:#MD5:#PSK:#aECDH:#EDH-DSS-DES-CBC3-SHA:#EDH-RSA-DES-CBC3-SHA:#KRB5-DES-CBC3-SHA"
    access_log: !ruby/object:Puppet::Parser::AST::Undef
      line: 75
      file: 
      value: !ruby/sym undef
    raw_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 76
      file: 
      value: !ruby/sym undef
    rewrite_www_to_non_www: !ruby/object:Puppet::Parser::AST::Boolean
      line: 77
      file: 
      value: false
    ssl_cache: !ruby/object:Puppet::Parser::AST::String
      line: 78
      file: 
      value: "shared:SSL:10m"
    ssl_stapling_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 79
      file: 
      value: !ruby/sym undef
    ssl_listen_option: !ruby/object:Puppet::Parser::AST::Boolean
      line: 80
      file: 
      value: true
    try_files: !ruby/object:Puppet::Parser::AST::Undef
      line: 81
      file: 
      value: !ruby/sym undef
    group: !ruby/object:Puppet::Parser::AST::String
      line: 82
      file: 
      value: root
    log_by_lua_file: !ruby/object:Puppet::Parser::AST::Undef
      line: 83
      file: 
      value: !ruby/sym undef
    vhost_cfg_prepend: !ruby/object:Puppet::Parser::AST::Undef
      line: 84
      file: 
      value: !ruby/sym undef
    client_body_timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 85
      file: 
      value: !ruby/sym undef
    ssl_dhparam: !ruby/object:Puppet::Parser::AST::Undef
      line: 86
      file: 
      value: !ruby/sym undef
    location_allow: !ruby/object:Puppet::Parser::AST::ASTArray
      line: 87
      file: 
      children: []
    format_log: !ruby/object:Puppet::Parser::AST::Undef
      line: 88
      file: 
      value: !ruby/sym undef
    location_custom_cfg_append: !ruby/object:Puppet::Parser::AST::Undef
      line: 89
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 95
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 95
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 91
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 91
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 91
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 91
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 91
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 91
                        file: 
                        value: nginx
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 93
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 92
              file: 
              doc: ""
              name: include
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 93
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Name
                    line: 92
                    file: 
                    value: nginx
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 178
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 95
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 95
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 95
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 95
                  file: 
                  type: "Nginx::Resource::Vhost"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 95
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 95
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 95
                            file: 
                            value: ""
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 95
                            file: 
                            value: vhost_name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 95
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 177
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 176
              file: 
              doc: ""
              type: "nginx::resource::vhost"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 176
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 176
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 96
                      file: 
                      value: vhost_name
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 97
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 97
                          file: 
                          param: fastcgi_script
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 97
                            file: 
                            value: fastcgi_script
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 98
                          file: 
                          param: ssl_trusted_cert
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 98
                            file: 
                            value: ssl_trusted_cert
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 99
                          file: 
                          param: gzip_types
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 99
                            file: 
                            value: gzip_types
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 100
                          file: 
                          param: www_root
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 100
                            file: 
                            value: www_root
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 101
                          file: 
                          param: ipv6_listen_options
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 101
                            file: 
                            value: ipv6_listen_options
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 102
                          file: 
                          param: ssl_key
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 102
                            file: 
                            value: ssl_key
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 103
                          file: 
                          param: proxy_connect_timeout
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 103
                            file: 
                            value: proxy_connect_timeout
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 104
                          file: 
                          param: rewrite_to_https
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 104
                            file: 
                            value: rewrite_to_https
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 105
                          file: 
                          param: ssl_stapling
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 105
                            file: 
                            value: ssl_stapling
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 106
                          file: 
                          param: ssl
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 106
                            file: 
                            value: ssl
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 107
                          file: 
                          param: proxy_set_body
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 107
                            file: 
                            value: proxy_set_body
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 108
                          file: 
                          param: location_raw_prepend
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 108
                            file: 
                            value: location_raw_prepend
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 109
                          file: 
                          param: location_deny
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 109
                            file: 
                            value: location_deny
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 110
                          file: 
                          param: location_cfg_prepend
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 110
                            file: 
                            value: location_cfg_prepend
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 111
                          file: 
                          param: client_max_body_size
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 111
                            file: 
                            value: client_max_body_size
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 112
                          file: 
                          param: log_by_lua
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 112
                            file: 
                            value: log_by_lua
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 113
                          file: 
                          param: listen_options
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 113
                            file: 
                            value: listen_options
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 114
                          file: 
                          param: include_files
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 114
                            file: 
                            value: include_files
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 115
                          file: 
                          param: ssl_stapling_verify
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 115
                            file: 
                            value: ssl_stapling_verify
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 116
                          file: 
                          param: listen_ip
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 116
                            file: 
                            value: listen_ip
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 117
                          file: 
                          param: use_default_location
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 117
                            file: 
                            value: use_default_location
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 118
                          file: 
                          param: error_log
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 118
                            file: 
                            value: error_log
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 119
                          file: 
                          param: index_files
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 119
                            file: 
                            value: index_files
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 120
                          file: 
                          param: listen_port
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 120
                            file: 
                            value: listen_port
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 121
                          file: 
                          param: passenger_cgi_param
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 121
                            file: 
                            value: passenger_cgi_param
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 122
                          file: 
                          param: location_raw_append
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 122
                            file: 
                            value: location_raw_append
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 123
                          file: 
                          param: ssl_stapling_responder
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 123
                            file: 
                            value: ssl_stapling_responder
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 124
                          file: 
                          param: raw_append
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 124
                            file: 
                            value: raw_append
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 125
                          file: 
                          param: auth_basic_user_file
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 125
                            file: 
                            value: auth_basic_user_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 126
                          file: 
                          param: location_cfg_append
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 126
                            file: 
                            value: location_cfg_append
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 127
                          file: 
                          param: rewrite_rules
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 127
                            file: 
                            value: rewrite_rules
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 128
                          file: 
                          param: proxy_redirect
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 128
                            file: 
                            value: proxy_redirect
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 129
                          file: 
                          param: owner
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 129
                            file: 
                            value: owner
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 130
                          file: 
                          param: proxy_cache_valid
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 130
                            file: 
                            value: proxy_cache_valid
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 131
                          file: 
                          param: proxy_method
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 131
                            file: 
                            value: proxy_method
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 132
                          file: 
                          param: ipv6_listen_port
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 132
                            file: 
                            value: ipv6_listen_port
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 133
                          file: 
                          param: spdy
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 133
                            file: 
                            value: spdy
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 134
                          file: 
                          param: ssl_protocols
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 134
                            file: 
                            value: ssl_protocols
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 135
                          file: 
                          param: client_header_timeout
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 135
                            file: 
                            value: client_header_timeout
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 136
                          file: 
                          param: proxy_cache
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 136
                            file: 
                            value: proxy_cache
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 137
                          file: 
                          param: mode
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 137
                            file: 
                            value: mode
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 138
                          file: 
                          param: ipv6_listen_ip
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 138
                            file: 
                            value: ipv6_listen_ip
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 139
                          file: 
                          param: fastcgi
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 139
                            file: 
                            value: fastcgi
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 140
                          file: 
                          param: server_name
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 140
                            file: 
                            value: server_name
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 141
                          file: 
                          param: string_mappings
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 141
                            file: 
                            value: string_mappings
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 142
                          file: 
                          param: location_custom_cfg
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 142
                            file: 
                            value: location_custom_cfg
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 143
                          file: 
                          param: ssl_cert
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 143
                            file: 
                            value: ssl_cert
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 144
                          file: 
                          param: ssl_port
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 144
                            file: 
                            value: ssl_port
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 145
                          file: 
                          param: proxy
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 145
                            file: 
                            value: proxy
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 146
                          file: 
                          param: proxy_read_timeout
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 146
                            file: 
                            value: proxy_read_timeout
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 147
                          file: 
                          param: resolver
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 147
                            file: 
                            value: resolver
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 148
                          file: 
                          param: auth_basic
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 148
                            file: 
                            value: auth_basic
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 149
                          file: 
                          param: proxy_set_header
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 149
                            file: 
                            value: proxy_set_header
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 150
                          file: 
                          param: autoindex
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 150
                            file: 
                            value: autoindex
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 151
                          file: 
                          param: vhost_cfg_ssl_prepend
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 151
                            file: 
                            value: vhost_cfg_ssl_prepend
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 152
                          file: 
                          param: vhost_cfg_append
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 152
                            file: 
                            value: vhost_cfg_append
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 153
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 153
                            file: 
                            value: ensure
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 154
                          file: 
                          param: ipv6_enable
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 154
                            file: 
                            value: ipv6_enable
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 155
                          file: 
                          param: vhost_cfg_ssl_append
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 155
                            file: 
                            value: vhost_cfg_ssl_append
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 156
                          file: 
                          param: add_header
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 156
                            file: 
                            value: add_header
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 157
                          file: 
                          param: ssl_session_timeout
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 157
                            file: 
                            value: ssl_session_timeout
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 158
                          file: 
                          param: location_custom_cfg_prepend
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 158
                            file: 
                            value: location_custom_cfg_prepend
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 159
                          file: 
                          param: geo_mappings
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 159
                            file: 
                            value: geo_mappings
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 160
                          file: 
                          param: ssl_ciphers
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 160
                            file: 
                            value: ssl_ciphers
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 161
                          file: 
                          param: access_log
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 161
                            file: 
                            value: access_log
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 162
                          file: 
                          param: raw_prepend
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 162
                            file: 
                            value: raw_prepend
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 163
                          file: 
                          param: rewrite_www_to_non_www
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 163
                            file: 
                            value: rewrite_www_to_non_www
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 164
                          file: 
                          param: ssl_cache
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 164
                            file: 
                            value: ssl_cache
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 165
                          file: 
                          param: ssl_stapling_file
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 165
                            file: 
                            value: ssl_stapling_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 166
                          file: 
                          param: ssl_listen_option
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 166
                            file: 
                            value: ssl_listen_option
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 167
                          file: 
                          param: try_files
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 167
                            file: 
                            value: try_files
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 168
                          file: 
                          param: group
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 168
                            file: 
                            value: group
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 169
                          file: 
                          param: log_by_lua_file
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 169
                            file: 
                            value: log_by_lua_file
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 170
                          file: 
                          param: vhost_cfg_prepend
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 170
                            file: 
                            value: vhost_cfg_prepend
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 171
                          file: 
                          param: client_body_timeout
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 171
                            file: 
                            value: client_body_timeout
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 172
                          file: 
                          param: ssl_dhparam
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 172
                            file: 
                            value: ssl_dhparam
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 173
                          file: 
                          param: location_allow
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 173
                            file: 
                            value: location_allow
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 174
                          file: 
                          param: format_log
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 174
                            file: 
                            value: format_log
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 175
                          file: 
                          param: location_custom_cfg_append
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 175
                            file: 
                            value: location_custom_cfg_append
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::node1::install"
  namespace: "cloudeploy::node1::install"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 3
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 2
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 2
          file: 
          value: slave_ip
        value: !ruby/object:Puppet::Parser::AST::String
          line: 2
          file: 
          value: "133.133.134.163"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 3
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 3
          file: 
          value: master_ip
        value: !ruby/object:Puppet::Parser::AST::String
          line: 3
          file: 
          value: "133.133.134.183"
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 9
        file: 
        doc: ""
        type: "cloudeploy::node1::mysql_install"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 9
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 9
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 4
                file: 
                value: "install master"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 5
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 5
                    file: 
                    param: slave_ip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 5
                      file: 
                      value: slave_ip
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 6
                    file: 
                    param: master_ip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 6
                      file: 
                      value: master_ip
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: master_hostname
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 7
                      file: 
                      value: richard.agent1
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 8
                    file: 
                    param: slave_hostname
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 8
                      file: 
                      value: richard.agent2
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 16
        file: 
        doc: ""
        type: "cloudeploy::mysql::sqlscript"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 16
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 16
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 11
                file: 
                value: cs_msg_tenant_default
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 12
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 12
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 12
                      file: 
                      value: /tmp/cs_msg_tenant_default.sql
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 13
                    file: 
                    param: sqlScript_url
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 13
                      file: 
                      value: "ftp://133.133.133.40/exchange/cloudshare/sqls/cs_msg_tenant_default.sql"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 14
                    file: 
                    param: url_username
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 14
                      file: 
                      value: tcse
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 15
                    file: 
                    param: url_password
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 15
                      file: 
                      value: tcse
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 20
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Collection
          line: 18
          file: 
          doc: ""
          type: "cloudeploy::node2::mysql_install"
          form: !ruby/sym virtual
          children: []
        right: !ruby/object:Puppet::Parser::AST::Collection
          line: 20
          file: 
          doc: ""
          type: "cloudeploy::mysql::sqlscript"
          form: !ruby/sym virtual
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 21
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 21
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 21
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 20
                file: 
                value: "cloudeploy::java::install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 21
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 32
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 29
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Relationship
            line: 27
            file: 
            children: []
            left: !ruby/object:Puppet::Parser::AST::Resource
              line: 24
              file: 
              doc: ""
              type: class
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 24
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 24
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 23
                      file: 
                      value: "cloudeploy::playframework::install"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 24
                      file: 
                      children: []
                    children: []
              children: []
            right: !ruby/object:Puppet::Parser::AST::Resource
              line: 27
              file: 
              doc: ""
              type: class
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 27
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 27
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 26
                      file: 
                      value: "cloudeploy::application::cstenants"
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 27
                      file: 
                      children: []
                    children: []
              children: []
            arrow: "->"
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 29
            file: 
            doc: ""
            type: class
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 29
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 29
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 29
                    file: 
                    value: "cloudeploy::application::cstenants::config_playframwork"
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 29
                    file: 
                    children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 32
          file: 
          doc: ""
          type: "cloudeploy::application::cstenants::start"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 32
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 32
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 31
                  file: 
                  value: "start play"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 32
                  file: 
                  children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 35
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 35
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 35
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 34
                file: 
                value: "cloudeploy::nginx::install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 35
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 38
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 38
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 38
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 37
                file: 
                value: "cloudeploy::application::cstenants::config_nginx"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 38
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 41
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 41
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 41
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 40
                file: 
                value: "cloudeploy::openoffice::install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 41
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 51
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 46
          file: 
          doc: ""
          type: class
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 46
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 46
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 43
                  file: 
                  value: "cloudeploy::application::service"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 44
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 44
                      file: 
                      param: msg_ip
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 44
                        file: 
                        value: slave_ip
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 45
                      file: 
                      param: redis_host_ip
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 45
                        file: 
                        value: slave_ip
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 51
          file: 
          doc: ""
          type: class
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 51
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 51
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 48
                  file: 
                  value: "cloudeploy::application::service::config_nginx"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 49
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 49
                      file: 
                      param: members
                      value: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 49
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 49
                            file: 
                            value: "133.133.134.183:8080"
                          - !ruby/object:Puppet::Parser::AST::Concat
                            line: 49
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 49
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 49
                                file: 
                                value: slave_ip
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 49
                                file: 
                                value: ":8080"
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 56
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 56
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 56
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 52
                file: 
                value: "cloudeploy::application::message::config_nginx"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 53
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 53
                    file: 
                    param: bosh_members
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 53
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 53
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 53
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 53
                              file: 
                              value: slave_ip
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 53
                              file: 
                              value: ":8225"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 54
                    file: 
                    param: messaging_members
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 54
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 54
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 54
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 54
                              file: 
                              value: slave_ip
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 54
                              file: 
                              value: ":9080"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 59
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 59
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 59
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 58
                file: 
                value: "cloudeploy::application::cloudshare"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 59
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 67
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 67
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 67
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 61
                file: 
                value: "cloudeploy::application::cloudshare::config_nginx"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 65
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 62
                    file: 
                    param: members
                    value: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 63
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 63
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 63
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 63
                              file: 
                              value: master_ip
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 63
                              file: 
                              value: ":10080"
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 64
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 64
                              file: 
                              value: ""
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 64
                              file: 
                              value: slave_ip
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 64
                              file: 
                              value: ":10080"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 72
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 72
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 72
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 69
                file: 
                value: "cloudeploy::application::index"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 70
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 70
                    file: 
                    param: msg_ip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 70
                      file: 
                      value: slave_ip
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 71
                    file: 
                    param: redis_host_ip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 71
                      file: 
                      value: slave_ip
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 76
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 76
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 76
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 74
                file: 
                value: "cloudeploy::application::index::config_nginx"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 76
                file: 
                children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::node2::install"
  namespace: "cloudeploy::node2::install"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 3
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 2
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 2
          file: 
          value: slave_ip
        value: !ruby/object:Puppet::Parser::AST::String
          line: 2
          file: 
          value: "133.133.134.163"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 3
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 3
          file: 
          value: master_ip
        value: !ruby/object:Puppet::Parser::AST::String
          line: 3
          file: 
          value: "133.133.134.183"
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 9
        file: 
        doc: ""
        type: "cloudeploy::node2::mysql_install"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 9
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 9
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 4
                file: 
                value: "slave install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 5
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 5
                    file: 
                    param: slave_ip
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 5
                      file: 
                      value: "133.133.134.163"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 6
                    file: 
                    param: master_ip
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 6
                      file: 
                      value: "133.133.134.183"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: master_hostname
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 7
                      file: 
                      value: richard.agent1
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 8
                    file: 
                    param: slave_hostname
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 8
                      file: 
                      value: richard.agent2
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 13
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Collection
          line: 11
          file: 
          doc: ""
          type: "cloudeploy::node2::mysql_install"
          form: !ruby/sym virtual
          children: []
        right: !ruby/object:Puppet::Parser::AST::Collection
          line: 13
          file: 
          doc: ""
          type: "cloudeploy::mysql::sqlscript"
          form: !ruby/sym virtual
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 14
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 14
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 14
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 13
                file: 
                value: "cloudeploy::java::install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 14
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 17
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 17
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 17
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 16
                file: 
                value: "cloudeploy::redis::install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 17
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 19
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 19
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 19
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 18
                file: 
                value: "cloudeploy::openoffice::install"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 19
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 24
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 24
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 24
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 21
                file: 
                value: "cloudeploy::application::service"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 22
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 22
                    file: 
                    param: msg_ip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 22
                      file: 
                      value: slave_ip
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 23
                    file: 
                    param: redis_host_ip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 23
                      file: 
                      value: slave_ip
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 30
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 27
          file: 
          doc: ""
          type: class
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 27
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 27
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 26
                  file: 
                  value: "cloudeploy::activemq::install"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 27
                  file: 
                  children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 30
          file: 
          doc: ""
          type: class
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 30
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 30
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 29
                  file: 
                  value: "cloudeploy::activemq::service"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 30
                  file: 
                  children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 34
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 34
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 34
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 32
                file: 
                value: "cloudeploy::application::message"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 34
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 33
                    file: 
                    param: jms_brokerUrl
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 33
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 33
                          file: 
                          value: "tcp://"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 33
                          file: 
                          value: slave_ip
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 33
                          file: 
                          value: ":61616"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 37
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 37
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 37
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 36
                file: 
                value: "cloudeploy::application::cloudshare"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 37
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 39
        file: 
        doc: ""
        type: class
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 39
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 39
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 39
                file: 
                value: "cloudeploy::application::maintenance"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 39
                file: 
                children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::node2::mysql_install"
  namespace: "cloudeploy::node2"
  arguments: 
    slave_ip: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "133.133.12.14"
    master_ip: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "133.133.134.183"
    master_hostname: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: richard.agent1
    slave_hostname: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: oncecloud.agent2
    mysql_rpm_source: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "ftp://133.133.133.40/exchange/cloudshare/pkgs/mysql-community-release-el6-5.noarch.rpm"
    mysql_rpm_source_user: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: tcse
    mysql_rpm_source_password: !ruby/object:Puppet::Parser::AST::String
      line: 10
      file: 
      value: tcse
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 37
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 36
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 33
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Relationship
            line: 27
            file: 
            children: []
            left: !ruby/object:Puppet::Parser::AST::Relationship
              line: 20
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 16
                file: 
                doc: ""
                type: "cloudeploy::host"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 16
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 16
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Variable
                        line: 13
                        file: 
                        value: master_hostname
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 14
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 14
                            file: 
                            param: hostname
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 14
                              file: 
                              value: master_hostname
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 15
                            file: 
                            param: hostIp
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 15
                              file: 
                              value: master_ip
                            children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 20
                file: 
                doc: ""
                type: "cloudeploy::host"
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 20
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 20
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Variable
                        line: 17
                        file: 
                        value: slave_hostname
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 18
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 18
                            file: 
                            param: hostname
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 18
                              file: 
                              value: slave_hostname
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 19
                            file: 
                            param: hostIp
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 19
                              file: 
                              value: slave_ip
                            children: []
                      children: []
                children: []
              arrow: "->"
            right: !ruby/object:Puppet::Parser::AST::Resource
              line: 27
              file: 
              doc: "上传rpm文件\n"
              type: "cloudeploy::primitive::file"
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 27
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 27
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 22
                      file: 
                      value: mysql_rpm_file
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 23
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 23
                          file: 
                          param: source
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 23
                            file: 
                            value: mysql_rpm_source
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 24
                          file: 
                          param: target
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 24
                            file: 
                            value: /tmp/mysql-community-release-el6-5.noarch.rpm
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 25
                          file: 
                          param: username
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 25
                            file: 
                            value: mysql_rpm_source_user
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 26
                          file: 
                          param: password
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 26
                            file: 
                            value: mysql_rpm_source_password
                          children: []
                    children: []
              children: []
            arrow: "->"
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 33
            file: 
            doc: ""
            type: exec
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 33
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 33
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::String
                    line: 28
                    file: 
                    value: "update mysql yum"
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 29
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 29
                        file: 
                        param: command
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 29
                          file: 
                          value: "rpm -ivh /tmp/mysql-community-release-el6-5.noarch.rpm"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 30
                        file: 
                        param: provider
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 30
                          file: 
                          value: shell
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 31
                        file: 
                        param: onlyif
                        value: !ruby/object:Puppet::Parser::AST::String
                          line: 31
                          file: 
                          value: "test -e /tmp/mysql-community-release-el6-5.noarch.rpm"
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 32
                        file: 
                        param: returns
                        value: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 32
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::Name
                              line: 32
                              file: 
                              value: "0"
                            - !ruby/object:Puppet::Parser::AST::Name
                              line: 32
                              file: 
                              value: "1"
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 36
          file: 
          doc: ""
          type: class
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 36
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 36
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 35
                  file: 
                  value: "cloudeploy::mysql::slave"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 36
                  file: 
                  children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 2
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::openoffice::install"
  namespace: "cloudeploy::openoffice::install"
  arguments: 
    rpm_source: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "http://heanet.dl.sourceforge.net/project/openofficeorg.mirror/4.0.0/binaries/zh-CN/Apache_OpenOffice_4.0.0_Linux_x86-64_install-rpm_zh-CN.tar.gz"
    source_username: !ruby/object:Puppet::Parser::AST::Undef
      line: 4
      file: 
      value: !ruby/sym undef
    source_password: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 18
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 17
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 13
          file: 
          doc: ""
          type: "cloudeploy::primitive::deploy"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 13
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 13
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 7
                  file: 
                  value: openoffice_rpm_file
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 8
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 8
                      file: 
                      param: source
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 8
                        file: 
                        value: rpm_source
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 9
                      file: 
                      param: target
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 9
                        file: 
                        value: /tmp
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 10
                      file: 
                      param: timeout
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 10
                        file: 
                        value: "600"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 11
                      file: 
                      param: username
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 11
                        file: 
                        value: source_username
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 12
                      file: 
                      param: password
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 12
                        file: 
                        value: source_password
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 17
          file: 
          doc: ""
          type: "cloudeploy::primitive::exec"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 17
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 17
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 15
                  file: 
                  value: install_openoffice
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 17
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 16
                      file: 
                      param: command
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 16
                        file: 
                        value: "rpm -ivh /tmp/zh-CN/RPMS/*.rpm"
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::openoffice::service"
  namespace: "cloudeploy::openoffice::service"
  arguments: 
    service_ensure: !ruby/object:Puppet::Parser::AST::Boolean
      line: 2
      file: 
      value: true
    preview_target: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: /opt/openoffice4/preview
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 7
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 6
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 6
          file: 
          value: office_home
        value: !ruby/object:Puppet::Parser::AST::String
          line: 6
          file: 
          value: /opt/openoffice4/program
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 7
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 7
          file: 
          value: directory
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 7
          file: 
          doc: ""
          name: dirname
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 7
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 7
                file: 
                value: preview_target
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 16
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 9
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 9
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 9
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 9
                  file: 
                  type: File
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 9
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 9
                        file: 
                        value: directory
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 14
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 13
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 13
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 13
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Variable
                      line: 10
                      file: 
                      value: directory
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 11
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 11
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 11
                            file: 
                            value: directory
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 12
                          file: 
                          param: recurse
                          value: !ruby/object:Puppet::Parser::AST::Boolean
                            line: 12
                            file: 
                            value: true
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 21
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 19
          file: 
          doc: ""
          type: file
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 19
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 19
                file: 
                title: !ruby/object:Puppet::Parser::AST::Variable
                  line: 16
                  file: 
                  value: preview_target
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 17
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 17
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 17
                        file: 
                        value: present
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 18
                      file: 
                      param: content
                      value: !ruby/object:Puppet::Parser::AST::Function
                        ftype: !ruby/sym rvalue
                        line: 18
                        file: 
                        doc: ""
                        name: template
                        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 18
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 18
                              file: 
                              value: cloudeploy/openoffice/preview.erb
                        children: []
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 21
          file: 
          doc: ""
          type: "cloudeploy::primitive::exec"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 21
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 21
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 21
                  file: 
                  value: "chmod preview"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 21
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 21
                      file: 
                      param: command
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 21
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 21
                            file: 
                            value: "chmod +x "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 21
                            file: 
                            value: preview_target
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 21
                            file: 
                            value: ""
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 28
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 23
          file: 
          operator: or
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 23
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 23
              file: 
              value: service_ensure
            rval: !ruby/object:Puppet::Parser::AST::Name
              line: 23
              file: 
              value: running
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 23
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 23
              file: 
              value: service_ensure
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 23
              file: 
              value: true
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 25
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 24
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 24
                file: 
                value: command
              value: !ruby/object:Puppet::Parser::AST::String
                line: 24
                file: 
                value: start
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 28
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 28
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 27
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 27
                  file: 
                  value: command
                value: !ruby/object:Puppet::Parser::AST::String
                  line: 27
                  file: 
                  value: stop
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 29
        file: 
        doc: ""
        type: "cloudeploy::primitive::exec"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 29
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 29
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 29
                file: 
                value: "start preview"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 29
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 29
                    file: 
                    param: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 29
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 29
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 29
                          file: 
                          value: preview_target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 29
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 29
                          file: 
                          value: command
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 29
                          file: 
                          value: ""
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::openoffice::uninstall"
  namespace: "cloudeploy::openoffice::uninstall"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 5
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 4
        file: 
        doc: ""
        type: "cloudeploy::primitive::exec"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 4
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 4
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 2
                file: 
                value: install_openoffice
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 4
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 3
                    file: 
                    param: command
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 3
                      file: 
                      value: "rpm -qa | grep openoffice |xargs rpm -e"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::param"
  namespace: "cloudeploy::param"
  arguments: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 4
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 3
        file: 
        doc: "activemq::param\n"
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 3
          file: 
          value: activemq_apache_source
        value: !ruby/object:Puppet::Parser::AST::String
          line: 3
          file: 
          value: "http://archive.apache.org/dist/activemq/5.10.0/apache-activemq-5.10.0-bin.tar.gz"
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 4
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 4
          file: 
          value: activemq_home
        value: !ruby/object:Puppet::Parser::AST::String
          line: 4
          file: 
          value: /opt
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 5
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 5
          file: 
          value: activemq_user
        value: !ruby/object:Puppet::Parser::AST::String
          line: 5
          file: 
          value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 6
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 6
          file: 
          value: activemq_group
        value: !ruby/object:Puppet::Parser::AST::String
          line: 6
          file: 
          value: root
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 7
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 7
          file: 
          value: activemq_webConsole
        value: !ruby/object:Puppet::Parser::AST::Boolean
          line: 7
          file: 
          value: true
        children: []
      - !ruby/object:Puppet::Parser::AST::CaseStatement
        line: 16
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 8
          file: 
          value: "::architecture"
        options: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 11
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 11
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 9
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 9
                    file: 
                    value: x86_64
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 9
                    file: 
                    value: amd64
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 10
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 10
                      file: 
                      value: activemq_architecture_flag
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 10
                      file: 
                      value: "64"
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 14
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 12
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 12
                    file: 
                    value: i386
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 14
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 13
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 13
                      file: 
                      value: activemq_architecture_flag
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 13
                      file: 
                      value: "32"
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 15
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 15
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Default
                    line: 15
                    file: 
                    value: default
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 15
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 15
                    file: 
                    doc: ""
                    name: fail
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 15
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 15
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 15
                              file: 
                              value: "Unsupported architecture "
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 15
                              file: 
                              value: "::architecture"
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 15
                              file: 
                              value: ""
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::playframework::install"
  namespace: "cloudeploy::playframework::install"
  arguments: 
    target: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt
    play_source: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "http://downloads.typesafe.com/play/2.2.2/play-2.2.2.zip"
    source_username: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    source_password: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 15
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 14
        file: 
        doc: ""
        type: "cloudeploy::primitive::deploy"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 14
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 14
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 8
                file: 
                value: playFramwork_zip_deploy
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 9
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 9
                    file: 
                    param: source
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 9
                      file: 
                      value: play_source
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 10
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 10
                      file: 
                      value: target
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 11
                    file: 
                    param: username
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 11
                      file: 
                      value: source_username
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 12
                    file: 
                    param: password
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 12
                      file: 
                      value: source_password
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 13
                    file: 
                    param: timeout
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 13
                      file: 
                      value: "600"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 15
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 15
          file: 
          value: playframwork_sh
        value: !ruby/object:Puppet::Parser::AST::String
          line: 15
          file: 
          value: /etc/profile.d/playframework.sh
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 23
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 23
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 23
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 16
                file: 
                value: playframwork_sh
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 17
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 17
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 18
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 19
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 19
                          file: 
                          value: "export PLAYFRAMWORK_HOME="
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 19
                          file: 
                          value: target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 19
                          file: 
                          value: |-
                            /play-2.2.2
                                           export PATH=$PATH:$PLAYFRAMWORK_HOME
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 20
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 20
                      file: 
                      value: root
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 21
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 21
                      file: 
                      value: root
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 22
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 22
                      file: 
                      value: "0644"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::playframework::service"
  namespace: "cloudeploy::playframework"
  arguments: 
    playframwork_home: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/play-2.2.2
    app_port: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "9000"
    app_home: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: ""
    service_ensure: !ruby/object:Puppet::Parser::AST::Boolean
      line: 5
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 8
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 7
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 7
          file: 
          value: service_script_target
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 7
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 7
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 7
              file: 
              value: app_home
            - !ruby/object:Puppet::Parser::AST::String
              line: 7
              file: 
              value: /app/play
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 15
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 11
          file: 
          doc: ""
          type: file
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 11
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 11
                file: 
                title: !ruby/object:Puppet::Parser::AST::Variable
                  line: 8
                  file: 
                  value: service_script_target
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 9
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 9
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 9
                        file: 
                        value: present
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 10
                      file: 
                      param: content
                      value: !ruby/object:Puppet::Parser::AST::Function
                        ftype: !ruby/sym rvalue
                        line: 10
                        file: 
                        doc: ""
                        name: template
                        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 10
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 10
                              file: 
                              value: cloudeploy/playframework/play.erb
                        children: []
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 15
          file: 
          doc: ""
          type: "cloudeploy::primitive::exec"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 15
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 15
                file: 
                title: !ruby/object:Puppet::Parser::AST::Concat
                  line: 13
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 13
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 13
                      file: 
                      value: name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 13
                      file: 
                      value: "_chmod play"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 14
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 14
                      file: 
                      param: command
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 14
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: "chmod +x "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 14
                            file: 
                            value: service_script_target
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: ""
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 22
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 17
          file: 
          operator: or
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 17
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 17
              file: 
              value: service_ensure
            rval: !ruby/object:Puppet::Parser::AST::Name
              line: 17
              file: 
              value: running
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 17
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 17
              file: 
              value: service_ensure
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 17
              file: 
              value: true
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 19
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 18
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 18
                file: 
                value: command
              value: !ruby/object:Puppet::Parser::AST::String
                line: 18
                file: 
                value: start
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 22
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 22
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 21
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 21
                  file: 
                  value: command
                value: !ruby/object:Puppet::Parser::AST::String
                  line: 21
                  file: 
                  value: stop
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 26
        file: 
        doc: ""
        type: "cloudeploy::primitive::exec"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 26
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 26
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 23
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 23
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 23
                    file: 
                    value: name
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 23
                    file: 
                    value: "_startOrStop_"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 23
                    file: 
                    value: app_home
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 23
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 24
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 24
                    file: 
                    param: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 24
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 24
                          file: 
                          value: service_script_target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 24
                          file: 
                          value: command
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 25
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 25
                      file: 
                      type: "Cloudeploy::Primitive::Exec"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 25
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Concat
                            line: 25
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 25
                                file: 
                                value: ""
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 25
                                file: 
                                value: name
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 25
                                file: 
                                value: "_chmod play"
                      children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::playframework::uninstall"
  namespace: "cloudeploy::playframework::uninstall"
  arguments: 
    home: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 9
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 7
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 7
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 7
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 4
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 4
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 4
                    file: 
                    value: home
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 4
                    file: 
                    value: /play-2.2.2
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 5
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 5
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 5
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 6
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 6
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 9
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 9
          file: 
          value: playframwork_sh
        value: !ruby/object:Puppet::Parser::AST::String
          line: 9
          file: 
          value: /etc/profile.d/playframework.sh
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 13
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 13
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 13
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 10
                file: 
                value: playframwork_sh
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 11
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 11
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 12
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 12
                      file: 
                      value: true
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::playframwork::install"
  namespace: "cloudeploy::playframwork::install"
  arguments: 
    target: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt
    play_source: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "http://downloads.typesafe.com/play/2.2.2/play-2.2.2.zip"
    source_username: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    source_password: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 15
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 14
        file: 
        doc: ""
        type: "cloudeploy::primitive::deploy"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 14
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 14
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 8
                file: 
                value: playFramwork_zip_deploy
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 9
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 9
                    file: 
                    param: source
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 9
                      file: 
                      value: play_source
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 10
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 10
                      file: 
                      value: target
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 11
                    file: 
                    param: username
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 11
                      file: 
                      value: source_username
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 12
                    file: 
                    param: password
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 12
                      file: 
                      value: source_password
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 13
                    file: 
                    param: timeout
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 13
                      file: 
                      value: "600"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 15
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 15
          file: 
          value: playframwork_sh
        value: !ruby/object:Puppet::Parser::AST::String
          line: 15
          file: 
          value: /etc/profile.d/playframework.sh
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 23
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 23
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 23
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 16
                file: 
                value: playframwork_sh
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 17
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 17
                      file: 
                      value: present
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 18
                    file: 
                    param: content
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 19
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 19
                          file: 
                          value: "export PLAYFRAMWORK_HOME="
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 19
                          file: 
                          value: target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 19
                          file: 
                          value: |-
                            /play-2.2.2
                                           export PATH=$PATH:$PLAYFRAMWORK_HOME
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 20
                    file: 
                    param: owner
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 20
                      file: 
                      value: root
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 21
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 21
                      file: 
                      value: root
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 22
                    file: 
                    param: mode
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 22
                      file: 
                      value: "0644"
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::playframwork::service"
  namespace: "cloudeploy::playframwork"
  arguments: 
    playframwork_home: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/play-2.2.2
    app_port: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "9000"
    app_home: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: ""
    service_ensure: !ruby/object:Puppet::Parser::AST::Boolean
      line: 5
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 8
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 7
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 7
          file: 
          value: service_script_target
        value: !ruby/object:Puppet::Parser::AST::Concat
          line: 7
          file: 
          value: 
            - !ruby/object:Puppet::Parser::AST::String
              line: 7
              file: 
              value: ""
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 7
              file: 
              value: app_home
            - !ruby/object:Puppet::Parser::AST::String
              line: 7
              file: 
              value: /app/play
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 15
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Resource
          line: 11
          file: 
          doc: ""
          type: file
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 11
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 11
                file: 
                title: !ruby/object:Puppet::Parser::AST::Variable
                  line: 8
                  file: 
                  value: service_script_target
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 9
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 9
                      file: 
                      param: ensure
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 9
                        file: 
                        value: present
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 10
                      file: 
                      param: content
                      value: !ruby/object:Puppet::Parser::AST::Function
                        ftype: !ruby/sym rvalue
                        line: 10
                        file: 
                        doc: ""
                        name: template
                        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                          line: 10
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 10
                              file: 
                              value: cloudeploy/playframework/play.erb
                        children: []
                      children: []
                children: []
          children: []
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 15
          file: 
          doc: ""
          type: "cloudeploy::primitive::exec"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 15
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 15
                file: 
                title: !ruby/object:Puppet::Parser::AST::String
                  line: 13
                  file: 
                  value: "chmod play"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 14
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 14
                      file: 
                      param: command
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 14
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: "chmod +x "
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 14
                            file: 
                            value: service_script_target
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 14
                            file: 
                            value: ""
                      children: []
                children: []
          children: []
        arrow: "->"
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 22
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::BooleanOperator
          line: 17
          file: 
          operator: or
          lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 17
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 17
              file: 
              value: service_ensure
            rval: !ruby/object:Puppet::Parser::AST::Name
              line: 17
              file: 
              value: running
            children: []
          rval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
            line: 17
            file: 
            operator: "=="
            lval: !ruby/object:Puppet::Parser::AST::Variable
              line: 17
              file: 
              value: service_ensure
            rval: !ruby/object:Puppet::Parser::AST::Boolean
              line: 17
              file: 
              value: true
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 19
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 18
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 18
                file: 
                value: command
              value: !ruby/object:Puppet::Parser::AST::String
                line: 18
                file: 
                value: start
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 22
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 22
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 21
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 21
                  file: 
                  value: command
                value: !ruby/object:Puppet::Parser::AST::String
                  line: 21
                  file: 
                  value: stop
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 26
        file: 
        doc: ""
        type: "cloudeploy::primitive::exec"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 26
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 26
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 23
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 23
                    file: 
                    value: "start "
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 23
                    file: 
                    value: app_home
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 23
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 24
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 24
                    file: 
                    param: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 24
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 24
                          file: 
                          value: service_script_target
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 24
                          file: 
                          value: command
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 24
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 25
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 25
                      file: 
                      type: "Cloudeploy::Primitive::Exec"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 25
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 25
                            file: 
                            value: "chmod play"
                      children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::playframwork::uninstall"
  namespace: "cloudeploy::playframwork::uninstall"
  arguments: 
    home: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 9
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 7
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 7
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 7
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 4
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 4
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 4
                    file: 
                    value: home
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 4
                    file: 
                    value: /play-2.2.2
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 5
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 5
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 5
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 6
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 6
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 9
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 9
          file: 
          value: playframwork_sh
        value: !ruby/object:Puppet::Parser::AST::String
          line: 9
          file: 
          value: /etc/profile.d/playframework.sh
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 13
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 13
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 13
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 10
                file: 
                value: playframwork_sh
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 11
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 11
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 12
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 12
                      file: 
                      value: true
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::primitive::deploy"
  namespace: "cloudeploy::primitive"
  arguments: 
    source: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: ""
    target: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: ""
    staging_path: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    username: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
    certificate: !ruby/object:Puppet::Parser::AST::Undef
      line: 7
      file: 
      value: !ruby/sym undef
    password: !ruby/object:Puppet::Parser::AST::Undef
      line: 8
      file: 
      value: !ruby/sym undef
    environment: !ruby/object:Puppet::Parser::AST::Undef
      line: 9
      file: 
      value: !ruby/sym undef
    timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 10
      file: 
      value: !ruby/sym undef
    user: !ruby/object:Puppet::Parser::AST::Undef
      line: 11
      file: 
      value: !ruby/sym undef
    group: !ruby/object:Puppet::Parser::AST::Undef
      line: 12
      file: 
      value: !ruby/sym undef
    creates: !ruby/object:Puppet::Parser::AST::Undef
      line: 13
      file: 
      value: !ruby/sym undef
    onlyif: !ruby/object:Puppet::Parser::AST::Undef
      line: 14
      file: 
      value: !ruby/sym undef
    source_strip_first_dir: !ruby/object:Puppet::Parser::AST::Undef
      line: 15
      file: 
      value: !ruby/sym undef
    force: !ruby/object:Puppet::Parser::AST::Boolean
      line: 16
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 20
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 18
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 20
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 18
              file: 
              value: staging
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 20
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 20
          file: 
          value: filename
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 20
          file: 
          doc: ""
          name: regsubst
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 20
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 20
                file: 
                value: source
              - !ruby/object:Puppet::Parser::AST::String
                line: 20
                file: 
                value: ".*/(.*)"
              - !ruby/object:Puppet::Parser::AST::String
                line: 20
                file: 
                value: "\x5c1"
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 22
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 22
          file: 
          value: arrays
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 22
          file: 
          doc: ""
          name: split
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 22
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 22
                file: 
                value: target
              - !ruby/object:Puppet::Parser::AST::String
                line: 22
                file: 
                value: /
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 23
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 23
          file: 
          value: "_target"
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 23
          file: 
          doc: ""
          name: join
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 23
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 23
                file: 
                value: arrays
              - !ruby/object:Puppet::Parser::AST::String
                line: 23
                file: 
                value: /
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 31
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 25
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 25
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 25
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 25
                  file: 
                  type: File
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 25
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 25
                        file: 
                        value: "_target"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 29
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 28
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 28
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 28
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 26
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 26
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 26
                          file: 
                          value: "_target"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 26
                          file: 
                          value: ""
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 27
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 27
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 27
                            file: 
                            value: directory
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 36
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 31
          file: 
          value: staging_path
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 33
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 32
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 32
                file: 
                value: "_staging_path"
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 32
                file: 
                value: staging_path
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 36
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 36
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 35
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 35
                  file: 
                  value: "_staging_path"
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 35
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 35
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 35
                      file: 
                      value: "::staging::path"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 35
                      file: 
                      value: /
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 35
                      file: 
                      value: module_name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 35
                      file: 
                      value: ""
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 44
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 38
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 38
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 38
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 38
                  file: 
                  type: File
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 38
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 38
                        file: 
                        value: "_staging_path"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 42
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 41
              file: 
              doc: ""
              type: file
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 41
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 41
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 39
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 39
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 39
                          file: 
                          value: "_staging_path"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 39
                          file: 
                          value: ""
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 40
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 40
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Name
                            line: 40
                            file: 
                            value: directory
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 49
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 44
          file: 
          value: source_strip_first_dir
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 46
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 45
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 45
                file: 
                value: "_strip"
              value: !ruby/object:Puppet::Parser::AST::Name
                line: 45
                file: 
                value: "1"
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 61
        file: 
        doc: ""
        type: "cloudeploy::primitive::file"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 61
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 61
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 49
                file: 
                value: filename
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 50
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 50
                    file: 
                    param: source
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 50
                      file: 
                      value: source
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 51
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 51
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 51
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 51
                          file: 
                          value: "_staging_path"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 51
                          file: 
                          value: /
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 51
                          file: 
                          value: filename
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 51
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 52
                    file: 
                    param: username
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 52
                      file: 
                      value: username
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 53
                    file: 
                    param: certificate
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 53
                      file: 
                      value: certificate
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 54
                    file: 
                    param: password
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 54
                      file: 
                      value: password
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 55
                    file: 
                    param: environment
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 55
                      file: 
                      value: environment
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 56
                    file: 
                    param: subdir
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 56
                      file: 
                      value: caller_module_name
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 57
                    file: 
                    param: timeout
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 57
                      file: 
                      value: timeout
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 58
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 58
                      file: 
                      value: force
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 59
                    file: 
                    param: user
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 59
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 60
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 60
                      file: 
                      value: group
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 74
        file: 
        doc: ""
        type: "cloudeploy::primitive::extract"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 74
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 74
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 63
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 63
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 63
                    file: 
                    value: name
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 63
                    file: 
                    value: "-"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 63
                    file: 
                    value: filename
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 63
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 64
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 64
                    file: 
                    param: target
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 64
                      file: 
                      value: target
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 65
                    file: 
                    param: source
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 65
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 65
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 65
                          file: 
                          value: "_staging_path"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 65
                          file: 
                          value: /
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 65
                          file: 
                          value: filename
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 65
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 66
                    file: 
                    param: user
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 66
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 67
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 67
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 68
                    file: 
                    param: environment
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 68
                      file: 
                      value: environment
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 69
                    file: 
                    param: creates
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 69
                      file: 
                      value: creates
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 70
                    file: 
                    param: onlyif
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 70
                      file: 
                      value: onlyif
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 71
                    file: 
                    param: require
                    value: !ruby/object:Puppet::Parser::AST::ResourceReference
                      line: 71
                      file: 
                      type: "Cloudeploy::Primitive::File"
                      title: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 71
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 71
                            file: 
                            value: filename
                      children: []
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 72
                    file: 
                    param: strip
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 72
                      file: 
                      value: "_strip"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 73
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 73
                      file: 
                      value: force
                    children: []
              children: []
        children: []
  doc: "The define resource extracts compressed file to a staging location.\n"
  line: 2
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::primitive::exec"
  namespace: "cloudeploy::primitive"
  arguments: 
    command: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: ""
    timeout: !ruby/object:Puppet::Parser::AST::Name
      line: 3
      file: 
      value: "600"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 13
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::CaseStatement
        line: 12
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 5
          file: 
          value: "::osfamily"
        options: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 8
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 8
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 6
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Default
                    line: 6
                    file: 
                    value: default
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 8
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 7
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 7
                      file: 
                      value: exec_path
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 7
                      file: 
                      value: "/usr/local/bin:/usr/bin:/bin:/sbin"
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 11
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 9
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 9
                    file: 
                    value: Solaris
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 11
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 10
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 10
                      file: 
                      value: exec_path
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 10
                      file: 
                      value: "/usr/local/bin:/usr/bin:/bin:/usr/sfw/bin"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 18
        file: 
        doc: ""
        type: exec
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 18
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 18
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 13
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 13
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 13
                    file: 
                    value: name
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 13
                    file: 
                    value: "_"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 13
                    file: 
                    value: command
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 13
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 14
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 14
                    file: 
                    param: command
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 14
                      file: 
                      value: command
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 15
                    file: 
                    param: timeout
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 15
                      file: 
                      value: timeout
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 16
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 16
                      file: 
                      value: exec_path
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: provider
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 17
                      file: 
                      value: shell
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::primitive::extract"
  namespace: "cloudeploy::primitive"
  arguments: 
    target: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: ""
    source: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: ""
    creates: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    unless: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
    onlyif: !ruby/object:Puppet::Parser::AST::Undef
      line: 7
      file: 
      value: !ruby/sym undef
    user: !ruby/object:Puppet::Parser::AST::Undef
      line: 8
      file: 
      value: !ruby/sym undef
    group: !ruby/object:Puppet::Parser::AST::Undef
      line: 9
      file: 
      value: !ruby/sym undef
    environment: !ruby/object:Puppet::Parser::AST::Undef
      line: 10
      file: 
      value: !ruby/sym undef
    strip: !ruby/object:Puppet::Parser::AST::Undef
      line: 11
      file: 
      value: !ruby/sym undef
    subdir: !ruby/object:Puppet::Parser::AST::Variable
      line: 12
      file: 
      value: caller_module_name
    unzip_options: !ruby/object:Puppet::Parser::AST::Undef
      line: 13
      file: 
      value: !ruby/sym undef
    force: !ruby/object:Puppet::Parser::AST::Boolean
      line: 14
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 17
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 16
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 17
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 16
              file: 
              value: staging
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 21
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 17
          file: 
          value: source
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 19
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 18
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 18
                file: 
                value: source_path
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 18
                file: 
                value: source
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 21
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 21
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 20
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 20
                  file: 
                  value: source_path
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 20
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 20
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 20
                      file: 
                      value: "staging::path"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 20
                      file: 
                      value: /
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 20
                      file: 
                      value: subdir
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 20
                      file: 
                      value: /
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 20
                      file: 
                      value: name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 20
                      file: 
                      value: ""
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 38
        file: 
        doc: "Use user supplied creates path, set default value if creates, unless or\nonlyif is not supplied.\n"
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 25
          file: 
          value: creates
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 27
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 26
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 26
                file: 
                value: creates_path
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 26
                file: 
                value: creates
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 38
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::IfStatement
            line: 38
            file: 
            doc: ""
            test: !ruby/object:Puppet::Parser::AST::Not
              line: 27
              file: 
              value: !ruby/object:Puppet::Parser::AST::BooleanOperator
                line: 27
                file: 
                operator: or
                lval: !ruby/object:Puppet::Parser::AST::Variable
                  line: 27
                  file: 
                  value: unless
                rval: !ruby/object:Puppet::Parser::AST::Variable
                  line: 27
                  file: 
                  value: onlyif
                children: []
              children: []
            statements: !ruby/object:Puppet::Parser::AST::BlockExpression
              line: 34
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::IfStatement
                  line: 34
                  file: 
                  doc: ""
                  test: !ruby/object:Puppet::Parser::AST::MatchOperator
                    line: 28
                    file: 
                    operator: "=~"
                    lval: !ruby/object:Puppet::Parser::AST::Variable
                      line: 28
                      file: 
                      value: name
                    rval: !ruby/object:Puppet::Parser::AST::Regex
                      line: 28
                      file: 
                      value: !ruby/regexp /.tar.gz$/
                    children: []
                  statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                    line: 30
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::VarDef
                        line: 29
                        file: 
                        doc: ""
                        name: !ruby/object:Puppet::Parser::AST::Name
                          line: 29
                          file: 
                          value: folder
                        value: !ruby/object:Puppet::Parser::AST::Function
                          ftype: !ruby/sym rvalue
                          line: 29
                          file: 
                          doc: ""
                          name: staging_parse
                          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 29
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 29
                                file: 
                                value: name
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 29
                                file: 
                                value: basename
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 29
                                file: 
                                value: ".tar.gz"
                          children: []
                        children: []
                  children: []
                  else: !ruby/object:Puppet::Parser::AST::Else
                    line: 34
                    file: 
                    doc: ""
                    statements: !ruby/object:Puppet::Parser::AST::IfStatement
                      line: 34
                      file: 
                      doc: ""
                      test: !ruby/object:Puppet::Parser::AST::MatchOperator
                        line: 30
                        file: 
                        operator: "=~"
                        lval: !ruby/object:Puppet::Parser::AST::Variable
                          line: 30
                          file: 
                          value: name
                        rval: !ruby/object:Puppet::Parser::AST::Regex
                          line: 30
                          file: 
                          value: !ruby/regexp /.tar.bz2$/
                        children: []
                      statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                        line: 32
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::VarDef
                            line: 31
                            file: 
                            doc: ""
                            name: !ruby/object:Puppet::Parser::AST::Name
                              line: 31
                              file: 
                              value: folder
                            value: !ruby/object:Puppet::Parser::AST::Function
                              ftype: !ruby/sym rvalue
                              line: 31
                              file: 
                              doc: ""
                              name: staging_parse
                              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                                line: 31
                                file: 
                                children: 
                                  - !ruby/object:Puppet::Parser::AST::Variable
                                    line: 31
                                    file: 
                                    value: name
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 31
                                    file: 
                                    value: basename
                                  - !ruby/object:Puppet::Parser::AST::String
                                    line: 31
                                    file: 
                                    value: ".tar.bz2"
                              children: []
                            children: []
                      children: []
                      else: !ruby/object:Puppet::Parser::AST::Else
                        line: 34
                        file: 
                        doc: ""
                        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                          line: 34
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::VarDef
                              line: 33
                              file: 
                              doc: ""
                              name: !ruby/object:Puppet::Parser::AST::Name
                                line: 33
                                file: 
                                value: folder
                              value: !ruby/object:Puppet::Parser::AST::Function
                                ftype: !ruby/sym rvalue
                                line: 33
                                file: 
                                doc: ""
                                name: staging_parse
                                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                                  line: 33
                                  file: 
                                  children: 
                                    - !ruby/object:Puppet::Parser::AST::Variable
                                      line: 33
                                      file: 
                                      value: name
                                    - !ruby/object:Puppet::Parser::AST::String
                                      line: 33
                                      file: 
                                      value: basename
                                children: []
                              children: []
                        children: []
                    children: []
                - !ruby/object:Puppet::Parser::AST::VarDef
                  line: 35
                  file: 
                  doc: ""
                  name: !ruby/object:Puppet::Parser::AST::Name
                    line: 35
                    file: 
                    value: creates_path
                  value: !ruby/object:Puppet::Parser::AST::Concat
                    line: 35
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 35
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 35
                        file: 
                        value: target
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 35
                        file: 
                        value: /
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 35
                        file: 
                        value: folder
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 35
                        file: 
                        value: ""
                  children: []
            children: []
            else: !ruby/object:Puppet::Parser::AST::Else
              line: 38
              file: 
              doc: ""
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 38
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 37
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 37
                      file: 
                      value: creates_path
                    value: !ruby/object:Puppet::Parser::AST::Undef
                      line: 37
                      file: 
                      value: !ruby/sym undef
                    children: []
              children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 47
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 40
          file: 
          value: !ruby/object:Puppet::Parser::AST::Variable
            line: 40
            file: 
            value: force
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 44
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceDefaults
              line: 43
              file: 
              doc: ""
              type: Exec
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 42
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: creates
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 42
                      file: 
                      value: creates_path
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 44
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 44
                file: 
                value: "_unzip_options"
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 44
                file: 
                value: unzip_options
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 47
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 47
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 46
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 46
                  file: 
                  value: "_unzip_options"
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 46
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 46
                      file: 
                      value: "-o "
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 46
                      file: 
                      value: unzip_options
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 46
                      file: 
                      value: ""
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 70
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 49
          file: 
          doc: ""
          name: scope_defaults
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 49
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::String
                line: 49
                file: 
                value: Exec
              - !ruby/object:Puppet::Parser::AST::String
                line: 49
                file: 
                value: path
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 59
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceDefaults
              line: 58
              file: 
              doc: ""
              type: Exec
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 51
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 51
                    file: 
                    param: cwd
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 51
                      file: 
                      value: target
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 52
                    file: 
                    param: user
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 52
                      file: 
                      value: user
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 53
                    file: 
                    param: group
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 53
                      file: 
                      value: group
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 54
                    file: 
                    param: environment
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 54
                      file: 
                      value: environment
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 55
                    file: 
                    param: unless
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 55
                      file: 
                      value: unless
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 56
                    file: 
                    param: onlyif
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 56
                      file: 
                      value: onlyif
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 57
                    file: 
                    param: logoutput
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 57
                      file: 
                      value: on_failure
                    children: []
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 70
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 70
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceDefaults
                line: 69
                file: 
                doc: ""
                type: Exec
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 61
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 61
                      file: 
                      param: path
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 61
                        file: 
                        value: "::path"
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 62
                      file: 
                      param: cwd
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 62
                        file: 
                        value: target
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 63
                      file: 
                      param: user
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 63
                        file: 
                        value: user
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 64
                      file: 
                      param: group
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 64
                        file: 
                        value: group
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 65
                      file: 
                      param: environment
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 65
                        file: 
                        value: environment
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 66
                      file: 
                      param: unless
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 66
                        file: 
                        value: unless
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 67
                      file: 
                      param: onlyif
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 67
                        file: 
                        value: onlyif
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 68
                      file: 
                      param: logoutput
                      value: !ruby/object:Puppet::Parser::AST::Name
                        line: 68
                        file: 
                        value: on_failure
                      children: []
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 81
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 72
          file: 
          value: strip
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 78
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::IfStatement
              line: 78
              file: 
              doc: ""
              test: !ruby/object:Puppet::Parser::AST::BooleanOperator
                line: 73
                file: 
                operator: or
                lval: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                  line: 73
                  file: 
                  operator: "=="
                  lval: !ruby/object:Puppet::Parser::AST::Variable
                    line: 73
                    file: 
                    value: "::osfamily"
                  rval: !ruby/object:Puppet::Parser::AST::String
                    line: 73
                    file: 
                    value: Solaris
                  children: []
                rval: !ruby/object:Puppet::Parser::AST::MatchOperator
                  line: 73
                  file: 
                  operator: "!~"
                  lval: !ruby/object:Puppet::Parser::AST::Variable
                    line: 73
                    file: 
                    value: name
                  rval: !ruby/object:Puppet::Parser::AST::Regex
                    line: 73
                    file: 
                    value: !ruby/regexp /(.tar|.tgz|.tar.gz|.tar.bz2)$/
                  children: []
                children: []
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 75
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 74
                    file: 
                    doc: ""
                    name: warning
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 74
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 74
                          file: 
                          value: "strip is only supported with GNU tar, ignoring the parameter"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 75
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 75
                      file: 
                      value: strip_opt
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 75
                      file: 
                      value: ""
                    children: []
              children: []
              else: !ruby/object:Puppet::Parser::AST::Else
                line: 78
                file: 
                doc: ""
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 78
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::VarDef
                      line: 77
                      file: 
                      doc: ""
                      name: !ruby/object:Puppet::Parser::AST::Name
                        line: 77
                        file: 
                        value: strip_opt
                      value: !ruby/object:Puppet::Parser::AST::Concat
                        line: 77
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 77
                            file: 
                            value: " --strip="
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 77
                            file: 
                            value: strip
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 77
                            file: 
                            value: ""
                      children: []
                children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 81
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 81
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 80
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 80
                  file: 
                  value: strip_opt
                value: !ruby/object:Puppet::Parser::AST::String
                  line: 80
                  file: 
                  value: ""
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::CaseStatement
        line: 111
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 83
          file: 
          value: name
        options: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 86
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 86
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 84
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 84
                    file: 
                    value: !ruby/regexp /.tar$/
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 86
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 85
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 85
                      file: 
                      value: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 85
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 85
                          file: 
                          value: "tar xf "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 85
                          file: 
                          value: source_path
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 85
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 85
                          file: 
                          value: strip_opt
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 85
                          file: 
                          value: ""
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 94
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 88
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 88
                    file: 
                    value: !ruby/regexp /(.tgz|.tar.gz)$/
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 93
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::IfStatement
                    line: 93
                    file: 
                    doc: ""
                    test: !ruby/object:Puppet::Parser::AST::ComparisonOperator
                      line: 89
                      file: 
                      operator: "=="
                      lval: !ruby/object:Puppet::Parser::AST::Variable
                        line: 89
                        file: 
                        value: "::osfamily"
                      rval: !ruby/object:Puppet::Parser::AST::String
                        line: 89
                        file: 
                        value: Solaris
                      children: []
                    statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                      line: 91
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 90
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 90
                            file: 
                            value: command
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 90
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 90
                                file: 
                                value: "gunzip -dc < "
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 90
                                file: 
                                value: source_path
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 90
                                file: 
                                value: " | tar xf - "
                          children: []
                    children: []
                    else: !ruby/object:Puppet::Parser::AST::Else
                      line: 93
                      file: 
                      doc: ""
                      statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                        line: 93
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::VarDef
                            line: 92
                            file: 
                            doc: ""
                            name: !ruby/object:Puppet::Parser::AST::Name
                              line: 92
                              file: 
                              value: command
                            value: !ruby/object:Puppet::Parser::AST::Concat
                              line: 92
                              file: 
                              value: 
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 92
                                  file: 
                                  value: "tar xzf "
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 92
                                  file: 
                                  value: source_path
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 92
                                  file: 
                                  value: ""
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 92
                                  file: 
                                  value: strip_opt
                                - !ruby/object:Puppet::Parser::AST::String
                                  line: 92
                                  file: 
                                  value: ""
                            children: []
                      children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 98
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 96
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 96
                    file: 
                    value: !ruby/regexp /.tar.bz2$/
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 98
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 97
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 97
                      file: 
                      value: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 97
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 97
                          file: 
                          value: "tar xjf "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 97
                          file: 
                          value: source_path
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 97
                          file: 
                          value: ""
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 97
                          file: 
                          value: strip_opt
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 97
                          file: 
                          value: ""
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 102
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 100
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 100
                    file: 
                    value: !ruby/regexp /.zip$/
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 102
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 101
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 101
                      file: 
                      value: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 101
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 101
                          file: 
                          value: "unzip "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 101
                          file: 
                          value: "_unzip_options"
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 101
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 101
                          file: 
                          value: source_path
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 101
                          file: 
                          value: ""
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 106
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 104
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 104
                    file: 
                    value: !ruby/regexp /(.war|.jar)$/
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 106
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 105
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 105
                      file: 
                      value: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 105
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 105
                          file: 
                          value: "jar xf "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 105
                          file: 
                          value: source_path
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 105
                          file: 
                          value: ""
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 110
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 108
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Default
                    line: 108
                    file: 
                    value: default
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 110
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 109
                    file: 
                    doc: ""
                    name: fail
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 109
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 109
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 109
                              file: 
                              value: "staging::extract: unsupported file format "
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 109
                              file: 
                              value: name
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 109
                              file: 
                              value: "."
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 115
        file: 
        doc: ""
        type: exec
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 115
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 115
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 113
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 113
                    file: 
                    value: "extract "
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 113
                    file: 
                    value: name
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 113
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 114
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 114
                    file: 
                    param: command
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 114
                      file: 
                      value: command
                    children: []
              children: []
        children: []
  doc: "Define resource to extract files from staging directories to target directories.\n"
  line: 2
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::primitive::file"
  namespace: "cloudeploy::primitive"
  arguments: 
    source: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: ""
    target: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: ""
    username: !ruby/object:Puppet::Parser::AST::Undef
      line: 5
      file: 
      value: !ruby/sym undef
    certificate: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
    password: !ruby/object:Puppet::Parser::AST::Undef
      line: 7
      file: 
      value: !ruby/sym undef
    environment: !ruby/object:Puppet::Parser::AST::Undef
      line: 8
      file: 
      value: !ruby/sym undef
    timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 9
      file: 
      value: !ruby/sym undef
    curl_option: !ruby/object:Puppet::Parser::AST::Undef
      line: 10
      file: 
      value: !ruby/sym undef
    wget_option: !ruby/object:Puppet::Parser::AST::Undef
      line: 11
      file: 
      value: !ruby/sym undef
    subdir: !ruby/object:Puppet::Parser::AST::String
      line: 12
      file: 
      value: cloudeploy
    user: !ruby/object:Puppet::Parser::AST::Undef
      line: 13
      file: 
      value: !ruby/sym undef
    group: !ruby/object:Puppet::Parser::AST::Undef
      line: 14
      file: 
      value: !ruby/sym undef
    force: !ruby/object:Puppet::Parser::AST::Boolean
      line: 15
      file: 
      value: true
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 22
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 20
        file: 
        doc: ""
        type: notify
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 20
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 20
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 18
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 18
                    file: 
                    value: "debug cloudeploy::primitive::file::target value: "
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 18
                    file: 
                    value: target
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 18
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 19
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 19
                    file: 
                    param: loglevel
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 19
                      file: 
                      value: debug
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 22
        file: 
        doc: ""
        name: include
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 24
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Name
              line: 22
              file: 
              value: staging
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 24
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 24
          file: 
          value: quoted_source
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 24
          file: 
          doc: ""
          name: shellquote
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 24
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 24
                file: 
                value: source
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 38
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 26
          file: 
          value: target
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 28
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 27
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 27
                file: 
                value: target_file
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 27
                file: 
                value: target
              children: []
            - !ruby/object:Puppet::Parser::AST::VarDef
              line: 28
              file: 
              doc: ""
              name: !ruby/object:Puppet::Parser::AST::Name
                line: 28
                file: 
                value: staging_dir
              value: !ruby/object:Puppet::Parser::AST::Function
                ftype: !ruby/sym rvalue
                line: 28
                file: 
                doc: ""
                name: staging_parse
                arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 28
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 28
                      file: 
                      value: target
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 28
                      file: 
                      value: parent
                children: []
              children: []
        children: []
        else: !ruby/object:Puppet::Parser::AST::Else
          line: 38
          file: 
          doc: ""
          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
            line: 31
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 30
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 30
                  file: 
                  value: staging_dir
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 30
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 30
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 30
                      file: 
                      value: "staging::path"
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 30
                      file: 
                      value: /
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 30
                      file: 
                      value: subdir
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 30
                      file: 
                      value: ""
                children: []
              - !ruby/object:Puppet::Parser::AST::VarDef
                line: 31
                file: 
                doc: ""
                name: !ruby/object:Puppet::Parser::AST::Name
                  line: 31
                  file: 
                  value: target_file
                value: !ruby/object:Puppet::Parser::AST::Concat
                  line: 31
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 31
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 31
                      file: 
                      value: staging_dir
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 31
                      file: 
                      value: /
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 31
                      file: 
                      value: name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 31
                      file: 
                      value: ""
                children: []
              - !ruby/object:Puppet::Parser::AST::IfStatement
                line: 38
                file: 
                doc: ""
                test: !ruby/object:Puppet::Parser::AST::Not
                  line: 33
                  file: 
                  value: !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym rvalue
                    line: 33
                    file: 
                    doc: ""
                    name: defined
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 33
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceReference
                          line: 33
                          file: 
                          type: File
                          title: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 33
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 33
                                file: 
                                value: staging_dir
                          children: []
                    children: []
                  children: []
                statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                  line: 37
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Resource
                      line: 36
                      file: 
                      doc: ""
                      type: "::file"
                      instances: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 36
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceInstance
                            line: 36
                            file: 
                            title: !ruby/object:Puppet::Parser::AST::Variable
                              line: 34
                              file: 
                              value: staging_dir
                            parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 35
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::ResourceParam
                                  line: 35
                                  file: 
                                  param: ensure
                                  value: !ruby/object:Puppet::Parser::AST::Name
                                    line: 35
                                    file: 
                                    value: directory
                                  children: []
                            children: []
                      children: []
                children: []
          children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 46
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 40
          file: 
          value: !ruby/object:Puppet::Parser::AST::Variable
            line: 40
            file: 
            value: force
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 44
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceDefaults
              line: 43
              file: 
              doc: ""
              type: Exec
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 42
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: creates
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 42
                      file: 
                      value: target_file
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::ResourceDefaults
        line: 54
        file: 
        doc: ""
        type: Exec
        parameters: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 47
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 47
              file: 
              param: path
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 47
                file: 
                value: "staging::exec_path"
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 48
              file: 
              param: environment
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 48
                file: 
                value: environment
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 49
              file: 
              param: cwd
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 49
                file: 
                value: staging_dir
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 50
              file: 
              param: timeout
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 50
                file: 
                value: timeout
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 51
              file: 
              param: logoutput
              value: !ruby/object:Puppet::Parser::AST::Name
                line: 51
                file: 
                value: on_failure
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 52
              file: 
              param: user
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 52
                file: 
                value: user
              children: []
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 53
              file: 
              param: group
              value: !ruby/object:Puppet::Parser::AST::Variable
                line: 53
                file: 
                value: group
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::CaseStatement
        line: 77
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 56
          file: 
          value: "::staging_http_get"
        options: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 63
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 63
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 57
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 57
                    file: 
                    value: curl
                  - !ruby/object:Puppet::Parser::AST::Default
                    line: 57
                    file: 
                    value: default
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 59
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 58
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 58
                      file: 
                      value: http_get
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 58
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 58
                          file: 
                          value: "curl "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 58
                          file: 
                          value: curl_option
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 58
                          file: 
                          value: " -f -L -o "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 58
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 58
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 58
                          file: 
                          value: quoted_source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 58
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 59
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 59
                      file: 
                      value: http_get_passwd
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 59
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 59
                          file: 
                          value: "curl "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 59
                          file: 
                          value: curl_option
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 59
                          file: 
                          value: " -f -L -o "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 59
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 59
                          file: 
                          value: " -u "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 59
                          file: 
                          value: username
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 59
                          file: 
                          value: ":"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 59
                          file: 
                          value: password
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 59
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 59
                          file: 
                          value: quoted_source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 59
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 60
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 60
                      file: 
                      value: http_get_cert
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 60
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 60
                          file: 
                          value: "curl "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 60
                          file: 
                          value: curl_option
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 60
                          file: 
                          value: " -f -L -o "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 60
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 60
                          file: 
                          value: " -E "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 60
                          file: 
                          value: certificate
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 60
                          file: 
                          value: ":"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 60
                          file: 
                          value: password
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 60
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 60
                          file: 
                          value: quoted_source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 60
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 61
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 61
                      file: 
                      value: ftp_get
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 61
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 61
                          file: 
                          value: "curl "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 61
                          file: 
                          value: curl_option
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 61
                          file: 
                          value: " -o "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 61
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 61
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 61
                          file: 
                          value: quoted_source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 61
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 62
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 62
                      file: 
                      value: ftp_get_passwd
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 62
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 62
                          file: 
                          value: "curl "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 62
                          file: 
                          value: curl_option
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 62
                          file: 
                          value: " -o "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 62
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 62
                          file: 
                          value: " -u "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 62
                          file: 
                          value: username
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 62
                          file: 
                          value: ":"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 62
                          file: 
                          value: password
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 62
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 62
                          file: 
                          value: quoted_source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 62
                          file: 
                          value: ""
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 70
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 64
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 64
                    file: 
                    value: wget
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 66
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 65
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 65
                      file: 
                      value: http_get
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 65
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 65
                          file: 
                          value: "wget "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 65
                          file: 
                          value: wget_option
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 65
                          file: 
                          value: " -O "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 65
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 65
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 65
                          file: 
                          value: quoted_source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 65
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 66
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 66
                      file: 
                      value: http_get_passwd
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 66
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 66
                          file: 
                          value: "wget "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 66
                          file: 
                          value: wget_option
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 66
                          file: 
                          value: " -O "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 66
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 66
                          file: 
                          value: " --user="
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 66
                          file: 
                          value: username
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 66
                          file: 
                          value: " --password="
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 66
                          file: 
                          value: password
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 66
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 66
                          file: 
                          value: quoted_source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 66
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 67
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 67
                      file: 
                      value: http_get_cert
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 67
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 67
                          file: 
                          value: "wget "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 67
                          file: 
                          value: wget_option
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 67
                          file: 
                          value: " -O "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 67
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 67
                          file: 
                          value: " --user="
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 67
                          file: 
                          value: username
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 67
                          file: 
                          value: " --certificate="
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 67
                          file: 
                          value: certificate
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 67
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 67
                          file: 
                          value: quoted_source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 67
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 68
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 68
                      file: 
                      value: ftp_get
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 68
                      file: 
                      value: http_get
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 69
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 69
                      file: 
                      value: ftp_get_passwd
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 69
                      file: 
                      value: http_get_passwd
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 76
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 71
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 71
                    file: 
                    value: powershell
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 73
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 72
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 72
                      file: 
                      value: http_get
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 72
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 72
                          file: 
                          value: "powershell.exe -Command \x22$wc = New-Object System.Net.WebClient;$wc.DownloadFile('"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 72
                          file: 
                          value: source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 72
                          file: 
                          value: "','"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 72
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 72
                          file: 
                          value: "')\x22"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 73
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 73
                      file: 
                      value: ftp_get
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 73
                      file: 
                      value: http_get
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 74
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 74
                      file: 
                      value: http_get_password
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 74
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 74
                          file: 
                          value: "powershell.exe -Command \x22$wc = (New-Object System.Net.WebClient);$wc.Credentials = New-Object System.Net.NetworkCredential('"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 74
                          file: 
                          value: username
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 74
                          file: 
                          value: "','"
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 74
                          file: 
                          value: password
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 74
                          file: 
                          value: "');$wc.DownloadFile("
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 74
                          file: 
                          value: source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 74
                          file: 
                          value: ","
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 74
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 74
                          file: 
                          value: ")\x22"
                    children: []
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 75
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 75
                      file: 
                      value: ftp_get_password
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 75
                      file: 
                      value: http_get_password
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::CaseStatement
        line: 123
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Variable
          line: 79
          file: 
          value: source
        options: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 85
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 85
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 80
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 80
                    file: 
                    value: !ruby/regexp /^\//
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 85
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 84
                    file: 
                    doc: ""
                    type: file
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 84
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 84
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 81
                            file: 
                            value: target_file
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 82
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 82
                                file: 
                                param: source
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 82
                                  file: 
                                  value: source
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 83
                                file: 
                                param: replace
                                value: !ruby/object:Puppet::Parser::AST::Boolean
                                  line: 83
                                  file: 
                                  value: false
                                children: []
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 91
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 86
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 86
                    file: 
                    value: !ruby/regexp /^puppet:\/\//
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 91
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 90
                    file: 
                    doc: ""
                    type: file
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 90
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 90
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 87
                            file: 
                            value: target_file
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 88
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 88
                                file: 
                                param: source
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 88
                                  file: 
                                  value: source
                                children: []
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 89
                                file: 
                                param: replace
                                value: !ruby/object:Puppet::Parser::AST::Boolean
                                  line: 89
                                  file: 
                                  value: false
                                children: []
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 98
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 92
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 92
                    file: 
                    value: !ruby/regexp /^http:\/\//
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 94
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::IfStatement
                    line: 94
                    file: 
                    doc: ""
                    test: !ruby/object:Puppet::Parser::AST::Variable
                      line: 93
                      file: 
                      value: username
                    statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                      line: 93
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 93
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 93
                            file: 
                            value: command
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 93
                            file: 
                            value: http_get_passwd
                          children: []
                    children: []
                    else: !ruby/object:Puppet::Parser::AST::Else
                      line: 94
                      file: 
                      doc: ""
                      statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                        line: 94
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::VarDef
                            line: 94
                            file: 
                            doc: ""
                            name: !ruby/object:Puppet::Parser::AST::Name
                              line: 94
                              file: 
                              value: command
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 94
                              file: 
                              value: http_get
                            children: []
                      children: []
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 97
                    file: 
                    doc: ""
                    type: exec
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 97
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 97
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 95
                            file: 
                            value: target_file
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 96
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 96
                                file: 
                                param: command
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 96
                                  file: 
                                  value: command
                                children: []
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 106
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 99
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 99
                    file: 
                    value: !ruby/regexp /^https:\/\//
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 102
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::IfStatement
                    line: 102
                    file: 
                    doc: ""
                    test: !ruby/object:Puppet::Parser::AST::Variable
                      line: 100
                      file: 
                      value: username
                    statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                      line: 100
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 100
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 100
                            file: 
                            value: command
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 100
                            file: 
                            value: http_get_passwd
                          children: []
                    children: []
                    else: !ruby/object:Puppet::Parser::AST::Else
                      line: 102
                      file: 
                      doc: ""
                      statements: !ruby/object:Puppet::Parser::AST::IfStatement
                        line: 102
                        file: 
                        doc: ""
                        test: !ruby/object:Puppet::Parser::AST::Variable
                          line: 101
                          file: 
                          value: certificate
                        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                          line: 101
                          file: 
                          children: 
                            - !ruby/object:Puppet::Parser::AST::VarDef
                              line: 101
                              file: 
                              doc: ""
                              name: !ruby/object:Puppet::Parser::AST::Name
                                line: 101
                                file: 
                                value: command
                              value: !ruby/object:Puppet::Parser::AST::Variable
                                line: 101
                                file: 
                                value: http_get_cert
                              children: []
                        children: []
                        else: !ruby/object:Puppet::Parser::AST::Else
                          line: 102
                          file: 
                          doc: ""
                          statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                            line: 102
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::VarDef
                                line: 102
                                file: 
                                doc: ""
                                name: !ruby/object:Puppet::Parser::AST::Name
                                  line: 102
                                  file: 
                                  value: command
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 102
                                  file: 
                                  value: http_get
                                children: []
                          children: []
                      children: []
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 105
                    file: 
                    doc: ""
                    type: exec
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 105
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 105
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 103
                            file: 
                            value: target_file
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 104
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 104
                                file: 
                                param: command
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 104
                                  file: 
                                  value: command
                                children: []
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 113
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 107
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 107
                    file: 
                    value: !ruby/regexp /^ftp:\/\//
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 109
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::IfStatement
                    line: 109
                    file: 
                    doc: ""
                    test: !ruby/object:Puppet::Parser::AST::Variable
                      line: 108
                      file: 
                      value: username
                    statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                      line: 108
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::VarDef
                          line: 108
                          file: 
                          doc: ""
                          name: !ruby/object:Puppet::Parser::AST::Name
                            line: 108
                            file: 
                            value: command
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 108
                            file: 
                            value: ftp_get_passwd
                          children: []
                    children: []
                    else: !ruby/object:Puppet::Parser::AST::Else
                      line: 109
                      file: 
                      doc: ""
                      statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                        line: 109
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::VarDef
                            line: 109
                            file: 
                            doc: ""
                            name: !ruby/object:Puppet::Parser::AST::Name
                              line: 109
                              file: 
                              value: command
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 109
                              file: 
                              value: ftp_get
                            children: []
                      children: []
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 112
                    file: 
                    doc: ""
                    type: exec
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 112
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 112
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 110
                            file: 
                            value: target_file
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 111
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 111
                                file: 
                                param: command
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 111
                                  file: 
                                  value: command
                                children: []
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 119
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 114
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Regex
                    line: 114
                    file: 
                    value: !ruby/regexp /^s3:\/\//
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 116
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::VarDef
                    line: 115
                    file: 
                    doc: ""
                    name: !ruby/object:Puppet::Parser::AST::Name
                      line: 115
                      file: 
                      value: command
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 115
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 115
                          file: 
                          value: "aws s3 cp "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 115
                          file: 
                          value: source
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 115
                          file: 
                          value: " "
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 115
                          file: 
                          value: target_file
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 115
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::Resource
                    line: 118
                    file: 
                    doc: ""
                    type: exec
                    instances: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 118
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceInstance
                          line: 118
                          file: 
                          title: !ruby/object:Puppet::Parser::AST::Variable
                            line: 116
                            file: 
                            value: target_file
                          parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                            line: 117
                            file: 
                            children: 
                              - !ruby/object:Puppet::Parser::AST::ResourceParam
                                line: 117
                                file: 
                                param: command
                                value: !ruby/object:Puppet::Parser::AST::Variable
                                  line: 117
                                  file: 
                                  value: command
                                children: []
                          children: []
                    children: []
              children: []
            - !ruby/object:Puppet::Parser::AST::CaseOpt
              line: 122
              file: 
              value: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 120
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Default
                    line: 120
                    file: 
                    value: default
              statements: !ruby/object:Puppet::Parser::AST::BlockExpression
                line: 122
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Function
                    ftype: !ruby/sym statement
                    line: 121
                    file: 
                    doc: ""
                    name: fail
                    arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 121
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::Concat
                          line: 121
                          file: 
                          value: 
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 121
                              file: 
                              value: "staging::file: do not recognize source "
                            - !ruby/object:Puppet::Parser::AST::Variable
                              line: 121
                              file: 
                              value: source
                            - !ruby/object:Puppet::Parser::AST::String
                              line: 121
                              file: 
                              value: "."
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym hostclass
  name: "cloudeploy::redis::install"
  namespace: "cloudeploy::redis::install"
  arguments: 
    redis_src_dir: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/redis-src
    redis_bin_dir: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: /opt/redis
    redis_user: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: root
    redis_port: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "6379"
    redis_bind_address: !ruby/object:Puppet::Parser::AST::Variable
      line: 6
      file: 
      value: "::ipaddress"
    redis_max_memory: !ruby/object:Puppet::Parser::AST::String
      line: 7
      file: 
      value: "64mb"
    redis_password: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "123456"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 23
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 23
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 10
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 10
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 10
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 10
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 10
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 10
                        file: 
                        value: redis
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 21
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 20
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 11
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 11
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 11
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 11
                        file: 
                        value: "cloudeploy::redis::install::start"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 11
                        file: 
                        children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 20
                file: 
                doc: ""
                type: class
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 20
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 20
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 12
                        file: 
                        value: redis
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 13
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 13
                            file: 
                            param: redis_src_dir
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 13
                              file: 
                              value: redis_src_dir
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 14
                            file: 
                            param: redis_bin_dir
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 14
                              file: 
                              value: redis_bin_dir
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 15
                            file: 
                            param: redis_user
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 15
                              file: 
                              value: redis_user
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 16
                            file: 
                            param: redis_port
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 16
                              file: 
                              value: redis_port
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 17
                            file: 
                            param: redis_bind_address
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 17
                              file: 
                              value: redis_bind_address
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 18
                            file: 
                            param: redis_max_memory
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 18
                              file: 
                              value: redis_max_memory
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 19
                            file: 
                            param: redis_password
                            value: !ruby/object:Puppet::Parser::AST::Variable
                              line: 19
                              file: 
                              value: redis_password
                            children: []
                      children: []
                children: []
              arrow: "->"
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::redis::service"
  namespace: "cloudeploy::redis"
  arguments: 
    redis_port: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: "6379"
    ensure: !ruby/object:Puppet::Parser::AST::Name
      line: 3
      file: 
      value: running
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 11
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 11
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 5
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 5
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 5
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 5
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 5
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 5
                        file: 
                        value: redis
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 9
              file: 
              doc: ""
              type: service
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 9
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 9
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 6
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 6
                          file: 
                          value: redis-
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 6
                          file: 
                          value: redis_port
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 6
                          file: 
                          value: ""
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 7
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 7
                          file: 
                          param: ensure
                          value: !ruby/object:Puppet::Parser::AST::Variable
                            line: 7
                            file: 
                            value: ensure
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 8
                          file: 
                          param: name
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 8
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 8
                                file: 
                                value: redis_
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 8
                                file: 
                                value: redis_port
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 8
                                file: 
                                value: ""
                          children: []
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::redis::uninstall"
  namespace: "cloudeploy::redis"
  arguments: 
    redis_port: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "6379"
    redis_src_dir: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: /opt/redis-src
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 10
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 9
        file: 
        doc: ""
        type: service
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 9
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 9
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 6
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 6
                    file: 
                    value: redis-
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 6
                    file: 
                    value: redis_port
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 6
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 7
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 7
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 7
                      file: 
                      value: stopped
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 8
                    file: 
                    param: name
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 8
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 8
                          file: 
                          value: redis_
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 8
                          file: 
                          value: redis_port
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 8
                          file: 
                          value: ""
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::ResourceDefaults
        line: 12
        file: 
        doc: ""
        type: File
        parameters: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 11
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceParam
              line: 11
              file: 
              param: require
              value: !ruby/object:Puppet::Parser::AST::ResourceReference
                line: 11
                file: 
                type: Service
                title: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 11
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::Concat
                      line: 11
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 11
                          file: 
                          value: redis-
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 11
                          file: 
                          value: redis_port
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 11
                          file: 
                          value: ""
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 18
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 18
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 18
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 14
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 14
                    file: 
                    value: redis-lib-port-
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 14
                    file: 
                    value: redis_port
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 14
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 15
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 15
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 15
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 16
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 16
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 16
                          file: 
                          value: /var/lib/redis/
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 16
                          file: 
                          value: redis_port
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 16
                          file: 
                          value: ""
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 17
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 23
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 23
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 23
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 20
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 20
                    file: 
                    value: redis-init-
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 20
                    file: 
                    value: redis_port
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 20
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 21
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 21
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 21
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 22
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 22
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 22
                          file: 
                          value: /etc/init.d/redis_
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 22
                          file: 
                          value: redis_port
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 22
                          file: 
                          value: ""
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 28
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 28
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 28
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 25
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 25
                    file: 
                    value: redis_port_
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 25
                    file: 
                    value: redis_port
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 25
                    file: 
                    value: ".conf"
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 26
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 26
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 26
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 27
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::Concat
                      line: 27
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 27
                          file: 
                          value: /etc/redis/
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 27
                          file: 
                          value: redis_port
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 27
                          file: 
                          value: ".conf"
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 34
        file: 
        doc: "delete related file or link\n"
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 34
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 34
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 31
                file: 
                value: redis_src_dir
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 32
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 32
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 32
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 33
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 33
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 39
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 39
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 39
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 36
                file: 
                value: /etc/redis
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 37
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 37
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 37
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 38
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 38
                      file: 
                      value: true
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 45
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 45
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 45
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 41
                file: 
                value: redis-lib
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 42
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 42
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 42
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 43
                    file: 
                    param: force
                    value: !ruby/object:Puppet::Parser::AST::Boolean
                      line: 43
                      file: 
                      value: true
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 44
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 44
                      file: 
                      value: /var/lib/redis
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 50
        file: 
        doc: ""
        type: file
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 50
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 50
              file: 
              title: !ruby/object:Puppet::Parser::AST::String
                line: 47
                file: 
                value: redis-cli-link
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 48
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 48
                    file: 
                    param: ensure
                    value: !ruby/object:Puppet::Parser::AST::Name
                      line: 48
                      file: 
                      value: absent
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 49
                    file: 
                    param: path
                    value: !ruby/object:Puppet::Parser::AST::String
                      line: 49
                      file: 
                      value: /usr/local/bin/redis-cli
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::default::file::deploy"
  namespace: "cloudeploy::default::file"
  arguments: 
    source: !ruby/object:Puppet::Parser::AST::String
      line: 1
      file: 
      value: ""
    target: !ruby/object:Puppet::Parser::AST::String
      line: 1
      file: 
      value: ""
    force: !ruby/object:Puppet::Parser::AST::Boolean
      line: 1
      file: 
      value: true
    timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 1
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 21
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 2
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 2
          file: 
          value: vfile_upload_extract_node_202748122
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 19
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::Concat
              line: 3
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 3
                  file: 
                  value: file_upload_extract_node_
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 3
                  file: 
                  value: name
                - !ruby/object:Puppet::Parser::AST::String
                  line: 3
                  file: 
                  value: ""
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 18
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 4
                  file: 
                  value: source_strip_first_dir
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 4
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 5
                  file: 
                  value: onlyif
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 5
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 6
                  file: 
                  value: creates
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 6
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 7
                  file: 
                  value: password
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 7
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 8
                  file: 
                  value: username
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 8
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 9
                  file: 
                  value: certificate
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 9
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 10
                  file: 
                  value: environment
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 10
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 11
                  file: 
                  value: source
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 11
                  file: 
                  value: source
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 12
                  file: 
                  value: target
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 12
                  file: 
                  value: target
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 13
                  file: 
                  value: force
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 13
                  file: 
                  value: force
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 14
                  file: 
                  value: staging_path
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 14
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 15
                  file: 
                  value: group
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 15
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 16
                  file: 
                  value: user
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 16
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 17
                  file: 
                  value: timeout
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 17
                  file: 
                  value: timeout
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 25
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 21
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 21
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 21
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 21
                  file: 
                  type: "Cloudeploy::Primitive::Deploy"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 21
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 21
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 21
                            file: 
                            value: file_upload_extract_node_
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 21
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 21
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 23
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 22
              file: 
              doc: ""
              name: create_resources
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 22
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 22
                    file: 
                    value: "::cloudeploy::primitive::deploy"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 22
                    file: 
                    value: vfile_upload_extract_node_202748122
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::default::file::upload"
  namespace: "cloudeploy::default::file"
  arguments: 
    source: !ruby/object:Puppet::Parser::AST::String
      line: 27
      file: 
      value: ""
    target: !ruby/object:Puppet::Parser::AST::String
      line: 27
      file: 
      value: ""
    force: !ruby/object:Puppet::Parser::AST::Boolean
      line: 27
      file: 
      value: true
    timeout: !ruby/object:Puppet::Parser::AST::Undef
      line: 27
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 44
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 28
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 28
          file: 
          value: vfile_upload_node_1881673365
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 42
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::Concat
              line: 29
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 29
                  file: 
                  value: file_upload_node_
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 29
                  file: 
                  value: name
                - !ruby/object:Puppet::Parser::AST::String
                  line: 29
                  file: 
                  value: ""
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 40
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 30
                  file: 
                  value: certificate
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 30
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 31
                  file: 
                  value: username
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 31
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 32
                  file: 
                  value: environment
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 32
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 33
                  file: 
                  value: wget_option
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 33
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 34
                  file: 
                  value: source
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 34
                  file: 
                  value: source
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 35
                  file: 
                  value: curl_option
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 35
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 36
                  file: 
                  value: target
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 36
                  file: 
                  value: target
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 37
                  file: 
                  value: force
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 37
                  file: 
                  value: force
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 38
                  file: 
                  value: subdir
                : !ruby/object:Puppet::Parser::AST::String
                  line: 38
                  file: 
                  value: cloudeploy
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 39
                  file: 
                  value: password
                : !ruby/object:Puppet::Parser::AST::Undef
                  line: 39
                  file: 
                  value: !ruby/sym undef
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 40
                  file: 
                  value: timeout
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 40
                  file: 
                  value: timeout
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 48
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 44
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 44
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 44
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 44
                  file: 
                  type: "Cloudeploy::Primitive::File"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 44
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 44
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 44
                            file: 
                            value: file_upload_node_
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 44
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 44
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 46
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 45
              file: 
              doc: ""
              name: create_resources
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 45
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 45
                    file: 
                    value: "::cloudeploy::primitive::file"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 45
                    file: 
                    value: vfile_upload_node_1881673365
              children: []
        children: []
  doc: ""
  line: 27
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::default::playframework::install"
  namespace: "cloudeploy::default::playframework"
  arguments: 
    source_username: !ruby/object:Puppet::Parser::AST::String
      line: 51
      file: 
      value: tcse
    target: !ruby/object:Puppet::Parser::AST::String
      line: 52
      file: 
      value: /opt
    play_source: !ruby/object:Puppet::Parser::AST::String
      line: 53
      file: 
      value: "ftp://133.133.133.40/exchange/cloudshare/pkgs/play-2.2.2.zip"
    source_password: !ruby/object:Puppet::Parser::AST::String
      line: 54
      file: 
      value: tcse
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 64
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 55
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 55
          file: 
          value: vplayframework_install_node_936333697
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 62
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::String
              line: 56
              file: 
              value: "cloudeploy::playframework::install"
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 61
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 57
                  file: 
                  value: source_username
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 57
                  file: 
                  value: source_username
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 58
                  file: 
                  value: target
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 58
                  file: 
                  value: target
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 59
                  file: 
                  value: source_password
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 59
                  file: 
                  value: source_password
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 60
                  file: 
                  value: play_source
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 60
                  file: 
                  value: play_source
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 68
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 64
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 64
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 64
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 64
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 64
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 64
                        file: 
                        value: "cloudeploy::playframework::install"
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 66
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 65
              file: 
              doc: ""
              name: create_resources
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 65
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 65
                    file: 
                    value: class
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 65
                    file: 
                    value: vplayframework_install_node_936333697
              children: []
        children: []
  doc: ""
  line: 50
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::default::playframework::service"
  namespace: "cloudeploy::default::playframework"
  arguments: 
    app_home: !ruby/object:Puppet::Parser::AST::String
      line: 71
      file: 
      value: ""
    app_port: !ruby/object:Puppet::Parser::AST::String
      line: 72
      file: 
      value: "9000"
    service_ensure: !ruby/object:Puppet::Parser::AST::Boolean
      line: 73
      file: 
      value: true
    playframwork_home: !ruby/object:Puppet::Parser::AST::String
      line: 74
      file: 
      value: /opt/play-2.2.2
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 84
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 75
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 75
          file: 
          value: vplayframework_service_node_1196849790
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 82
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::Concat
              line: 76
              file: 
              value: 
                - !ruby/object:Puppet::Parser::AST::String
                  line: 76
                  file: 
                  value: playframework_service_node_
                - !ruby/object:Puppet::Parser::AST::Variable
                  line: 76
                  file: 
                  value: name
                - !ruby/object:Puppet::Parser::AST::String
                  line: 76
                  file: 
                  value: ""
            : !ruby/object:Puppet::Parser::AST::ASTHash
              line: 81
              file: 
              value: 
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 77
                  file: 
                  value: app_home
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 77
                  file: 
                  value: app_home
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 78
                  file: 
                  value: app_port
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 78
                  file: 
                  value: app_port
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 79
                  file: 
                  value: service_ensure
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 79
                  file: 
                  value: service_ensure
                ? !ruby/object:Puppet::Parser::AST::String
                  line: 80
                  file: 
                  value: playframwork_home
                : !ruby/object:Puppet::Parser::AST::Variable
                  line: 80
                  file: 
                  value: playframwork_home
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 88
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 84
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 84
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 84
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 84
                  file: 
                  type: "Cloudeploy::Playframework::Service"
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 84
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 84
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 84
                            file: 
                            value: playframework_service_node_
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 84
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 84
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 86
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 85
              file: 
              doc: ""
              name: create_resources
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 85
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 85
                    file: 
                    value: "::cloudeploy::playframework::service"
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 85
                    file: 
                    value: vplayframework_service_node_1196849790
              children: []
        children: []
  doc: ""
  line: 70
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::tomcat::config"
  namespace: "cloudeploy::tomcat"
  arguments: 
    catalina_base: 
    shutdownPort: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "8005"
    http_connector_port: !ruby/object:Puppet::Parser::AST::String
      line: 4
      file: 
      value: "8080"
    http_connector_redirectPort: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: "8443"
    http_connector_protocol: !ruby/object:Puppet::Parser::AST::String
      line: 6
      file: 
      value: HTTP/1.1
    http_connector_additional_attributes: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 7
      file: 
      value: {}
    ajp_connector_port: !ruby/object:Puppet::Parser::AST::String
      line: 8
      file: 
      value: "8009"
    ajp_connector_redirectPort: !ruby/object:Puppet::Parser::AST::String
      line: 9
      file: 
      value: "8443"
    ajp_connector_additional_attributes: !ruby/object:Puppet::Parser::AST::ASTHash
      line: 10
      file: 
      value: {}
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 17
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 17
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 12
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 12
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 12
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 12
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 12
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 12
                        file: 
                        value: tomcat
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 16
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 15
              file: 
              doc: ""
              type: class
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 15
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 15
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::String
                      line: 13
                      file: 
                      value: tomcat
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 14
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 14
                          file: 
                          param: purge_connectors
                          value: !ruby/object:Puppet::Parser::AST::Boolean
                            line: 14
                            file: 
                            value: true
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 17
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 17
          file: 
          value: default_http_connector_additional_attributes
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 18
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::String
              line: 18
              file: 
              value: redirectPort
            : !ruby/object:Puppet::Parser::AST::Variable
              line: 18
              file: 
              value: http_connector_redirectPort
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 20
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 20
          file: 
          value: http_filtered_options
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 20
          file: 
          doc: ""
          name: mysql_strip_hash
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 20
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 20
                file: 
                value: http_connector_additional_attributes
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 21
        file: 
        doc: ""
        name: validate_hash
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 21
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 21
              file: 
              value: http_filtered_options
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 22
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 22
          file: 
          value: http_connector_options
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 22
          file: 
          doc: ""
          name: mysql_deepmerge
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 22
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 22
                file: 
                value: default_http_connector_additional_attributes
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 22
                file: 
                value: http_filtered_options
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 24
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 24
          file: 
          value: default_ajp_connector_additional_attributes
        value: !ruby/object:Puppet::Parser::AST::ASTHash
          line: 26
          file: 
          value: 
            ? !ruby/object:Puppet::Parser::AST::String
              line: 25
              file: 
              value: redirectPort
            : !ruby/object:Puppet::Parser::AST::Variable
              line: 25
              file: 
              value: ajp_connector_redirectPort
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 27
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 27
          file: 
          value: ajp_filtered_options
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 27
          file: 
          doc: ""
          name: mysql_strip_hash
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 27
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 27
                file: 
                value: default_ajp_connector_additional_attributes
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Function
        ftype: !ruby/sym statement
        line: 28
        file: 
        doc: ""
        name: validate_hash
        arguments: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 28
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Variable
              line: 28
              file: 
              value: ajp_filtered_options
        children: []
      - !ruby/object:Puppet::Parser::AST::VarDef
        line: 29
        file: 
        doc: ""
        name: !ruby/object:Puppet::Parser::AST::Name
          line: 29
          file: 
          value: ajp_connector_options
        value: !ruby/object:Puppet::Parser::AST::Function
          ftype: !ruby/sym rvalue
          line: 29
          file: 
          doc: ""
          name: mysql_deepmerge
          arguments: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 29
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 29
                file: 
                value: default_ajp_connector_additional_attributes
              - !ruby/object:Puppet::Parser::AST::Variable
                line: 29
                file: 
                value: ajp_filtered_options
          children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Relationship
        line: 48
        file: 
        children: []
        left: !ruby/object:Puppet::Parser::AST::Relationship
          line: 41
          file: 
          children: []
          left: !ruby/object:Puppet::Parser::AST::Resource
            line: 34
            file: 
            doc: ""
            type: "tomcat::config::server"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 34
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 34
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::Concat
                    line: 31
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 31
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 31
                        file: 
                        value: name
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 31
                        file: 
                        value: "-tomcat"
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 32
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 32
                        file: 
                        param: catalina_base
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 32
                          file: 
                          value: catalina_base
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 33
                        file: 
                        param: port
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 33
                          file: 
                          value: shutdownPort
                        children: []
                  children: []
            children: []
          right: !ruby/object:Puppet::Parser::AST::Resource
            line: 41
            file: 
            doc: ""
            type: "tomcat::config::server::connector"
            instances: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 41
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceInstance
                  line: 41
                  file: 
                  title: !ruby/object:Puppet::Parser::AST::Concat
                    line: 36
                    file: 
                    value: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 36
                        file: 
                        value: ""
                      - !ruby/object:Puppet::Parser::AST::Variable
                        line: 36
                        file: 
                        value: name
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 36
                        file: 
                        value: "-tomcat-http"
                  parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 37
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 37
                        file: 
                        param: catalina_base
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 37
                          file: 
                          value: catalina_base
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 38
                        file: 
                        param: port
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 38
                          file: 
                          value: http_connector_port
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 39
                        file: 
                        param: protocol
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 39
                          file: 
                          value: http_connector_protocol
                        children: []
                      - !ruby/object:Puppet::Parser::AST::ResourceParam
                        line: 40
                        file: 
                        param: additional_attributes
                        value: !ruby/object:Puppet::Parser::AST::Variable
                          line: 40
                          file: 
                          value: http_connector_options
                        children: []
                  children: []
            children: []
          arrow: "->"
        right: !ruby/object:Puppet::Parser::AST::Resource
          line: 48
          file: 
          doc: ""
          type: "tomcat::config::server::connector"
          instances: !ruby/object:Puppet::Parser::AST::ASTArray
            line: 48
            file: 
            children: 
              - !ruby/object:Puppet::Parser::AST::ResourceInstance
                line: 48
                file: 
                title: !ruby/object:Puppet::Parser::AST::Concat
                  line: 43
                  file: 
                  value: 
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 43
                      file: 
                      value: ""
                    - !ruby/object:Puppet::Parser::AST::Variable
                      line: 43
                      file: 
                      value: name
                    - !ruby/object:Puppet::Parser::AST::String
                      line: 43
                      file: 
                      value: "-tomcat-ajp"
                parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 44
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 44
                      file: 
                      param: catalina_base
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 44
                        file: 
                        value: catalina_base
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 45
                      file: 
                      param: port
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 45
                        file: 
                        value: ajp_connector_port
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 46
                      file: 
                      param: protocol
                      value: !ruby/object:Puppet::Parser::AST::String
                        line: 46
                        file: 
                        value: AJP/1.3
                      children: []
                    - !ruby/object:Puppet::Parser::AST::ResourceParam
                      line: 47
                      file: 
                      param: additional_attributes
                      value: !ruby/object:Puppet::Parser::AST::Variable
                        line: 47
                        file: 
                        value: ajp_connector_options
                      children: []
                children: []
          children: []
        arrow: "->"
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::tomcat::install"
  namespace: "cloudeploy::tomcat"
  arguments: 
    catalina_base: !ruby/object:Puppet::Parser::AST::String
      line: 2
      file: 
      value: /opt/apache-tomcat/tomcat
    source_url: !ruby/object:Puppet::Parser::AST::String
      line: 3
      file: 
      value: "http://archive.apache.org/dist/tomcat/tomcat-8/v8.0.9/bin/apache-tomcat-8.0.9.tar.gz"
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 15
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 15
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 5
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 5
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 5
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 5
                  file: 
                  type: Class
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 5
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::String
                        line: 5
                        file: 
                        value: tomcat
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 13
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Relationship
              line: 11
              file: 
              children: []
              left: !ruby/object:Puppet::Parser::AST::Resource
                line: 6
                file: 
                doc: ""
                type: notify
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 6
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 6
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::Concat
                        line: 6
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 6
                            file: 
                            value: "cloudeploy::tomcat::install--"
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 6
                            file: 
                            value: name
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 6
                            file: 
                            value: "  start"
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 6
                        file: 
                        children: []
                      children: []
                children: []
              right: !ruby/object:Puppet::Parser::AST::Resource
                line: 11
                file: 
                doc: ""
                type: class
                instances: !ruby/object:Puppet::Parser::AST::ASTArray
                  line: 11
                  file: 
                  children: 
                    - !ruby/object:Puppet::Parser::AST::ResourceInstance
                      line: 11
                      file: 
                      title: !ruby/object:Puppet::Parser::AST::String
                        line: 7
                        file: 
                        value: tomcat
                      parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                        line: 8
                        file: 
                        children: 
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 8
                            file: 
                            param: user
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 8
                              file: 
                              value: root
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 9
                            file: 
                            param: group
                            value: !ruby/object:Puppet::Parser::AST::String
                              line: 9
                              file: 
                              value: root
                            children: []
                          - !ruby/object:Puppet::Parser::AST::ResourceParam
                            line: 10
                            file: 
                            param: purge_connectors
                            value: !ruby/object:Puppet::Parser::AST::Boolean
                              line: 10
                              file: 
                              value: true
                            children: []
                      children: []
                children: []
              arrow: "->"
        children: []
      - !ruby/object:Puppet::Parser::AST::IfStatement
        line: 24
        file: 
        doc: ""
        test: !ruby/object:Puppet::Parser::AST::Not
          line: 15
          file: 
          value: !ruby/object:Puppet::Parser::AST::Function
            ftype: !ruby/sym rvalue
            line: 15
            file: 
            doc: ""
            name: defined
            arguments: !ruby/object:Puppet::Parser::AST::ASTArray
              line: 15
              file: 
              children: 
                - !ruby/object:Puppet::Parser::AST::ResourceReference
                  line: 15
                  file: 
                  type: Exec
                  title: !ruby/object:Puppet::Parser::AST::ASTArray
                    line: 15
                    file: 
                    children: 
                      - !ruby/object:Puppet::Parser::AST::Concat
                        line: 15
                        file: 
                        value: 
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 15
                            file: 
                            value: mkdir_
                          - !ruby/object:Puppet::Parser::AST::Variable
                            line: 15
                            file: 
                            value: catalina_base
                          - !ruby/object:Puppet::Parser::AST::String
                            line: 15
                            file: 
                            value: ""
                  children: []
            children: []
          children: []
        statements: !ruby/object:Puppet::Parser::AST::BlockExpression
          line: 17
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::Function
              ftype: !ruby/sym statement
              line: 16
              file: 
              doc: ""
              name: validate_absolute_path
              arguments: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 16
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 16
                    file: 
                    value: catalina_base
              children: []
            - !ruby/object:Puppet::Parser::AST::Resource
              line: 22
              file: 
              doc: ""
              type: exec
              instances: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 22
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceInstance
                    line: 22
                    file: 
                    title: !ruby/object:Puppet::Parser::AST::Concat
                      line: 17
                      file: 
                      value: 
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 17
                          file: 
                          value: mkdir_p-
                        - !ruby/object:Puppet::Parser::AST::Variable
                          line: 17
                          file: 
                          value: catalina_base
                        - !ruby/object:Puppet::Parser::AST::String
                          line: 17
                          file: 
                          value: ""
                    parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                      line: 18
                      file: 
                      children: 
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 18
                          file: 
                          param: command
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 18
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 18
                                file: 
                                value: "mkdir -p "
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 18
                                file: 
                                value: catalina_base
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 18
                                file: 
                                value: ""
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 19
                          file: 
                          param: unless
                          value: !ruby/object:Puppet::Parser::AST::Concat
                            line: 19
                            file: 
                            value: 
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 19
                                file: 
                                value: "test -d "
                              - !ruby/object:Puppet::Parser::AST::Variable
                                line: 19
                                file: 
                                value: catalina_base
                              - !ruby/object:Puppet::Parser::AST::String
                                line: 19
                                file: 
                                value: ""
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 20
                          file: 
                          param: path
                          value: !ruby/object:Puppet::Parser::AST::String
                            line: 20
                            file: 
                            value: "/bin:/usr/bin"
                          children: []
                        - !ruby/object:Puppet::Parser::AST::ResourceParam
                          line: 21
                          file: 
                          param: before
                          value: !ruby/object:Puppet::Parser::AST::ResourceReference
                            line: 21
                            file: 
                            type: "Tomcat::Instance"
                            title: !ruby/object:Puppet::Parser::AST::ASTArray
                              line: 21
                              file: 
                              children: 
                                - !ruby/object:Puppet::Parser::AST::Variable
                                  line: 21
                                  file: 
                                  value: name
                            children: []
                          children: []
                    children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 27
        file: 
        doc: ""
        type: "tomcat::instance"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 27
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 27
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 24
                file: 
                value: name
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 25
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 25
                    file: 
                    param: catalina_base
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 25
                      file: 
                      value: catalina_base
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 26
                    file: 
                    param: source_url
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 26
                      file: 
                      value: source_url
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
--- !ruby/object:Puppet::Resource::Type
  type: !ruby/sym definition
  name: "cloudeploy::tomcat::war"
  namespace: "cloudeploy::tomcat"
  arguments: 
    catalina_base: !ruby/object:Puppet::Parser::AST::Variable
      line: 2
      file: 
      value: "::tomcat::catalina_home"
    app_base: !ruby/object:Puppet::Parser::AST::Undef
      line: 3
      file: 
      value: !ruby/sym undef
    deployment_path: !ruby/object:Puppet::Parser::AST::Undef
      line: 4
      file: 
      value: !ruby/sym undef
    war_ensure: !ruby/object:Puppet::Parser::AST::String
      line: 5
      file: 
      value: present
    war_name: !ruby/object:Puppet::Parser::AST::Undef
      line: 6
      file: 
      value: !ruby/sym undef
    war_purge: !ruby/object:Puppet::Parser::AST::Boolean
      line: 7
      file: 
      value: true
    war_source: !ruby/object:Puppet::Parser::AST::Undef
      line: 8
      file: 
      value: !ruby/sym undef
  argument_types: {}
  match: 
  module_name: ""
  code: !ruby/object:Puppet::Parser::AST::BlockExpression
    line: 11
    file: 
    children: 
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 10
        file: 
        doc: ""
        type: notify
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 10
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 10
              file: 
              title: !ruby/object:Puppet::Parser::AST::Concat
                line: 10
                file: 
                value: 
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 10
                    file: 
                    value: ""
                  - !ruby/object:Puppet::Parser::AST::Variable
                    line: 10
                    file: 
                    value: catalina_base
                  - !ruby/object:Puppet::Parser::AST::String
                    line: 10
                    file: 
                    value: ""
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 10
                file: 
                children: []
              children: []
        children: []
      - !ruby/object:Puppet::Parser::AST::Resource
        line: 19
        file: 
        doc: ""
        type: "::tomcat::war"
        instances: !ruby/object:Puppet::Parser::AST::ASTArray
          line: 19
          file: 
          children: 
            - !ruby/object:Puppet::Parser::AST::ResourceInstance
              line: 19
              file: 
              title: !ruby/object:Puppet::Parser::AST::Variable
                line: 11
                file: 
                value: war_name
              parameters: !ruby/object:Puppet::Parser::AST::ASTArray
                line: 12
                file: 
                children: 
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 12
                    file: 
                    param: catalina_base
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 12
                      file: 
                      value: catalina_base
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 13
                    file: 
                    param: app_base
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 13
                      file: 
                      value: app_base
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 14
                    file: 
                    param: deployment_path
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 14
                      file: 
                      value: deployment_path
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 15
                    file: 
                    param: war_ensure
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 15
                      file: 
                      value: war_ensure
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 16
                    file: 
                    param: war_name
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 16
                      file: 
                      value: war_name
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 17
                    file: 
                    param: war_purge
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 17
                      file: 
                      value: war_purge
                    children: []
                  - !ruby/object:Puppet::Parser::AST::ResourceParam
                    line: 18
                    file: 
                    param: war_source
                    value: !ruby/object:Puppet::Parser::AST::Variable
                      line: 18
                      file: 
                      value: war_source
                    children: []
              children: []
        children: []
  doc: ""
  line: 1
